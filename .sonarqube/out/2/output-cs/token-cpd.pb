ññ
PC:\HeroSystem\walletService\WalletService.Data\Adapters\AccountServiceAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
;% &
public 
class !
AccountServiceAdapter "
:# $
BaseAdapter% 0
,0 1"
IAccountServiceAdapter2 H
{ 
public 
!
AccountServiceAdapter  
(  !
IOptions 
< $
ApplicationConfiguration )
>) *
appSettings+ 6
)6 7
:8 9
base: >
(> ?
appSettings? J
)J K
{L M
}N O
	protected 
override 
string 
? 
GetServiceUrl ,
(, -
)- .
=> 

AppSettings 
. 
	Endpoints  
?  !
.! "
AccountServiceURL" 3
;3 4
	protected 
override 
string 
? 
GetTokenUrl *
(* +
)+ ,
=> 

AppSettings 
. 
EndpointTokens %
?% &
.& '
AccountServiceToken' :
;: ;
	protected 
override 
string 
? 
GetWebToken *
(* +
long+ /
brandId0 7
)7 8
{ 
return 
brandId 
switch 
{ 	
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
EcosystemToken( 6
,6 7
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
RecyCoinToken( 5
,5 6
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
HouseCoinToken( 6
,6 7
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
ExitoJuntosToken( 8
,8 9
_   
=>   
null   
}!! 	
;!!	 

}"" 
public$$ 

Task$$ 
<$$ 
IRestResponse$$ 
>$$ 
VerificationCode$$ /
($$/ 0
string$$0 6
code$$7 ;
,$$; <
string$$= C
password$$D L
,$$L M
int$$N Q
userId$$R X
,$$X Y
long$$Z ^
brandId$$_ f
)$$f g
{%% 
var&& !
requestValidationCode&& !
=&&" #
new&&$ '!
RequestValidationCode&&( =
{'' 	
Code(( 
=(( 
code(( 
,(( 
Password)) 
=)) 
password)) 
,))  
UserId** 
=** 
userId** 
}++ 	
;++	 

return-- 
Post-- 
(-- 
$str-- 8
,--8 9!
requestValidationCode--: O
.--O P
ToJsonString--P \
(--\ ]
)--] ^
,--^ _
brandId--_ f
)--f g
;--g h
}.. 
public00 

Task00 
<00 
IRestResponse00 
>00  
GetAccountsToEcoPool00 3
(003 4
int004 7
[007 8
]008 9
id00: <
,00< =
int00> A
levels00B H
,00H I
long00J N
brandId00O V
)00V W
{11 
var22 
json22 
=22 
new22 
{33 	
AffiliatesIds44 
=44 
id44 
,44 
Levels55 
=55 
levels55 "
}66 	
.66	 

ToJsonString66
 
(66 
)66 
;66 
return88 
Post88 
(88 
$"88 
$str88 ?
"88? @
,88@ A
json88B F
,88F G
brandId88H O
)88O P
;88P Q
}99 
public;; 

Task;; 
<;; 
IRestResponse;; 
>;;  
UpdateActivationDate;; 3
(;;3 4
int;;4 7
id;;8 :
,;;: ;
long;;< @
brandId;;A H
);;H I
{<< 
return== 
Put== 
(== 
$"== 
$str== ?
{==? @
id==@ B
}==B C
$str==C D
"==D E
,==E F
brandId==G N
)==N O
;==O P
}>> 
public@@ 

Task@@ 
<@@ 
IRestResponse@@ 
>@@  
RevertActivationUser@@ 3
(@@3 4
int@@4 7
id@@8 :
,@@: ;
long@@< @
brandId@@A H
)@@H I
{AA 
returnBB 
PutBB 
(BB 
$"BB 
$strBB :
{BB: ;
idBB; =
}BB= >
$strBB> ?
"BB? @
,BB@ A
brandIdBBB I
)BBI J
;BBJ K
}CC 
publicDD 

TaskDD 
<DD 
IRestResponseDD 
>DD !
GetTotalActiveMembersDD 4
(DD4 5
longDD5 9
brandIdDD: A
)DDA B
{EE 
returnFF 
GetFF 
(FF 
$"FF 
$strFF >
"FF> ?
,FF? @
newFFA D

DictionaryFFE O
<FFO P
stringFFP V
,FFV W
stringFFX ^
>FF^ _
(FF_ `
)FF` a
,FFa b
brandIdFFc j
)FFj k
;FFk l
}GG 
publicII 

asyncII 
TaskII 
<II 
IRestResponseII #
>II# $
UpdateGradingByUserII% 8
(II8 9
intII9 <
userIdII= C
,IIC D
intIIE H
	gradingIdIII R
,IIR S
longIIT X
brandIdIIY `
)II` a
{JJ 
tryKK 
{LL 	
varMM 
responseMM 
=MM 
awaitMM  
PutMM! $
(MM$ %
$"MM% '
$strMM' I
{MMI J
userIdMMJ P
}MMP Q
$strMMQ R
{MMR S
	gradingIdMMS \
}MM\ ]
"MM] ^
,MM^ _
brandIdMM_ f
)MMf g
;MMg h
returnNN 
responseNN 
;NN 
}OO 	
catchPP 
(PP 
	ExceptionPP 
ePP 
)PP 
{QQ 	
ConsoleRR 
.RR 
	WriteLineRR 
(RR 
eRR 
)RR  
;RR  !
throwSS 
;SS 
}TT 	
}UU 
publicWW 

TaskWW 
<WW 
IRestResponseWW 
>WW 
GetHave2ChildrenWW /
(WW/ 0
intWW0 3
[WW3 4
]WW4 5
usersWWL Q
,WWQ R
longWWS W
brandIdWWX _
)WW_ `
{XX 
varYY 
dataYY 
=YY 
newYY 

DictionaryYY !
<YY! "
stringYY" (
,YY( )
objectYY* 0
>YY0 1
{ZZ 	
{[[ 
$str[[ 
,[[ 
users[[ 
}[[ 
}\\ 	
.\\	 

ToJsonString\\
 
(\\ 
)\\ 
;\\ 
return^^ 
Post^^ 
(^^ 
$"^^ 
$str^^ .
"^^. /
,^^/ 0
data^^1 5
,^^5 6
brandId^^7 >
)^^> ?
;^^? @
}__ 
publicaa 

Taskaa 
<aa 
IRestResponseaa 
>aa 
GetTreeModel4aa ,
(aa, -

Dictionaryaa- 7
<aa7 8
intaa8 ;
,aa; <
decimalaa= D
>aaD E

dictionaryaaL V
,aaV W
longaaX \
brandIdaa] d
)aad e
{bb 
varcc 
jsoncc 
=cc 

dictionarycc 
.cc 
ToJsonStringcc *
(cc* +
)cc+ ,
;cc, -
returndd 
Postdd 
(dd 
$"dd 
$strdd 8
"dd8 9
,dd9 :
jsondd; ?
,dd? @
brandIdddA H
)ddH I
;ddI J
}ee 
publicgg 

Taskgg 
<gg 
IRestResponsegg 
>gg 
AddTreeModel5gg ,
(gg, -
IEnumerablegg- 8
<gg8 9
LeaderBoardModel5gg9 J
>ggJ K
leaderBoardggL W
,ggW X
longggY ]
brandIdgg^ e
)gge f
{hh 
returnii 
Postii 
(ii 
$"ii 
$strii 2
"ii2 3
,ii3 4
leaderBoardii5 @
.ii@ A
ToJsonStringiiA M
(iiM N
)iiN O
,iiO P
brandIdiiQ X
)iiX Y
;iiY Z
}jj 
publicll 

Taskll 
<ll 
IRestResponsell 
>ll 
AddTreeModel6ll ,
(ll, -
IEnumerablell- 8
<ll8 9
LeaderBoardModel6ll9 J
>llJ K
leaderBoardllL W
,llX Y
longllZ ^
brandIdll_ f
)llf g
{mm 
returnnn 
Postnn 
(nn 
$"nn 
$strnn 2
"nn2 3
,nn3 4
leaderBoardnn5 @
.nn@ A
ToJsonStringnnA M
(nnM N
)nnN O
,nnO P
brandIdnnQ X
)nnX Y
;nnY Z
}oo 
publicqq 

Taskqq 
<qq 
IRestResponseqq 
>qq 
DeleteTreeModel6qq /
(qq/ 0
longqq0 4
brandIdqq5 <
)qq< =
{rr 
returnss 
Postss 
(ss 
$"ss 
$strss 5
"ss5 6
,ss6 7
newss8 ;

Dictionaryss< F
<ssF G
stringssG M
,ssM N
stringssN T
>ssT U
(ssU V
)ssV W
.ssW X
ToJsonStringssX d
(ssd e
)sse f
,ssf g
brandIdssh o
)sso p
;ssp q
}tt 
publicvv 

Taskvv 
<vv 
IRestResponsevv 
>vv 
DeleteTreeModel5vv /
(vv/ 0
longvv0 4
brandIdvv5 <
)vv< =
{ww 
returnxx 
Postxx 
(xx 
$"xx 
$strxx 5
"xx5 6
,xx6 7
newxx8 ;

Dictionaryxx< F
<xxF G
stringxxG M
,xxM N
stringxxN T
>xxT U
(xxU V
)xxV W
.xxW X
ToJsonStringxxX d
(xxd e
)xxe f
,xxf g
brandIdxxh o
)xxo p
;xxp q
}yy 
public{{ 

async{{ 
Task{{ 
<{{ 
UserInfoResponse{{ &
?{{& '
>{{' (
GetUserInfo{{) 4
({{4 5
int{{5 8
id{{9 ;
,{{; <
long{{= A
brandId{{B I
){{I J
{|| 
var}} 
response}} 
=}} 
await}} 
Get}}  
(}}  !
$"}}! #
$str}}# B
{}}B C
id}}C E
}}}E F
$str}}F G
"}}G H
,}}H I
new}}J M

Dictionary}}N X
<}}X Y
string}}Y _
,}}_ `
string}}a g
>}}g h
(}}h i
)}}i j
,}}j k
brandId}}l s
)}}s t
;}}t u
if~~ 

(~~ 
!~~ 
response~~ 
.~~ 
IsSuccessful~~ "
)~~" #
throw 
new 
	Exception 
(  
$str  E
)E F
;F G
if
ÅÅ 

(
ÅÅ 
string
ÅÅ 
.
ÅÅ 
IsNullOrEmpty
ÅÅ  
(
ÅÅ  !
response
ÅÅ! )
.
ÅÅ) *
Content
ÅÅ* 1
)
ÅÅ1 2
)
ÅÅ2 3
throw
ÇÇ 
new
ÇÇ 
	Exception
ÇÇ 
(
ÇÇ  
$str
ÇÇ  C
)
ÇÇC D
;
ÇÇD E
var
ÑÑ 
userInfo
ÑÑ 
=
ÑÑ 
NewtonsoftJson
ÑÑ %
.
ÑÑ% &
JsonConvert
ÑÑ& 1
.
ÑÑ1 2
DeserializeObject
ÑÑ2 C
<
ÑÑC D#
UserAffiliateResponse
ÑÑD Y
>
ÑÑY Z
(
ÑÑZ [
response
ÑÑ[ c
.
ÑÑc d
Content
ÑÑd k
)
ÑÑk l
;
ÑÑl m
if
ÜÜ 

(
ÜÜ 
userInfo
ÜÜ 
?
ÜÜ 
.
ÜÜ 
Data
ÜÜ 
is
ÜÜ 
null
ÜÜ "
)
ÜÜ" #
return
áá 
null
áá 
;
áá 
var
ââ 
userInfoResponse
ââ 
=
ââ 
new
ââ "
UserInfoResponse
ââ# 3
{
ää 	
Id
ãã 
=
ãã  !
userInfo
ãã" *
.
ãã* +
Data
ãã+ /
.
ãã/ 0
Id
ãã0 2
,
ãã2 3
Name
åå 
=
åå  !
userInfo
åå" *
.
åå* +
Data
åå+ /
?
åå/ 0
.
åå0 1
Name
åå1 5
,
åå5 6
UserName
çç 
=
çç  !
userInfo
çç" *
.
çç* +
Data
çç+ /
?
çç/ 0
.
çç0 1
UserName
çç1 9
,
çç9 :
Country
éé 
=
éé  !
userInfo
éé" *
.
éé* +
Data
éé+ /
?
éé/ 0
.
éé0 1
Country
éé1 8
,
éé8 9
LastName
èè 
=
èè  !
userInfo
èè" *
.
èè* +
Data
èè+ /
?
èè/ 0
.
èè0 1
LastName
èè1 9
,
èè9 :
City
êê 
=
êê  !
userInfo
êê" *
.
êê* +
Data
êê+ /
?
êê/ 0
.
êê0 1
City
êê1 5
,
êê5 6
Phone
ëë 
=
ëë  !
userInfo
ëë" *
.
ëë* +
Data
ëë+ /
?
ëë/ 0
.
ëë0 1
Phone
ëë1 6
,
ëë6 7
Email
íí 
=
íí  !
userInfo
íí" *
.
íí* +
Data
íí+ /
?
íí/ 0
.
íí0 1
Email
íí1 6
,
íí6 7
Address
ìì 
=
ìì  !
userInfo
ìì" *
.
ìì* +
Data
ìì+ /
?
ìì/ 0
.
ìì0 1
Address
ìì1 8
,
ìì8 9!
CardIdAuthorization
îî 
=
îî  !
userInfo
îî" *
.
îî* +
Data
îî+ /
?
îî/ 0
.
îî0 1!
CardIdAuthorization
îî1 D
,
îîD E
Father
ïï 
=
ïï  !
userInfo
ïï" *
.
ïï* +
Data
ïï+ /
!
ïï/ 0
.
ïï0 1
Father
ïï1 7
,
ïï7 8
}
ññ 	
;
ññ	 

return
òò 
userInfoResponse
òò 
;
òò  
}
ôô 
public
õõ 

async
õõ 
Task
õõ 
<
õõ $
NetworkDetailsResponse
õõ ,
>
õõ, -
NetworkDetails
õõ. <
(
õõ< =
int
õõ= @
id
õõA C
,
õõC D
long
õõE I
brandId
õõJ Q
)
õõQ R
{
úú 
var
ùù 
response
ùù 
=
ùù 
await
ùù 
Get
ùù  
(
ùù  !
$"
ùù! #
$str
ùù# H
{
ùùH I
id
ùùI K
}
ùùK L
"
ùùL M
,
ùùM N
new
ùùO R

Dictionary
ùùS ]
<
ùù] ^
string
ùù^ d
,
ùùd e
string
ùùf l
>
ùùl m
(
ùùm n
)
ùùn o
,
ùùo p
brandId
ùùq x
)
ùùx y
;
ùùy z
if
ûû 

(
ûû 
!
ûû 
response
ûû 
.
ûû 
IsSuccessful
ûû "
)
ûû" #
throw
üü 
new
üü 
	Exception
üü 
(
üü  
$str
üü  E
)
üüE F
;
üüF G
if
°° 

(
°° 
string
°° 
.
°° 
IsNullOrEmpty
°°  
(
°°  !
response
°°! )
.
°°) *
Content
°°* 1
)
°°1 2
)
°°2 3
throw
¢¢ 
new
¢¢ 
	Exception
¢¢ 
(
¢¢  
$str
¢¢  >
)
¢¢> ?
;
¢¢? @
var
§§ 
networkDetails
§§ 
=
§§ 
response
§§ %
.
§§% &
Content
§§& -
.
§§- .
ToJsonObject
§§. :
<
§§: ;$
NetworkDetailsResponse
§§; Q
>
§§Q R
(
§§R S
)
§§S T
!
§§T U
;
§§U V
return
¶¶ 
networkDetails
¶¶ 
;
¶¶ 
}
ßß 
public
©© 

Task
©© 
<
©© 
IRestResponse
©© 
>
©© $
GetAffiliateByUserName
©© 5
(
©©5 6
string
©©6 <
userName
©©= E
,
©©E F
long
©©G K
brandId
©©L S
)
©©S T
=>
™™ 

Get
™™ 
(
™™ 
$"
™™ 
$str
™™ 6
{
™™6 7
userName
™™7 ?
}
™™? @
$str
™™@ A
"
™™A B
,
™™B C
new
™™D G

Dictionary
™™H R
<
™™R S
string
™™S Y
,
™™Y Z
string
™™[ a
>
™™a b
(
™™b c
)
™™c d
,
™™d e
brandId
™™f m
)
™™m n
;
™™n o
public
¨¨ 

Task
¨¨ 
<
¨¨ 
IRestResponse
¨¨ 
>
¨¨  
GetPersonalNetwork
¨¨ 1
(
¨¨1 2
int
¨¨2 5
id
¨¨6 8
,
¨¨8 9
long
¨¨: >
brandId
¨¨? F
)
¨¨F G
=>
≠≠ 

Get
≠≠ 
(
≠≠ 
$"
≠≠ 
$str
≠≠ 7
{
≠≠7 8
id
≠≠8 :
}
≠≠: ;
$str
≠≠; <
"
≠≠< =
,
≠≠= >
new
≠≠? B

Dictionary
≠≠C M
<
≠≠M N
string
≠≠N T
,
≠≠T U
string
≠≠V \
>
≠≠\ ]
(
≠≠] ^
)
≠≠^ _
,
≠≠_ `
brandId
≠≠a h
)
≠≠h i
;
≠≠i j
public
ØØ 

Task
ØØ 
<
ØØ 
IRestResponse
ØØ 
>
ØØ *
GetAffiliateBtcByAffiliateId
ØØ ;
(
ØØ; <
int
ØØ< ?
affiliateId
ØØ@ K
,
ØØK L
long
ØØM Q
brandId
ØØR Y
)
ØØY Z
=>
∞∞ 

Get
∞∞ 
(
∞∞ 
$"
∞∞ 
$str
∞∞ A
{
∞∞A B
affiliateId
∞∞B M
.
∞∞M N
ToJsonString
∞∞N Z
(
∞∞Z [
)
∞∞[ \
}
∞∞\ ]
$str
∞∞] ^
"
∞∞^ _
,
∞∞_ `
new
∞∞a d

Dictionary
∞∞e o
<
∞∞o p
string
∞∞p v
,
∞∞v w
string
∞∞x ~
>
∞∞~ 
(∞∞ Ä
)∞∞Ä Å
,∞∞Å Ç
brandId∞∞É ä
)∞∞ä ã
;∞∞ã å
}±± í<
FC:\HeroSystem\walletService\WalletService.Data\Adapters\BaseAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
;% &
public 
abstract 
class 
BaseAdapter !
{		 
	protected

 
readonly

 $
ApplicationConfiguration

 /
AppSettings

0 ;
;

; <
	protected 
BaseAdapter 
( 
IOptions "
<" #$
ApplicationConfiguration# ;
>; <
appSettings= H
)H I
{ 
AppSettings 
= 
appSettings '
.' (
Value( -
;- .
} 
	protected 
abstract 
string 
? 
GetServiceUrl ,
(, -
)- .
;. /
	protected 
abstract 
string 
? 
GetTokenUrl *
(* +
)+ ,
;, -
	protected 
abstract 
string 
? 
GetWebToken *
(* +
long+ /
brandId0 7
)7 8
;8 9
	protected 
async 
Task 
< 
baseResponse %
.% &
IRestResponse& 3
>3 4
Get5 8
(8 9
string9 ?
path@ D
,D E

DictionaryF P
<P Q
stringQ W
,W X
stringY _
>_ `
?` a
queryParamsb m
,m n
longo s
brandIdt {
){ |
{ 
var 
client 
= 
new 

RestClient $
($ %
GetServiceUrl% 2
(2 3
)3 4
!4 5
)5 6
;6 7
var 
request 
= 
new 
RestRequest %
(% &
path& *
)* +
;+ ,
request 
. 
	AddHeader 
( 
$str "
," #
$str$ 6
)6 7
;7 8
request 
. 
	AddHeader 
( 
$str )
,) *
GetTokenUrl+ 6
(6 7
)7 8
!8 9
)9 :
;: ;
request 
. 
	AddHeader 
( 
$str '
,' (
GetWebToken( 3
(3 4
brandId4 ;
); <
!< =
)= >
;> ?
var 
response 
= 
await 
client #
.# $
ExecuteAsync$ 0
(0 1
request1 8
)8 9
;9 :
return   
new   
baseResponse   
.    
RestResponse    ,
{!! 	
Content"" 
="" 
response"" !
.""! "
Content""" )
,"") *

StatusCode## 
=## 
response## !
.##! "

StatusCode##" ,
}$$ 	
;$$	 

}%% 
	protected'' 
async'' 
Task'' 
<'' 
baseResponse'' %
.''% &
IRestResponse''& 3
>''3 4
Post''5 9
(''9 :
string'': @
path''A E
,''E F
string''G M
data''N R
,''R S
long''T X
brandId''Y `
)''` a
{(( 
var)) 
client)) 
=)) 
new)) 

RestClient)) $
())$ %
GetServiceUrl))% 2
())2 3
)))3 4
!))4 5
)))5 6
;))6 7
var** 
request** 
=** 
new** 
RestRequest** %
(**% &
path**& *
,*** +
Method**, 2
.**2 3
Post**3 7
)**7 8
;**8 9
request++ 
.++ 
	AddHeader++ 
(++ 
$str++ "
,++" #
$str++$ 6
)++6 7
;++7 8
request,, 
.,, 
	AddHeader,, 
(,, 
$str,, (
,,,( )
$str,,* <
),,< =
;,,= >
request-- 
.-- 
	AddHeader-- 
(-- 
$str-- )
,--) *
GetTokenUrl--+ 6
(--6 7
)--7 8
!--8 9
)--9 :
;--: ;
request.. 
... 
	AddHeader.. 
(.. 
$str.. '
,..' (
GetWebToken..( 3
(..3 4
brandId..4 ;
)..; <
!..< =
)..= >
;..> ?
request// 
.// 
AddParameter// 
(// 
$str// /
,/// 0
data//1 5
,//5 6
ParameterType//7 D
.//D E
RequestBody//E P
)//P Q
;//Q R
var00 
response00 
=00 
await00 
client00 #
.00# $
ExecuteAsync00$ 0
(000 1
request001 8
)008 9
;009 :
return22 
new22 
baseResponse22 
.22  
RestResponse22  ,
{33 	
Content44 
=44 
response44 !
.44! "
Content44" )
,44) *

StatusCode55 
=55 
response55 !
.55! "

StatusCode55" ,
}66 	
;66	 

}77 
	protected99 
async99 
Task99 
<99 
baseResponse99 %
.99% &
IRestResponse99& 3
>993 4
Put995 8
(998 9
string999 ?
path99@ D
,99D E
long99E I
brandId99J Q
)99Q R
{:: 
var;; 
client;; 
=;; 
new;; 

RestClient;; $
(;;$ %
GetServiceUrl;;% 2
(;;2 3
);;3 4
!;;4 5
);;5 6
;;;6 7
var<< 
request<< 
=<< 
new<< 
RestRequest<< %
(<<% &
path<<& *
,<<* +
Method<<, 2
.<<2 3
Put<<3 6
)<<6 7
;<<7 8
request== 
.== 
	AddHeader== 
(== 
$str== "
,==" #
$str==$ 6
)==6 7
;==7 8
request>> 
.>> 
	AddHeader>> 
(>> 
$str>> (
,>>( )
$str>>* <
)>>< =
;>>= >
request?? 
.?? 
	AddHeader?? 
(?? 
$str?? )
,??) *
GetTokenUrl??+ 6
(??6 7
)??7 8
!??8 9
)??9 :
;??: ;
request@@ 
.@@ 
	AddHeader@@ 
(@@ 
$str@@ '
,@@' (
GetWebToken@@( 3
(@@3 4
brandId@@4 ;
)@@; <
!@@< =
)@@= >
;@@> ?
varAA 
responseAA 
=AA 
awaitAA 
clientAA #
.AA# $
ExecuteAsyncAA$ 0
(AA0 1
requestAA1 8
)AA8 9
;AA9 :
returnCC 
newCC 
baseResponseCC 
.CC  
RestResponseCC  ,
{DD 	
ContentEE 
=EE 
responseEE !
.EE! "
ContentEE" )
,EE) *

StatusCodeFF 
=FF 
responseFF !
.FF! "

StatusCodeFF" ,
}GG 	
;GG	 

}HH 
}II û#
IC:\HeroSystem\walletService\WalletService.Data\Adapters\CoinPayAdapter.cs
	namespace		 	
WalletService		
 
.		 
Data		 
.		 
Adapters		 %
;		% &
public 
class 
CoinPayAdapter 
: 
CoinPayBaseAdapter 0
,0 1
ICoinPayAdapter2 A
{ 
public 

CoinPayAdapter 
( 
IOptions "
<" #$
ApplicationConfiguration# ;
>; <
appSettings= H
,H I
IHttpClientFactoryJ \
httpClientFactory] n
)n o
: 	
base
 
( 
httpClientFactory  
,  !
appSettings" -
)- .
{ 
} 
public 

async 
Task 
< 
bool 
> &
VerifyTransactionSignature 6
(6 7"
SignatureParamsRequest7 M
requestN U
)U V
{ 
return 
await 
IsValidSignature %
(% &
request& -
)- .
;. /
} 
public 

async 
Task 
< 
IRestResponse #
># $
GetTransactionById% 7
(7 8
int8 ;
idTransaction< I
)I J
=> 

await 
Get 
( 
string 
. 
Format "
(" #
CoinPayRoutes# 0
.0 1
GetTransactionRoute1 D
,D E
idTransactionF S
)S T
,T U
newV Y

DictionaryZ d
<d e
stringe k
,k l
stringm s
>s t
(t u
)u v
)v w
;w x
public 

async 
Task 
< 
IRestResponse #
># $
CreateTransaction% 6
(6 7
PaymentRequest7 E
requestF M
)M N
=> 

await 
Post 
( 
CoinPayRoutes #
.# $"
CreateTransactionRoute$ :
,: ;
request< C
)C D
;D E
public 

async 
Task 
< 
IRestResponse #
># $
	SendFunds% .
(. /
SendFundRequest/ >
request? F
)F G
=> 

await 
Post 
( 
CoinPayRoutes #
.# $
SendFundsRoute$ 2
,2 3
request4 ;
); <
;< =
public 

async 
Task 
< 
IRestResponse #
># $
CreateChannel% 2
(2 3 
CreateChannelRequest3 G
requestH O
)O P
=>   

await   
Post   
(   
CoinPayRoutes   #
.  # $
CreateChannelRoute  $ 6
,  6 7
request  8 ?
)  ? @
;  @ A
public"" 

async"" 
Task"" 
<"" 
IRestResponse"" #
>""# $#
GetNetworksByIdCurrency""% <
(""< =
int""= @

idCurrency""A K
)""K L
=>## 

await## 
Get## 
(## 
string## 
.## 
Format## "
(##" #
CoinPayRoutes### 0
.##0 1(
GetNetworksByIdCurrencyRoute##1 M
,##M N

idCurrency##O Y
)##Y Z
,##Z [
new$$ 

Dictionary$$ 
<$$ 
string$$ !
,$$! "
string$$# )
>$$) *
($$* +
)$$+ ,
)$$, -
;$$- .
public&& 

async&& 
Task&& 
<&& 
IRestResponse&& #
>&&# $
CreateAddress&&% 2
(&&2 3
int&&3 6
idWallet&&7 ?
,&&? @
CreateAddresRequest&&A T
request&&U \
)&&\ ]
=>'' 

await'' 
Post'' 
('' 
string'' 
.'' 
Format'' #
(''# $
CoinPayRoutes''$ 1
.''1 2
CreateAddressRoute''2 D
,''D E
idWallet''F N
)''N O
,''O P
request''Q X
)''X Y
;''Y Z
}(( ùf
MC:\HeroSystem\walletService\WalletService.Data\Adapters\CoinPayBaseAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
;% &
public 
abstract 
class 
CoinPayBaseAdapter (
{ 
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
private 
readonly 

HttpClient 
_client  '
;' (
private 
readonly 
string 

_sharedKey &
;& '
	protected 
CoinPayBaseAdapter  
(  !
IHttpClientFactory! 3
httpClientFactory4 E
,E F
IOptionsG O
<O P$
ApplicationConfigurationP h
>h i
appSettingsj u
)u v
{ 
_client 
= 
httpClientFactory #
.# $
CreateClient$ 0
(0 1
)1 2
;2 3
var 
baseUrl 
= 
appSettings !
.! "
Value" '
.' (
	Endpoints( 1
!1 2
.2 3

CoinPayURL3 =
!= >
;> ?
_appSettings 
= 
appSettings "
." #
Value# (
;( )

_sharedKey 
= 
appSettings  
.  !
Value! &
.& '
CoinPay' .
!. /
./ 0
	SecretKey0 9
!9 :
;: ;
_client 
. 
BaseAddress 
= 
new !
Uri" %
(% &
baseUrl& -
)- .
;. /
_client 
. !
DefaultRequestHeaders %
.% &
Accept& ,
., -
Clear- 2
(2 3
)3 4
;4 5
_client 
. !
DefaultRequestHeaders %
.% &
Accept& ,
., -
Add- 0
(0 1
new1 4+
MediaTypeWithQualityHeaderValue5 T
(T U
$strU g
)g h
)h i
;i j
} 
	protected 
async 
Task 
< 
bool 
> 
IsValidSignature /
(/ 0"
SignatureParamsRequest0 F
requestG N
)N O
{ 
var   
generatedSignature   
=    
GenerateSignature  ! 2
(  2 3
request  3 :
)  : ;
;  ; <
return!! 
await!! 
Task!! 
.!! 

FromResult!! $
(!!$ %
request!!% ,
.!!, -
IncomingSignature!!- >
==!!? A
generatedSignature!!B T
)!!T U
;!!U V
}"" 
private$$ 
string$$ 
GenerateSignature$$ $
($$$ %"
SignatureParamsRequest$$% ;
request$$< C
)$$C D
{%% 
var&& 
tmpInfo&& 
=&& 
$"&& 
{&& 
request&&  
.&&  !
IdUser&&! '
}&&' (
{&&( )
request&&) 0
.&&0 1
IdTransaction&&1 >
}&&> ?
{&&? @
request&&@ G
.&&G H

DynamicKey&&H R
}&&R S
"&&S T
;&&T U
using'' 
var'' 

hmacsha512'' 
='' 
new'' "

HMACSHA512''# -
(''- .
Encoding''. 6
.''6 7
ASCII''7 <
.''< =
GetBytes''= E
(''E F

_sharedKey''F P
)''P Q
)''Q R
;''R S
var(( 
	hashBytes(( 
=(( 

hmacsha512(( "
.((" #
ComputeHash((# .
(((. /
Encoding((/ 7
.((7 8
ASCII((8 =
.((= >
GetBytes((> F
(((F G
tmpInfo((G N
)((N O
)((O P
;((P Q
return)) 
BitConverter)) 
.)) 
ToString)) $
())$ %
	hashBytes))% .
))). /
.))/ 0
Replace))0 7
())7 8
$str))8 ;
,)); <
$str))= ?
)))? @
.))@ A
ToLower))A H
())H I
)))I J
;))J K
}** 
private++ 
async++ 
Task++ 
<++ 
string++ 
?++ 
>++ 
Authenticate++  ,
(++, -
)++- .
{,, 
var-- 
initialToken-- 
=-- 
_appSettings-- '
.--' (
CoinPay--( /
?--/ 0
.--0 1
InitialToken--1 =
??--> @
throw..  
new..! $%
InvalidOperationException..% >
(..> ?
$str..? Z
)..Z [
;..[ \
var// 
	secretKey// 
=// 
_appSettings// $
.//$ %
CoinPay//% ,
?//, -
.//- .
	SecretKey//. 7
??//8 :
throw00 
new00 !%
InvalidOperationException00" ;
(00; <
$str00< T
)00T U
;00U V
var22 
	idRequest22 
=22 
DateTime22  
.22  !
UtcNow22! '
.22' (
ToString22( 0
(220 1
$str221 A
)22A B
;22B C
using44 
var44 
sha25644 
=44 
SHA25644 !
.44! "
Create44" (
(44( )
)44) *
;44* +
var55 
checksumData55 
=55 
Encoding55 #
.55# $
UTF855$ (
.55( )
GetBytes55) 1
(551 2
	idRequest552 ;
+55< =
	secretKey55> G
)55G H
;55H I
var66 
checksumHash66 
=66 
sha25666 !
.66! "
ComputeHash66" -
(66- .
checksumData66. :
)66: ;
;66; <
var77 
checksum77 
=77 
BitConverter77 #
.77# $
ToString77$ ,
(77, -
checksumHash77- 9
)779 :
.77: ;
Replace77; B
(77B C
$str77C F
,77F G
$str77H J
)77J K
.77K L
ToLower77L S
(77S T
)77T U
;77U V
var99 
requestBody99 
=99 
new99 
{:: 	
	IdRequest;; 
=;; 
	idRequest;; !
,;;! "
Token<< 
=<< 
initialToken<<  
,<<  !
Checksum== 
=== 
checksum== 
}>> 	
;>>	 

var@@ 
response@@ 
=@@ 
await@@ 
_client@@ $
.@@$ %
	PostAsync@@% .
(@@. /
$str@@/ U
,@@U V
newAA 
StringContentAA 
(AA 
requestBodyAA )
.AA) *
ToJsonStringAA* 6
(AA6 7
)AA7 8
,AA8 9
EncodingAA: B
.AAB C
UTF8AAC G
,AAG H
$strAAI [
)AA[ \
)AA\ ]
;AA] ^
ifCC 

(CC 
!CC 
responseCC 
.CC 
IsSuccessStatusCodeCC )
)CC) *
{DD 	
throwEE 
newEE  
HttpRequestExceptionEE *
(EE* +
$"EE+ -
$strEE- ^
{EE^ _
responseEE_ g
.EEg h

StatusCodeEEh r
}EEr s
"EEs t
)EEt u
;EEu v
}FF 	
varHH 
responseJsonHH 
=HH 
awaitHH  
responseHH! )
.HH) *
ContentHH* 1
.HH1 2
ReadAsStringAsyncHH2 C
(HHC D
)HHD E
;HHE F
varII 
responseDataII 
=II 
responseJsonII '
.II' (
ToJsonObjectII( 4
<II4 5
CoinPayResponseII5 D
>IID E
(IIE F
)IIF G
;IIG H
ifKK 

(KK 
responseDataKK 
?KK 
.KK 

StatusCodeKK $
!=KK% '
	ConstantsKK( 1
.KK1 2
SuccessStatusCodeKK2 C
)KKC D
{LL 	
throwMM 
newMM %
InvalidOperationExceptionMM /
(MM/ 0
$"MM0 2
$strMM2 Z
{MMZ [
responseDataMM[ g
?MMg h
.MMh i

StatusCodeMMi s
}MMs t
"MMt u
)MMu v
;MMv w
}NN 	
returnPP 
responseDataPP 
.PP 
DataPP  
.PP  !
TokenPP! &
;PP& '
}QQ 
	protectedSS 
asyncSS 
TaskSS 
<SS 
IRestResponseSS &
>SS& '
GetSS( +
(SS+ ,
stringSS, 2
pathSS3 7
,SS7 8

DictionarySS9 C
<SSC D
stringSSD J
,SSJ K
stringSSL R
>SSR S
queryParamsSST _
)SS_ `
{TT 
varUU 
tokenUU 
=UU 
awaitUU 
AuthenticateUU &
(UU& '
)UU' (
;UU( )
_clientWW 
.WW !
DefaultRequestHeadersWW %
.WW% &
AuthorizationWW& 3
=WW4 5
newWW6 9%
AuthenticationHeaderValueWW: S
(WWS T
$strWWT \
,WW\ ]
tokenWW^ c
)WWc d
;WWd e
ifYY 

(YY 
queryParamsYY 
.YY 
CountYY 
>YY 
$numYY  !
)YY! "
{ZZ 	
path[[ 
=[[ 
$"[[ 
{[[ 
path[[ 
}[[ 
$str[[ 
{[[ 
string[[ #
.[[# $
Join[[$ (
([[( )
$str[[) ,
,[[, -
queryParams[[. 9
.[[9 :
Select[[: @
([[@ A
kvp[[A D
=>[[E G
$"[[H J
{[[J K
kvp[[K N
.[[N O
Key[[O R
}[[R S
$str[[S T
{[[T U
kvp[[U X
.[[X Y
Value[[Y ^
}[[^ _
"[[_ `
)[[` a
)[[a b
}[[b c
"[[c d
;[[d e
}\\ 	
var^^ 
response^^ 
=^^ 
await^^ 
_client^^ $
.^^$ %
GetAsync^^% -
(^^- .
path^^. 2
)^^2 3
;^^3 4
var__ 
content__ 
=__ 
await__ 
response__ $
.__$ %
Content__% ,
.__, -
ReadAsStringAsync__- >
(__> ?
)__? @
;__@ A
returnaa 
newaa 
RestResponseaa 
{bb 	
Contentcc 
=cc 
contentcc 
,cc 

StatusCodedd 
=dd 
responsedd !
.dd! "

StatusCodedd" ,
}ee 	
;ee	 

}ff 
	protectedhh 
asynchh 
Taskhh 
<hh 
IRestResponsehh &
>hh& '
Posthh( ,
(hh, -
stringhh- 3
pathhh4 8
,hh8 9
objecthh: @
datahhA E
)hhE F
{ii 
varjj 
tokenjj 
=jj 
awaitjj 
Authenticatejj &
(jj& '
)jj' (
;jj( )
_clientll 
.ll !
DefaultRequestHeadersll %
.ll% &
Authorizationll& 3
=ll4 5
newll6 9%
AuthenticationHeaderValuell: S
(llS T
$strllT \
,ll\ ]
tokenll^ c
)llc d
;lld e
varnn 
serializeObjectnn 
=nn 
datann "
.nn" #
ToJsonStringnn# /
(nn/ 0
)nn0 1
;nn1 2
varoo 
jsonContentoo 
=oo 
newoo 
StringContentoo +
(oo+ ,
serializeObjectoo, ;
,oo; <
Encodingoo= E
.ooE F
UTF8ooF J
,ooJ K
$strooL ^
)oo^ _
;oo_ `
varqq 
responseqq 
=qq 
awaitqq 
_clientqq $
.qq$ %
	PostAsyncqq% .
(qq. /
pathqq/ 3
,qq3 4
jsonContentqq5 @
)qq@ A
;qqA B
varrr 
contentrr 
=rr 
awaitrr 
responserr $
.rr$ %
Contentrr% ,
.rr, -
ReadAsStringAsyncrr- >
(rr> ?
)rr? @
;rr@ A
returntt 
newtt 
RestResponsett 
{uu 	
Contentvv 
=vv 
contentvv 
,vv 

StatusCodeww 
=ww 
responseww !
.ww! "

StatusCodeww" ,
}xx 	
;xx	 

}yy 
}zz Ù
OC:\HeroSystem\walletService\WalletService.Data\Adapters\ConfigurationAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
;% &
public 
class  
ConfigurationAdapter !
:" #
BaseAdapter$ /
,/ 0!
IConfigurationAdapter1 F
{		 
public

 
 
ConfigurationAdapter

 
(

  
IOptions 
< $
ApplicationConfiguration )
>) *
appSettings+ 6
)6 7
:8 9
base: >
(> ?
appSettings? J
)J K
{L M
}N O
	protected 
override 
string 
? 
GetServiceUrl ,
(, -
)- .
=> 

AppSettings 
. 
	Endpoints  
!  !
.! ""
SystemConfigurationURL" 8
;8 9
	protected 
override 
string 
? 
GetTokenUrl *
(* +
)+ ,
=> 

AppSettings 
. 
EndpointTokens %
!% &
.& '+
SystemConfigurationServiceToken' F
;F G
	protected 
override 
string 
? 
GetWebToken *
(* +
long+ /
brandId0 7
)7 8
{ 
return 
brandId 
switch 
{ 	
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
EcosystemToken( 6
,6 7
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
RecyCoinToken( 5
,5 6
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
HouseCoinToken( 6
,6 7
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
ExitoJuntosToken( 8
,8 9
_ 
=> 
null 
} 	
;	 

} 
public 

Task 
< 
IRestResponse 
> 
GetGradings *
(* +
long+ /
brandId0 7
)7 8
=>   

Get   
(   
$"   
$str   
"   
,   
new   

Dictionary    *
<  * +
string  + 1
,  1 2
string  3 9
>  9 :
(  : ;
)  ; <
,  < =
brandId  > E
)  E F
;  F G
public"" 

Task"" 
<"" 
IRestResponse"" 
>"" #
GetConfigurationProduct"" 6
(""6 7
long""7 ;
brandId""< C
)""C D
=>## 

Get## 
(## 
$"## 
$str## 9
"##9 :
,##: ;
new##< ?

Dictionary##@ J
<##J K
string##K Q
,##Q R
string##S Y
>##Y Z
(##Z [
)##[ \
,##\ ]
brandId##] d
)##d e
;##e f
public%% 

Task%% 
<%% 
IRestResponse%% 
>%% "
GetPointsConfiguration%% 5
(%%5 6
long%%6 :
brandId%%; B
)%%B C
=>&& 

Get&& 
(&& 
$"&& 
$str&& 8
"&&8 9
,&&9 :
new&&; >

Dictionary&&? I
<&&I J
string&&J P
,&&P Q
string&&R X
>&&X Y
(&&Y Z
)&&Z [
,&&[ \
brandId&&\ c
)&&c d
;&&d e
}(( É&
[C:\HeroSystem\walletService\WalletService.Data\Adapters\IAdapters\IAccountServiceAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
.% &
	IAdapters& /
;/ 0
public 
	interface "
IAccountServiceAdapter '
{		 
Task

 
<

 	
IRestResponse

	 
>

 "
GetAffiliateByUserName

 .
(

. /
string

/ 5
userName

6 >
,

> ?
long

@ D
brandId

E L
)

L M
;

M N
Task 
< 	
IRestResponse	 
> 
VerificationCode (
(( )
string) /
code0 4
,4 5
string6 <
password= E
,E F
intG J
userIdK Q
,Q R
longS W
brandIdX _
)_ `
;` a
Task 
< 	
IRestResponse	 
>  
GetAccountsToEcoPool ,
(, -
int- 0
[0 1
]1 2
id3 5
,5 6
int7 :
levels; A
,A B
longC G
brandIdH O
)O P
;P Q
Task 
< 	
UserInfoResponse	 
? 
> 
GetUserInfo '
(' (
int( +
id, .
,. /
long0 4
brandId5 <
)< =
;= >
Task 
< 	
IRestResponse	 
> 
GetPersonalNetwork *
(* +
int+ .
id/ 1
,1 2
long3 7
brandId8 ?
)? @
;@ A
Task 
< 	
IRestResponse	 
>  
UpdateActivationDate ,
(, -
int- 0
id1 3
,3 4
long5 9
brandId: A
)A B
;B C
Task 
< 	
IRestResponse	 
>  
RevertActivationUser ,
(, -
int- 0
id1 3
,3 4
long5 9
brandId: A
)A B
;B C
Task 
< 	
IRestResponse	 
> (
GetAffiliateBtcByAffiliateId 4
(4 5
int5 8
affiliateId9 D
,D E
longF J
brandIdK R
)R S
;S T
Task 
< 	
IRestResponse	 
> 
UpdateGradingByUser +
(+ ,
int, /
userId0 6
,6 7
int8 ;
	gradingId< E
,E F
longG K
brandIdL S
)S T
;T U
Task 
< 	
IRestResponse	 
> 
GetHave2Children (
(( )
int) ,
[, -
]- .
users/ 4
,4 5
long6 :
brandId; B
)B C
;C D
Task 
< 	"
NetworkDetailsResponse	 
>  
NetworkDetails! /
(/ 0
int0 3
userId4 :
,: ;
long< @
brandIdA H
)H I
;I J
Task 
< 	
IRestResponse	 
> 
GetTreeModel4 %
(% &

Dictionary& 0
<0 1
int1 4
,4 5
decimal6 =
>= >

dictionary? I
,I J
longK O
brandIdP W
)W X
;X Y
Task 
< 	
IRestResponse	 
> 
AddTreeModel5 %
(% &
IEnumerable& 1
<1 2
LeaderBoardModel52 C
>C D
leaderBoardE P
,P Q
longR V
brandIdW ^
)^ _
;_ `
Task 
< 	
IRestResponse	 
> 
AddTreeModel6 %
(% &
IEnumerable& 1
<1 2
LeaderBoardModel62 C
>C D
leaderBoardE P
,P Q
longR V
brandIdW ^
)^ _
;_ `
Task 
< 	
IRestResponse	 
> 
DeleteTreeModel5 (
(( )
long) -
brandId. 5
)5 6
;6 7
Task 
< 	
IRestResponse	 
> 
DeleteTreeModel6 (
(( )
long) -
brandId. 5
)5 6
;6 7
Task 
< 	
IRestResponse	 
> !
GetTotalActiveMembers -
(- .
long. 2
brandId3 :
): ;
;; <
} å
TC:\HeroSystem\walletService\WalletService.Data\Adapters\IAdapters\ICoinPayAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
.% &
	IAdapters& /
;/ 0
public 
	interface 
ICoinPayAdapter  
{ 
Task 
< 	
IRestResponse	 
> 
GetTransactionById *
(* +
int+ .
idTransaction8 E
)E F
;F G
Task		 
<		 	
IRestResponse			 
>		 
CreateTransaction		 )
(		) *
PaymentRequest		* 8
request		9 @
)		@ A
;		A B
Task

 
<

 	
IRestResponse

	 
>

 
CreateChannel

 %
(

% & 
CreateChannelRequest

& :
request

; B
)

B C
;

C D
Task 
< 	
IRestResponse	 
> 
	SendFunds !
(! "
SendFundRequest" 1
request2 9
)9 :
;: ;
Task 
< 	
IRestResponse	 
> #
GetNetworksByIdCurrency /
(/ 0
int0 3
	idNetwork4 =
)= >
;> ?
Task 
< 	
IRestResponse	 
> 
CreateAddress %
(% &
int& )
idWallet* 2
,2 3
CreateAddresRequest4 G
requestH O
)O P
;P Q
Task 
< 	
bool	 
> &
VerifyTransactionSignature )
() *"
SignatureParamsRequest* @
requestA H
)H I
;I J
} ¨
ZC:\HeroSystem\walletService\WalletService.Data\Adapters\IAdapters\IConfigurationAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
.% &
	IAdapters& /
;/ 0
public 
	interface !
IConfigurationAdapter &
{ 
Task 
< 	
IRestResponse	 
> 
GetGradings #
(# $
long$ (
brandId) 0
)0 1
;1 2
Task 
< 	
IRestResponse	 
> #
GetConfigurationProduct /
(/ 0
long0 4
brandId5 <
)< =
;= >
Task		 
<		 	
IRestResponse			 
>		 "
GetPointsConfiguration		 .
(		. /
long		/ 3
brandId		4 ;
)		; <
;		< =
} Ë
]C:\HeroSystem\walletService\WalletService.Data\Adapters\IAdapters\IInventoryServiceAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
.% &
	IAdapters& /
;/ 0
public 
	interface $
IInventoryServiceAdapter )
{ 
Task 
< 	
IRestResponse	 
> 
GetProductsIds &
(& '
int' *
[* +
]+ ,
ids- 0
,0 1
long2 6
brandId7 >
)> ?
;? @
Task 
< 	
IRestResponse	 
> 
GetProductById &
(& '
int' *
id+ -
,- .
long/ 3
brandId4 ;
); <
;< =
}		 Ì
UC:\HeroSystem\walletService\WalletService.Data\Adapters\IAdapters\IPagaditoAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
.% &
	IAdapters& /
;/ 0
public 
	interface 
IPagaditoAdapter !
{ 
Task 
< 	
PagaditoResponse	 
? 
> 
ConnectAsync (
(( )
)) *
;* +
Task		 
<		 	
PagaditoResponse			 
?		 
>		 
ExecuteTransaction		 .
(		. /%
CreatePagaditoTransaction		/ H
request		I P
)		P Q
;		Q R
}

 ¥
RC:\HeroSystem\walletService\WalletService.Data\Adapters\InventoryServiceAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
;% &
public		 
class		 #
InventoryServiceAdapter		 $
:		% &
BaseAdapter		' 2
,		2 3$
IInventoryServiceAdapter		4 L
{

 
public 
#
InventoryServiceAdapter "
(" #
IOptions 
< $
ApplicationConfiguration )
>) *
appSettings+ 6
)6 7
:8 9
base: >
(> ?
appSettings? J
)J K
{L M
}N O
	protected 
override 
string 
? 
GetServiceUrl ,
(, -
)- .
=> 

AppSettings 
. 
	Endpoints  
!  !
.! "
InventoryServiceURL" 5
;5 6
	protected 
override 
string 
? 
GetTokenUrl *
(* +
)+ ,
=> 

AppSettings 
. 
EndpointTokens %
!% &
.& '!
InventoryServiceToken' <
;< =
	protected 
override 
string 
? 
GetWebToken *
(* +
long+ /
brandId0 7
)7 8
{ 
return 
brandId 
switch 
{ 	
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
EcosystemToken( 6
,6 7
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
RecyCoinToken( 5
,5 6
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
HouseCoinToken( 6
,6 7
$num 
=> 
AppSettings 
. 
	WebTokens &
!& '
.' (
ExitoJuntosToken( 8
,8 9
_ 
=> 
null 
} 	
;	 

} 
public   

Task   
<   
IRestResponse   
>   
GetProductsIds   -
(  - .
int  . 1
[  1 2
]  2 3
ids  4 7
,  7 8
long  9 =
brandId  > E
)  E F
{!! 
var"" 
requestObject"" 
="" 
new"" 

Dictionary""  *
<""* +
string""+ 1
,""1 2
object""3 9
>""9 :
{## 	
{$$ 
$str$$ 
,$$ 
ids$$ 
}$$  !
}%% 	
;%%	 

return(( 
Post(( 
((( 
$str(( 3
,((3 4
requestObject((5 B
.((B C
ToJsonString((C O
(((O P
)((P Q
,((Q R
brandId((S Z
)((Z [
;(([ \
})) 
public++ 

Task++ 
<++ 
IRestResponse++ 
>++ 
GetProductById++ -
(++- .
int++. 1
id++2 4
,++4 5
long++6 :
brandId++; B
)++B C
{,, 
return-- 
Post-- 
(-- 
$"-- 
$str-- 1
"--1 2
,--2 3
id--4 6
.--6 7
ToJsonString--7 C
(--C D
)--D E
,--E F
brandId--G N
)--N O
;--O P
}.. 
}// ¥D
JC:\HeroSystem\walletService\WalletService.Data\Adapters\PagaditoAdapter.cs
	namespace 	
WalletService
 
. 
Data 
. 
Adapters %
;% &
public 
class 
PagaditoAdapter 
: 
IPagaditoAdapter /
{ 
private 
readonly 
IHttpClientFactory '
_httpClientFactory( :
;: ;
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
public 

PagaditoAdapter 
( 
IOptions #
<# $$
ApplicationConfiguration$ <
>< =
appSettings> I
,I J
IHttpClientFactoryK ]
httpClientFactory^ o
)o p
{ 
_appSettings 
= 
appSettings "
." #
Value# (
;( )
_httpClientFactory 
= 
httpClientFactory .
;. /
} 
public 

async 
Task 
< 
PagaditoResponse &
?& '
>' (
ConnectAsync) 5
(5 6
)6 7
{ 
try 
{ 	
var 
url 
= 
_appSettings "
." #
Pagadito# +
!+ ,
., -
Url- 0
;0 1
var 

parameters 
= 
new  

Dictionary! +
<+ ,
string, 2
,2 3
string4 :
>: ;
{ 
{   
$str   
,   
	Constants   (
.  ( )
PagaditoConnectKey  ) ;
}  < =
,  = >
{!! 
$str!! 
,!! 
_appSettings!! %
.!!% &
Pagadito!!& .
.!!. /
Uid!!/ 2
!!!2 3
}!!4 5
,!!5 6
{"" 
$str"" 
,"" 
_appSettings"" %
.""% &
Pagadito""& .
."". /
Wsk""/ 2
!""2 3
}""4 5
,""5 6
{## 
$str## !
,##! "
$str### )
}##* +
}$$ 
;$$ 
using&& 
var&& 
client&& 
=&& 
_httpClientFactory&& 1
.&&1 2
CreateClient&&2 >
(&&> ?
)&&? @
;&&@ A
var'' 
content'' 
='' 
new'' !
FormUrlEncodedContent'' 3
(''3 4

parameters''4 >
)''> ?
;''? @
var(( 
response(( 
=(( 
await((  
client((! '
.((' (
	PostAsync((( 1
(((1 2
url((2 5
,((5 6
content((7 >
)((> ?
;((? @
var** 
responseString** 
=**  
await**! &
response**' /
.**/ 0
Content**0 7
.**7 8
ReadAsStringAsync**8 I
(**I J
)**J K
;**K L
if++ 
(++ 
response++ 
.++ 
IsSuccessStatusCode++ ,
)++, -
{,, 
var.. 
connectResponse.. #
=..$ %
JsonSerializer..& 4
...4 5
Deserialize..5 @
<..@ A
PagaditoResponse..A Q
>..Q R
(..R S
responseString..S a
)..a b
;..b c
if// 
(// 
connectResponse// #
!=//$ &
null//' +
&&//, .
connectResponse/// >
.//> ?
Code//? C
==//D F
$str//G O
)//O P
{00 
return11 
connectResponse11 *
;11* +
}22 
throw44 
new44 
	Exception44 #
(44# $
$str44$ W
)44W X
;44X Y
}55 
else66 
{77 
throw88 
new88 
	Exception88 #
(88# $
$"88$ &
$str88& D
{88D E
response88E M
.88M N

StatusCode88N X
}88X Y
$str88Y [
{88[ \
responseString88\ j
}88j k
"88k l
)88l m
;88m n
}99 
}:: 	
catch;; 
(;; 
	Exception;; 
ex;; 
);; 
{<< 	
throw== 
new== 
	Exception== 
(==  
$"==  "
$str==" @
{==@ A
ex==A C
.==C D
Message==D K
}==K L
"==L M
,==M N
ex==O Q
)==Q R
;==R S
}>> 	
}?? 
publicAA 

asyncAA 
TaskAA 
<AA 
PagaditoResponseAA &
?AA& '
>AA' (
ExecuteTransactionAA) ;
(AA; <%
CreatePagaditoTransactionAA< U
requestAAV ]
)AA] ^
{BB 
varCC 
urlCC 
=CC 
_appSettingsCC 
.CC 
PagaditoCC '
!CC' (
.CC( )
UrlCC) ,
;CC, -
stringEE 
jsonDetailsEE 
=EE 
JsonSerializerEE +
.EE+ ,
	SerializeEE, 5
(EE5 6
requestEE6 =
.EE= >
DetailsEE> E
)EEE F
;EEF G
stringFF 
jsonCustomParamsFF 
=FF  !
JsonSerializerFF" 0
.FF0 1
	SerializeFF1 :
(FF: ;
requestFF; B
.FFB C
CustomParamsFFC O
)FFO P
;FFP Q
varHH 

parametersHH 
=HH 
newHH 

DictionaryHH '
<HH' (
stringHH( .
,HH. /
stringHH0 6
>HH6 7
{II 	
{JJ 
$strJJ 
,JJ 
	ConstantsJJ $
.JJ$ %
PagaditoExecuteKeyJJ% 7
}JJ8 9
,JJ9 :
{KK 
$strKK 
,KK 
requestKK 
.KK 
TokenKK $
}KK% &
,KK& '
{LL 
$strLL 
,LL 
requestLL 
.LL 
ErnLL  
}LL! "
,LL" #
{MM 
$strMM 
,MM 
requestMM 
.MM  
AmountMM  &
.MM& '
ToStringMM' /
(MM/ 0
CultureInfoMM0 ;
.MM; <
InvariantCultureMM< L
)MML M
}MMN O
,MMO P
{NN 
$strNN 
,NN 
jsonDetailsNN $
}NN% &
,NN& '
{OO 
$strOO 
,OO 
jsonCustomParamsOO /
}OO0 1
,OO1 2
{PP 
$strPP 
,PP 
	ConstantsPP #
.PP# $
PagaditoCurrencyPP$ 4
}PP5 6
,PP6 7
{QQ 
$strQQ 
,QQ 
	ConstantsQQ (
.QQ( ) 
PagaditoFormatReturnQQ) =
}QQ> ?
}RR 	
;RR	 

usingTT 
varTT 
clientTT 
=TT 
newTT 

HttpClientTT )
(TT) *
)TT* +
;TT+ ,
varUU 
contentUU 
=UU 
newUU !
FormUrlEncodedContentUU /
(UU/ 0

parametersUU0 :
)UU: ;
;UU; <
varVV 
responseVV 
=VV 
awaitVV 
clientVV #
.VV# $
	PostAsyncVV$ -
(VV- .
urlVV. 1
,VV1 2
contentVV3 :
)VV: ;
;VV; <
varXX 
responseContentXX 
=XX 
awaitXX #
responseXX$ ,
.XX, -
ContentXX- 4
.XX4 5
ReadAsStringAsyncXX5 F
(XXF G
)XXG H
;XXH I
varYY 
execTransResponseYY 
=YY 
JsonSerializerYY  .
.YY. /
DeserializeYY/ :
<YY: ;
PagaditoResponseYY; K
>YYK L
(YYL M
responseContentYYM \
)YY\ ]
;YY] ^
if[[ 

([[ 
execTransResponse[[ 
!=[[  
null[[! %
&&[[& (
execTransResponse[[) :
.[[: ;
Code[[; ?
==[[@ B
$str[[C K
)[[K L
{\\ 	
return]] 
execTransResponse]] $
;]]$ %
}^^ 	
else__ 
{`` 	
throwaa 
newaa 
	Exceptionaa 
(aa  
$straa  K
+aaL M
execTransResponseaaN _
?aa_ `
.aa` a
Messageaaa h
)aah i
;aai j
}bb 	
}cc 
}dd ·
XC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\AffiliateBalance.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class 
AffiliateBalance 
{ 
public 

long 
AffiliateId 
{ 
get !
;! "
set# &
;& '
}( )
public 

string 
? 
AffiliateUserName $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

decimal 
? 
Balance 
{ 
get !
;! "
set# &
;& '
}( )
} ª
aC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\CreatePagaditoTransaction.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class %
CreatePagaditoTransaction &
{ 
[ 
JsonPropertyName 
( 
$str 
) 
] 
public		 

string		 
Token		 
{		 
get		 
;		 
set		 "
;		" #
}		$ %
=		& '
string		( .
.		. /
Empty		/ 4
;		4 5
[ 
JsonPropertyName 
( 
$str 
) 
] 
public 

string 
Ern 
{ 
get 
; 
set  
;  !
}" #
=$ %
string& ,
., -
Empty- 2
;2 3
[ 
JsonPropertyName 
( 
$str 
) 
]  
public 

decimal 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
[ 
JsonPropertyName 
( 
$str 
)  
]  !
public 

List 
< %
PagaditoTransactionDetail )
>) *
Details+ 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
=A B
newC F
ListG K
<K L%
PagaditoTransactionDetailL e
>e f
(f g
)g h
;h i
[ 
JsonPropertyName 
( 
$str %
)% &
]& '
public 


Dictionary 
< 
string 
, 
string $
>$ %
CustomParams& 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
=A B
newC F

DictionaryG Q
<Q R
stringR X
,X Y
stringZ `
>` a
(a b
)b c
;c d
} Å
[C:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\EcoPoolesSpResponse.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class 
EcoPoolesSpResponse  
{ 
public 

int 
Count 
{ 
get 
; 
set 
;  
}! "
} Ÿ
eC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\InvoiceModelOneAndTwoResponse.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class )
InvoiceModelOneAndTwoResponse *
{ 
public 

string 
UserName 
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 

int 
	InvoiceId 
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

string 
ProductName 
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
public 

decimal 

BaseAmount 
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 

int		 
PaymentGroupId		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 

DateTime

 
	CreatedAt

 
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
} É
UC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\InvoiceNumber.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class 
InvoiceNumber 
{ 
public 

long 
InvoiceNumberValue "
{# $
get% (
;( )
set* -
;- .
}/ 0
} ˝<
ZC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\InvoicesSpResponse.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class 
InvoicesSpResponse 
{ 
[ 
Column 
( 
$str 
) 
] 
public 

int 
Id 
{ 
get 
; 
set 
; 
} 
[

 
Column

 
(

 
$str

 
)

 
]

 
public 

int 
InvoiceNumber 
{ 
get "
;" #
set$ '
;' (
}) *
[ 
Column 
( 
$str 
)  
]  !
public 

int 
? 
PurchaseOrderId 
{  !
get" %
;% &
set' *
;* +
}, -
[ 
Column 
( 
$str 
) 
] 
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
[ 
Column 
( 
$str 
) 
] 
public 

decimal 
? 
TotalInvoice  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 
Column 
( 
$str 
)  
]  !
public 

decimal 
TotalInvoiceBtc "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 
Column 
( 
$str "
)" #
]# $
public 

decimal 
? 
TotalCommissionable '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
[ 
Column 
( 
$str 
) 
] 
public 

int 
? 
TotalPoints 
{ 
get !
;! "
set# &
;& '
}( )
[ 
Column 
( 
$str 
) 
] 
public   

bool   
State   
{   
get   
;   
set    
;    !
}  " #
["" 
Column"" 
("" 
$str"" 
)"" 
]"" 
public## 

bool## 
Status## 
{## 
get## 
;## 
set## !
;##! "
}### $
[%% 
Column%% 
(%% 
$str%% 
)%% 
]%% 
public&& 

DateTime&& 
?&& 
Date&& 
{&& 
get&& 
;&&  
set&&! $
;&&$ %
}&&& '
[(( 
Column(( 
((( 
$str(( 
)((  
]((  !
public)) 

DateTime)) 
?)) 
CancellationDate)) %
{))& '
get))( +
;))+ ,
set))- 0
;))0 1
}))2 3
[++ 
Column++ 
(++ 
$str++ 
)++ 
]++ 
public,, 

string,, 
?,, 
PaymentMethod,,  
{,,! "
get,,# &
;,,& '
set,,( +
;,,+ ,
},,- .
[.. 
Column.. 
(.. 
$str.. 
).. 
].. 
public// 

string// 
?// 
Bank// 
{// 
get// 
;// 
set// "
;//" #
}//$ %
[11 
Column11 
(11 
$str11 
)11 
]11 
public22 

string22 
?22 
ReceiptNumber22  
{22! "
get22# &
;22& '
set22( +
;22+ ,
}22- .
[44 
Column44 
(44 
$str44 
)44 
]44 
public55 

DateTime55 
?55 
DepositDate55  
{55! "
get55# &
;55& '
set55( +
;55+ ,
}55- .
[77 
Column77 
(77 
$str77 
)77 
]77 
public88 

bool88 
?88 
Type88 
{88 
get88 
;88 
set88  
;88  !
}88" #
[:: 
Column:: 
(:: 
$str:: 
):: 
]:: 
public;; 

string;; 
?;; 
Reason;; 
{;; 
get;; 
;;;  
set;;! $
;;;$ %
};;& '
[== 
Column== 
(== 
$str== 
)== 
]== 
public>> 

string>> 
?>> 
InvoiceData>> 
{>>  
get>>! $
;>>$ %
set>>& )
;>>) *
}>>+ ,
[@@ 
Column@@ 
(@@ 
$str@@ 
)@@ 
]@@ 
publicAA 

stringAA 
?AA 
InvoiceAddressAA !
{AA" #
getAA$ '
;AA' (
setAA) ,
;AA, -
}AA. /
[CC 
ColumnCC 
(CC 
$strCC 
)CC 
]CC  
publicDD 

stringDD 
?DD 
ShippingAddressDD "
{DD# $
getDD% (
;DD( )
setDD* -
;DD- .
}DD/ 0
[FF 
ColumnFF 
(FF 
$strFF 
)FF 
]FF 
publicGG 

stringGG 
?GG 
	SecretKeyGG 
{GG 
getGG "
;GG" #
setGG$ '
;GG' (
}GG) *
[II 
ColumnII 
(II 
$strII 
)II 
]II 
publicJJ 

stringJJ 
?JJ 

BtcAddressJJ 
{JJ 
getJJ  #
;JJ# $
setJJ% (
;JJ( )
}JJ* +
[LL 
ColumnLL 
(LL 
$strLL 
)LL 
]LL 
publicMM 

intMM 
	RecurringMM 
{MM 
getMM 
;MM 
setMM  #
;MM# $
}MM% &
[OO 
ColumnOO 
(OO 
$strOO 
)OO 
]OO 
publicPP 

DateTimePP 
	CreatedAtPP 
{PP 
getPP  #
;PP# $
setPP% (
;PP( )
}PP* +
[RR 
ColumnRR 
(RR 
$strRR 
)RR 
]RR 
publicSS 

DateTimeSS 
?SS 
	UpdatedAtSS 
{SS  
getSS! $
;SS$ %
setSS& )
;SS) *
}SS+ ,
[UU 
ColumnUU 
(UU 
$strUU 
)UU 
]UU 
publicVV 

DateTimeVV 
?VV 
	DeletedAtVV 
{VV  
getVV! $
;VV$ %
setVV& )
;VV) *
}VV+ ,
[XX 
ColumnXX 
(XX 
$strXX 
)XX 
]XX 
publicYY 

longYY 
BrandIdYY 
{YY 
getYY 
;YY 
setYY "
;YY" #
}YY$ %
}ZZ ÿ
fC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\InvoicesTradingAcademyResponse.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class *
InvoicesTradingAcademyResponse +
{ 
public 

int 
	ProductId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
public 

int 
	InvoiceId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
ProductName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
string0 6
.6 7
Empty7 <
;< =
public		 

decimal		 
ProductPrice		  
{		& '
get		( +
;		+ ,
set		- 0
;		0 1
}		2 3
public

 

DateTime

 
	CreatedAt

 
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
} ø
aC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\PagaditoTransactionDetail.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class %
PagaditoTransactionDetail &
{ 
[ 
JsonPropertyName 
( 
$str  
)  !
]! "
public 

int 
Quantity 
{ 
get 
; 
set "
;" #
}$ %
[

 
JsonPropertyName

 
(

 
$str

 #
)

# $
]

$ %
public 

string 
Description 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
String. 4
.4 5
Empty5 :
;: ;
[ 
JsonPropertyName 
( 
$str 
) 
] 
public 

decimal 
Price 
{ 
get 
; 
set  #
;# $
}% &
[ 
JsonPropertyName 
( 
$str #
)# $
]$ %
public 

string 

UrlProduct 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
String- 3
.3 4
Empty4 9
;9 :
} ◊
YC:\HeroSystem\walletService\WalletService.Data\Database\CustomModels\PurchasesPerMonth.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
CustomModels& 2
;2 3
public 
class 
PurchasesPerMonth 
{ 
[ 
Column 
( 
$str 
) 
] 
public 

int 
Year 
{ 
get 
; 
set 
; 
}  !
[

 
Column

 
(

 
$str

 
)

 
]

 
public 

int 
Month 
{ 
get 
; 
set 
;  
}! "
[ 
Column 
( 
$str 
) 
] 
public 

int 
TotalPurchases 
{ 
get  #
;# $
set% (
;( )
}* +
} û
KC:\HeroSystem\walletService\WalletService.Data\Database\Models\ApiClient.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
	ApiClient 
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public

 

string

 
Token

 
{

 
get

 
;

 
set

 "
;

" #
}

$ %
=

& '
null

( ,
!

, -
;

- .
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
} ≈
HC:\HeroSystem\walletService\WalletService.Data\Database\Models\Bonuse.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
Bonuse 
{ 
public 

long 
BonusId 
{ 
get 
; 
set "
;" #
}$ %
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

decimal 
CurrentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

short 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
ICollection 
< #
BonusTransactionHistory 6
>6 7%
BonusTransactionHistories8 Q
{R S
getT W
;W X
}Y Z
=[ \
new] `
Lista e
<e f#
BonusTransactionHistoryf }
>} ~
(~ 
)	 Ä
;
Ä Å
} ﬂ
YC:\HeroSystem\walletService\WalletService.Data\Database\Models\BonusTransactionHistory.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class #
BonusTransactionHistory ,
{ 
public 

long 
TransactionId 
{ 
get  #
;# $
set% (
;( )
}* +
public 

long 
? 
BonusId 
{ 
get 
; 
set  #
;# $
}% &
public

 

long

 
?

 
	InvoiceId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

int 
? 
TransactionTypeId !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

decimal 
? 
Amount 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
? 
TransactionDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

string 
? 
Comment 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
Bonuse 
? 
Bonus  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

virtual 
Invoice 
? 
Invoice #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

virtual 
TransactionType "
?" #
TransactionType$ 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
} ‡
GC:\HeroSystem\walletService\WalletService.Data\Database\Models\Brand.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
Brand 
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public

 

string

 
	SecretKey

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
=

* +
null

, 0
!

0 1
;

1 2
public 

bool 
? 
IsActive 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
ICollection 
< "
CoinpaymentTransaction 5
>5 6#
CoinpaymentTransactions7 N
{O P
getQ T
;T U
}V W
=X Y
newZ ]
List^ b
<b c"
CoinpaymentTransactionc y
>y z
(z {
){ |
;| }
public 

virtual 
ICollection 
< 
Invoice &
>& '
Invoices( 0
{1 2
get3 6
;6 7
}8 9
=: ;
new< ?
List@ D
<D E
InvoiceE L
>L M
(M N
)N O
;O P
public 

virtual 
ICollection 
< 
InvoicesDetail -
>- .
InvoicesDetails/ >
{? @
getA D
;D E
}F G
=H I
newJ M
ListN R
<R S
InvoicesDetailS a
>a b
(b c
)c d
;d e
public 

virtual 
ICollection 
< 
Wallet %
>% &
Wallets' .
{/ 0
get1 4
;4 5
}6 7
=8 9
new: =
List> B
<B C
WalletC I
>I J
(J K
)K L
;L M
public 

virtual 
ICollection 
< 
WalletsRequest -
>- .
WalletsRequests/ >
{? @
getA D
;D E
}F G
=H I
newJ M
ListN R
<R S
WalletsRequestS a
>a b
(b c
)c d
;d e
public 

virtual 
ICollection 
<  
WalletsServiceModel2 3
>3 4!
WalletsServiceModel2s5 J
{K L
getM P
;P Q
}R S
=T U
newV Y
ListZ ^
<^ _ 
WalletsServiceModel2_ s
>s t
(t u
)u v
;v w
} ¢
XC:\HeroSystem\walletService\WalletService.Data\Database\Models\CoinpaymentTransaction.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class "
CoinpaymentTransaction +
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
IdTransaction 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

decimal 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public 

decimal 
AmountReceived !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

string 
Products 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

bool 
	Acredited 
{ 
get 
;  
set! $
;$ %
}& '
public 

int 
Status 
{ 
get 
; 
set  
;  !
}" #
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
PaymentMethod  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
? 
	Reference 
{ 
get "
;" #
set$ '
;' (
}) *
public   

long   
BrandId   
{   
get   
;   
set   "
;  " #
}  $ %
public"" 

virtual"" 
Brand"" 
Brand"" 
{""  
get""! $
;""$ %
set""& )
;"") *
}""+ ,
=""- .
null""/ 3
!""3 4
;""4 5
}## ‘
LC:\HeroSystem\walletService\WalletService.Data\Database\Models\Commission.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 

Commission 
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
	ConceptId 
{ 
get 
; 
set  #
;# $
}% &
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

int 
DepositAffiliateId !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

int 
	InvoiceId 
{ 
get 
; 
set  #
;# $
}% &
public 

int 
? 
Level 
{ 
get 
; 
set  
;  !
}" #
public 

decimal 
? 
Gif 
{ 
get 
; 
set "
;" #
}$ %
public 

decimal 
? 
Compression 
{  !
get" %
;% &
set' *
;* +
}, -
public 

decimal 
? 
Compressionable #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

decimal 
? 

SalesPrice 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

decimal 
? 
Tax 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
? 
Quantity 
{ 
get 
; 
set  #
;# $
}% &
public 

decimal 
? 

Percentage 
{  
get! $
;$ %
set& )
;) *
}+ ,
public   

decimal   
?   
SubtractBinary   "
{  # $
get  % (
;  ( )
set  * -
;  - .
}  / 0
public"" 

short"" 
?"" 
CompressionPosition"" %
{""& '
get""( +
;""+ ,
set""- 0
;""0 1
}""2 3
public$$ 

DateTime$$ 
?$$ 
ClosingDate$$  
{$$! "
get$$# &
;$$& '
set$$( +
;$$+ ,
}$$- .
public&& 

DateTime&& 
	CreatedAt&& 
{&& 
get&&  #
;&&# $
set&&% (
;&&( )
}&&* +
public(( 

DateTime(( 
?(( 
	UpdatedAt(( 
{((  
get((! $
;(($ %
set((& )
;(() *
}((+ ,
public** 

DateTime** 
?** 
	DeletedAt** 
{**  
get**! $
;**$ %
set**& )
;**) *
}**+ ,
}++ ‘
HC:\HeroSystem\walletService\WalletService.Data\Database\Models\Credit.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
Credit 
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

long

 
?

 
	InvoiceId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

int 
? 
	ConceptId 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
? 
Concept 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
Credit1 
{ 
get !
;! "
set# &
;& '
}( )
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

short 
? 
Paid 
{ 
get 
; 
set !
;! "
}# $
public 

short 
Request 
{ 
get 
; 
set  #
;# $
}% &
public 

short 
? 
RequestDenied 
{  !
get" %
;% &
set' *
;* +
}, -
public 

decimal 
? 
Iva 
{ 
get 
; 
set "
;" #
}$ %
public 

decimal 
? 
Islr 
{ 
get 
; 
set  #
;# $
}% &
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public   

DateTime   
?   
	UpdatedAt   
{    
get  ! $
;  $ %
set  & )
;  ) *
}  + ,
public"" 

DateTime"" 
?"" 
	DeletedAt"" 
{""  
get""! $
;""$ %
set""& )
;"") *
}""+ ,
public$$ 

virtual$$ 
Invoice$$ 
?$$ 
Invoice$$ #
{$$$ %
get$$& )
;$$) *
set$$+ .
;$$. /
}$$0 1
}%% ¢5
IC:\HeroSystem\walletService\WalletService.Data\Database\Models\Invoice.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
Invoice 
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
InvoiceNumber 
{ 
get "
;" #
set$ '
;' (
}) *
public

 

int

 
?

 
PurchaseOrderId

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
TotalInvoice  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

decimal 
? 
TotalInvoiceBtc #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

decimal 
? 
TotalCommissionable '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 

int 
? 
TotalPoints 
{ 
get !
;! "
set# &
;& '
}( )
public 

bool 
? 
State 
{ 
get 
; 
set !
;! "
}# $
public 

bool 
Status 
{ 
get 
; 
set !
;! "
}# $
public 

DateTime 
? 
Date 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
? 
CancellationDate %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 

string 
? 
PaymentMethod  
{! "
get# &
;& '
set( +
;+ ,
}- .
public   

string   
?   
Bank   
{   
get   
;   
set   "
;  " #
}  $ %
public"" 

string"" 
?"" 
ReceiptNumber""  
{""! "
get""# &
;""& '
set""( +
;""+ ,
}""- .
public$$ 

DateOnly$$ 
?$$ 
DepositDate$$  
{$$! "
get$$# &
;$$& '
set$$( +
;$$+ ,
}$$- .
public&& 

bool&& 
?&& 
Type&& 
{&& 
get&& 
;&& 
set&&  
;&&  !
}&&" #
public(( 

string(( 
?(( 
Reason(( 
{(( 
get(( 
;((  
set((! $
;(($ %
}((& '
public** 

string** 
InvoiceData** 
{** 
get**  #
;**# $
set**% (
;**( )
}*** +
=**, -
null**. 2
!**2 3
;**3 4
public,, 

string,, 
?,, 
InvoiceAddress,, !
{,," #
get,,$ '
;,,' (
set,,) ,
;,,, -
},,. /
public.. 

string.. 
?.. 
ShippingAddress.. "
{..# $
get..% (
;..( )
set..* -
;..- .
}../ 0
public00 

string00 
?00 
	SecretKey00 
{00 
get00 "
;00" #
set00$ '
;00' (
}00) *
public22 

string22 
?22 

BtcAddress22 
{22 
get22  #
;22# $
set22% (
;22( )
}22* +
public44 

int44 
	Recurring44 
{44 
get44 
;44 
set44  #
;44# $
}44% &
public66 

DateTime66 
	CreatedAt66 
{66 
get66  #
;66# $
set66% (
;66( )
}66* +
public88 

DateTime88 
	UpdatedAt88 
{88 
get88  #
;88# $
set88% (
;88( )
}88* +
public:: 

DateTime:: 
?:: 
	DeletedAt:: 
{::  
get::! $
;::$ %
set::& )
;::) *
}::+ ,
public<< 

long<< 
BrandId<< 
{<< 
get<< 
;<< 
set<< "
;<<" #
}<<$ %
public>> 

virtual>> 
ICollection>> 
<>> #
BonusTransactionHistory>> 6
>>>6 7%
BonusTransactionHistories>>8 Q
{>>R S
get>>T W
;>>W X
}>>Y Z
=>>[ \
new>>] `
List>>a e
<>>e f#
BonusTransactionHistory>>f }
>>>} ~
(>>~ 
)	>> Ä
;
>>Ä Å
public@@ 

virtual@@ 
Brand@@ 
Brand@@ 
{@@  
get@@! $
;@@$ %
set@@& )
;@@) *
}@@+ ,
=@@- .
null@@/ 3
!@@3 4
;@@4 5
publicBB 

virtualBB 
ICollectionBB 
<BB 
CreditBB %
>BB% &
CreditsBB' .
{BB/ 0
getBB1 4
;BB4 5
}BB6 7
=BB8 9
newBB: =
ListBB> B
<BBB C
CreditBBC I
>BBI J
(BBJ K
)BBK L
;BBL M
publicDD 

virtualDD 
ICollectionDD 
<DD 
InvoicePackDD *
>DD* +
InvoicePacksDD, 8
{DD9 :
getDD; >
;DD> ?
}DD@ A
=DDB C
newDDD G
ListDDH L
<DDL M
InvoicePackDDM X
>DDX Y
(DDY Z
)DDZ [
;DD[ \
publicFF 

virtualFF 
ICollectionFF 
<FF 
InvoicesDetailFF -
>FF- .
InvoicesDetailsFF/ >
{FF? @
getFFA D
;FFD E
}FFF G
=FFH I
newFFJ M
ListFFN R
<FFR S
InvoicesDetailFFS a
>FFa b
(FFb c
)FFc d
;FFd e
}GG ê
MC:\HeroSystem\walletService\WalletService.Data\Database\Models\InvoicePack.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
InvoicePack  
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long 
	InvoiceId 
{ 
get 
;  
set! $
;$ %
}& '
public

 

int

 
	ProductId

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 

decimal 

BaseAmount 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal 

Percentage 
{ 
get  #
;# $
set% (
;( )
}* +
public 

int 
	CountDays 
{ 
get 
; 
set  #
;# $
}% &
public 

DateOnly 
	StartDate 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
EndDate 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
Status 
{ 
get 
; 
set  #
;# $
}% &
=' (
null) -
!- .
;. /
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
Invoice 
Invoice "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
null3 7
!7 8
;8 9
public   

virtual   
ICollection   
<   
InvoicePacksDetail   1
>  1 2
InvoicePacksDetails  3 F
{  G H
get  I L
;  L M
}  N O
=  P Q
new  R U
List  V Z
<  Z [
InvoicePacksDetail  [ m
>  m n
(  n o
)  o p
;  p q
}!! Õ
TC:\HeroSystem\walletService\WalletService.Data\Database\Models\InvoicePacksDetail.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
InvoicePacksDetail '
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long 
InvoicePackId 
{ 
get  #
;# $
set% (
;( )
}* +
public

 

decimal

 
Amount

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

virtual 
InvoicePack 
InvoicePack *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
=9 :
null; ?
!? @
;@ A
} ›(
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\InvoicesDetail.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
InvoicesDetail #
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long 
	InvoiceId 
{ 
get 
;  
set! $
;$ %
}& '
public

 

int

 
	ProductId

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 

int 
PaymentGroupId 
{ 
get  #
;# $
set% (
;( )
}* +
public 

bool 
AccumminPurchase  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
ProductName 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

decimal 
ProductPrice 
{  !
get" %
;% &
set' *
;* +
}, -
public 

decimal 
? 
ProductPriceBtc #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

decimal 
? 

ProductIva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

int 
ProductQuantity 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

decimal 
? !
ProductCommissionable )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 

decimal 
? 
BinaryPoints  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

int 
? 
ProductPoints 
{ 
get  #
;# $
set% (
;( )
}* +
public   

decimal   
?   
ProductDiscount   #
{  $ %
get  & )
;  ) *
set  + .
;  . /
}  0 1
public"" 

DateTime"" 
Date"" 
{"" 
get"" 
;"" 
set""  #
;""# $
}""% &
public$$ 

int$$ 
?$$ 
CombinationId$$ 
{$$ 
get$$  #
;$$# $
set$$% (
;$$( )
}$$* +
public&& 

bool&& 
ProductPack&& 
{&& 
get&& !
;&&! "
set&&# &
;&&& '
}&&( )
public(( 

decimal(( 
?(( 

BaseAmount(( 
{((  
get((! $
;(($ %
set((& )
;(() *
}((+ ,
public** 

decimal** 
?** 
DailyPercentage** #
{**$ %
get**& )
;**) *
set**+ .
;**. /
}**0 1
public,, 

int,, 
?,, 
WaitingDays,, 
{,, 
get,, !
;,,! "
set,,# &
;,,& '
},,( )
public.. 

int.. 
?.. 
DaysToPayQuantity.. !
{.." #
get..$ '
;..' (
set..) ,
;.., -
}... /
public00 

bool00 
ProductStart00 
{00 
get00 "
;00" #
set00$ '
;00' (
}00) *
public22 

DateTime22 
	CreatedAt22 
{22 
get22  #
;22# $
set22% (
;22( )
}22* +
public44 

DateTime44 
	UpdatedAt44 
{44 
get44  #
;44# $
set44% (
;44( )
}44* +
public66 

DateTime66 
?66 
	DeletedAt66 
{66  
get66! $
;66$ %
set66& )
;66) *
}66+ ,
public88 

long88 
BrandId88 
{88 
get88 
;88 
set88 "
;88" #
}88$ %
public:: 

virtual:: 
Brand:: 
Brand:: 
{::  
get::! $
;::$ %
set::& )
;::) *
}::+ ,
=::- .
null::/ 3
!::3 4
;::4 5
public<< 

virtual<< 
Invoice<< 
Invoice<< "
{<<# $
get<<% (
;<<( )
set<<* -
;<<- .
}<</ 0
=<<1 2
null<<3 7
!<<7 8
;<<8 9
}== –
SC:\HeroSystem\walletService\WalletService.Data\Database\Models\LeaderBoardModel5.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
LeaderBoardModel5 &
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

string

 
MatrixPosition

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
=

/ 0
null

1 5
!

5 6
;

6 7
public 

int 
GradingPosition 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
UserName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

int 
	GradingId 
{ 
get 
; 
set  #
;# $
}% &
} –
SC:\HeroSystem\walletService\WalletService.Data\Database\Models\LeaderBoardModel6.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
LeaderBoardModel6 &
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

string

 
MatrixPosition

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
=

/ 0
null

1 5
!

5 6
;

6 7
public 

int 
GradingPosition 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
UserName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 

int 
	GradingId 
{ 
get 
; 
set  #
;# $
}% &
} ≠
TC:\HeroSystem\walletService\WalletService.Data\Database\Models\ModelConfiguration.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ModelConfiguration '
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

decimal 
CompanyPercentage $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public

 

decimal

 
ModelPercentage

 "
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
public 

decimal 
MaxGainLimit 
{  !
get" %
;% &
set' *
;* +
}, -
public 

DateTime 
DateInit 
{ 
get "
;" #
set$ '
;' (
}) *
public 

DateTime 
DateEnd 
{ 
get !
;! "
set# &
;& '
}( )
public 

int 
Case 
{ 
get 
; 
set 
; 
}  !
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

decimal #
CompanyPercentageLevels *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

int 
? 
	Processed 
{ 
get 
;  
set! $
;$ %
}& '
public   

int   
?   
Totals   
{   
get   
;   
set   !
;  ! "
}  # $
public"" 

string"" 
	ModelType"" 
{"" 
get"" !
;""! "
set""# &
;""& '
}""( )
=""* +
null"", 0
!""0 1
;""1 2
public$$ 

virtual$$ 
ICollection$$ 
<$$ #
ModelConfigurationLevel$$ 6
>$$6 7$
ModelConfigurationLevels$$8 P
{$$Q R
get$$S V
;$$V W
}$$X Y
=$$Z [
new$$\ _
List$$` d
<$$d e#
ModelConfigurationLevel$$e |
>$$| }
($$} ~
)$$~ 
;	$$ Ä
public&& 

virtual&& 
ICollection&& 
<&& 
ResultsModel2&& ,
>&&, -
ResultsModel2s&&. <
{&&= >
get&&? B
;&&B C
}&&D E
=&&F G
new&&H K
List&&L P
<&&P Q
ResultsModel2&&Q ^
>&&^ _
(&&_ `
)&&` a
;&&a b
}'' ≥
YC:\HeroSystem\walletService\WalletService.Data\Database\Models\ModelConfigurationLevel.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class #
ModelConfigurationLevel ,
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long "
EcopoolConfigurationId &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public

 

int

 
Level

 
{

 
get

 
;

 
set

 
;

  
}

! "
public 

decimal 

Percentage 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

virtual 
ModelConfiguration % 
EcopoolConfiguration& :
{; <
get= @
;@ A
setB E
;E F
}G H
=I J
nullK O
!O P
;P Q
} ¯
TC:\HeroSystem\walletService\WalletService.Data\Database\Models\ModelFourStatistic.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ModelFourStatistic '
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

int

 
AffiliateNetworkId

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 

decimal 
? 

CreditLeft 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

decimal 
? 
CreditRight 
{  !
get" %
;% &
set' *
;* +
}, -
public 

decimal 
? 
	DebitLeft 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal 
? 

DebitRight 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

int 
	InvoiceId 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
? 
Concept 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

bool 
Compression 
{ 
get !
;! "
set# &
;& '
}( )
} ≤
QC:\HeroSystem\walletService\WalletService.Data\Database\Models\NetworkPurchase.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
NetworkPurchase $
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
	InvoiceId 
{ 
get 
; 
set  #
;# $
}% &
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

int 
Level 
{ 
get 
; 
set 
;  
}! "
public 

decimal 
CommisionableAmount &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 

decimal 
? 
Points 
{ 
get  
;  !
set" %
;% &
}' (
public 

short 
Origin 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
} Â
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel1a.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel1a #
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
ProductExternalId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

string 
ProductName 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

decimal 

BaseAmount 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal #
ProfitDistributedLevels *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

decimal 
TotalPercentage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
PaymentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
Points 
{ 
get 
; 
set  #
;# $
}% &
=' (
null) -
!- .
;. /
public 

DateOnly 

PeriodPool 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

DateTime 
? 
UserCreatedAt "
{# $
get% (
;( )
set* -
;- .
}/ 0
public   

virtual   
ICollection   
<   
ResultsModel1aLevel   2
>  2 3 
ResultsModel1aLevels  4 H
{  I J
get  K N
;  N O
}  P Q
=  R S
new  T W
List  X \
<  \ ]
ResultsModel1aLevel  ] p
>  p q
(  q r
)  r s
;  s t
}!! ò
UC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel1aLevel.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel1aLevel (
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long 
ResultsModel1aId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

int 
Level 
{ 
get 
; 
set 
;  
}! "
public 

decimal 
PercentageLevel "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
PaymentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

decimal 
? 
Points 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

int 

BinarySide 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
UserCreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

virtual 
ResultsModel1a !
ResultsModel1a" 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
nullA E
!E F
;F G
} Â
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel1b.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel1b #
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
ProductExternalId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

string 
ProductName 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

decimal 

BaseAmount 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal #
ProfitDistributedLevels *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

decimal 
TotalPercentage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
PaymentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
Points 
{ 
get 
; 
set  #
;# $
}% &
=' (
null) -
!- .
;. /
public 

DateOnly 

PeriodPool 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

DateTime 
? 
UserCreatedAt "
{# $
get% (
;( )
set* -
;- .
}/ 0
public   

virtual   
ICollection   
<   
ResultsModel1bLevel   2
>  2 3 
ResultsModel1bLevels  4 H
{  I J
get  K N
;  N O
}  P Q
=  R S
new  T W
List  X \
<  \ ]
ResultsModel1bLevel  ] p
>  p q
(  q r
)  r s
;  s t
}!! ò
UC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel1bLevel.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel1bLevel (
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long 
ResultsModel1bId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

int 
Level 
{ 
get 
; 
set 
;  
}! "
public 

decimal 
PercentageLevel "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
PaymentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

decimal 
? 
Points 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

int 

BinarySide 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
UserCreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

virtual 
ResultsModel1b !
ResultsModel1b" 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
=? @
nullA E
!E F
;F G
} Û&
OC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel2.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel2 "
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long "
EcopoolConfigurationId &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public

 

int

 
ProductExternalId

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

string 
ProductName 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

DateTime 
PaymentDate 
{  !
get" %
;% &
set' *
;* +
}, -
public 

DateTime 
LastDayDate 
{  !
get" %
;% &
set' *
;* +
}, -
public 

decimal 
DailyPercentage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
BasePack 
{ 
get !
;! "
set# &
;& '
}( )
public 

int 

DaysAmount 
{ 
get 
;  
set! $
;$ %
}& '
public 

decimal 

BaseAmount 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal 
CompanyAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public   

decimal   
CompanyPercentage   $
{  % &
get  ' *
;  * +
set  , /
;  / 0
}  1 2
public"" 

decimal"" #
ProfitDistributedLevels"" *
{""+ ,
get""- 0
;""0 1
set""2 5
;""5 6
}""7 8
public$$ 

decimal$$ 
TotalPercentage$$ "
{$$# $
get$$% (
;$$( )
set$$* -
;$$- .
}$$/ 0
public&& 

decimal&& 
DeductionAmount&& "
{&&# $
get&&% (
;&&( )
set&&* -
;&&- .
}&&/ 0
public(( 

decimal(( 
PaymentAmount((  
{((! "
get((# &
;((& '
set((( +
;((+ ,
}((- .
public** 

string** 
Points** 
{** 
get** 
;** 
set**  #
;**# $
}**% &
=**' (
null**) -
!**- .
;**. /
public,, 

string,, 
CasePool,, 
{,, 
get,,  
;,,  !
set,," %
;,,% &
},,' (
=,,) *
null,,+ /
!,,/ 0
;,,0 1
public.. 

DateOnly.. 

PeriodPool.. 
{..  
get..! $
;..$ %
set..& )
;..) *
}..+ ,
public00 

DateTime00 
?00 
CompletedAt00  
{00! "
get00# &
;00& '
set00( +
;00+ ,
}00- .
public22 

DateTime22 
?22 
UserCreatedAt22 "
{22# $
get22% (
;22( )
set22* -
;22- .
}22/ 0
public44 

virtual44 
ModelConfiguration44 %
ModelConfiguration44& 8
{449 :
get44; >
;44> ?
set44@ C
;44C D
}44E F
=44G H
null44I M
!44M N
;44N O
public66 

virtual66 
ICollection66 
<66 
ResultsModel2Level66 1
>661 2
ResultsModel2Levels663 F
{66G H
get66I L
;66L M
}66N O
=66P Q
new66R U
List66V Z
<66Z [
ResultsModel2Level66[ m
>66m n
(66n o
)66o p
;66p q
}77 â
TC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel2Level.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel2Level '
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long 
ResultEcopoolId 
{  !
get" %
;% &
set' *
;* +
}, -
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

int 
Level 
{ 
get 
; 
set 
;  
}! "
public 

decimal 
PercentageLevel "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal "
CompanyPercentageLevel )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 

decimal 
CompanyAmountLevel %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 

decimal 
CommisionAmount "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
PaymentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

decimal 
? 
Points 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

int 

BinarySide 
{ 
get 
;  
set! $
;$ %
}& '
public   

DateTime   
UserCreatedAt   !
{  " #
get  $ '
;  ' (
set  ) ,
;  , -
}  . /
public"" 

virtual"" 
ResultsModel2""  
ResultEcopool""! .
{""/ 0
get""1 4
;""4 5
set""6 9
;""9 :
}""; <
=""= >
null""? C
!""C D
;""D E
}## ‡
OC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel3.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel3 "
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
ProductExternalId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

string 
ProductName 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
null. 2
!2 3
;3 4
public 

decimal 

BaseAmount 
{ 
get  #
;# $
set% (
;( )
}* +
public 

decimal #
ProfitDistributedLevels *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 

decimal 
TotalPercentage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
PaymentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
Points 
{ 
get 
; 
set  #
;# $
}% &
=' (
null) -
!- .
;. /
public 

DateOnly 

PeriodPool 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

DateTime 
? 
UserCreatedAt "
{# $
get% (
;( )
set* -
;- .
}/ 0
public   

virtual   
ICollection   
<   
ResultsModel3Level   1
>  1 2
ResultsModel3Levels  3 F
{  G H
get  I L
;  L M
}  N O
=  P Q
new  R U
List  V Z
<  Z [
ResultsModel3Level  [ m
>  m n
(  n o
)  o p
;  p q
}!! ì
TC:\HeroSystem\walletService\WalletService.Data\Database\Models\ResultsModel3Level.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
ResultsModel3Level '
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

long 
ResultsModel3Id 
{  !
get" %
;% &
set' *
;* +
}, -
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

string 
AffiliateName 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public 

int 
Level 
{ 
get 
; 
set 
;  
}! "
public 

decimal 
PercentageLevel "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

decimal 
PaymentAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

decimal 
? 
Points 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
? 
CompletedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

int 

BinarySide 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
UserCreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

virtual 
ResultsModel3  
ResultsModel3! .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
== >
null? C
!C D
;D E
} ‡	
LC:\HeroSystem\walletService\WalletService.Data\Database\Models\Sysdiagram.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 

Sysdiagram 
{ 
public 

string 
Name 
{ 
get 
; 
set !
;! "
}# $
=% &
null' +
!+ ,
;, -
public 

int 
PrincipalId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

long

 
	DiagramId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 

int 
? 
Version 
{ 
get 
; 
set "
;" #
}$ %
public 

byte 
[ 
] 
? 

Definition 
{ 
get  #
;# $
set% (
;( )
}* +
} ¯
QC:\HeroSystem\walletService\WalletService.Data\Database\Models\TransactionType.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
TransactionType $
{ 
public 

int 
TransactionTypeId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
TypeName 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public

 

virtual

 
ICollection

 
<

 #
BonusTransactionHistory

 6
>

6 7%
BonusTransactionHistories

8 Q
{

R S
get

T W
;

W X
}

Y Z
=

[ \
new

] `
List

a e
<

e f#
BonusTransactionHistory

f }
>

} ~
(

~ 
)	

 Ä
;


Ä Å
} ”
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\VolumePurchase.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
VolumePurchase #
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
	InvoiceId 
{ 
get 
; 
set  #
;# $
}% &
public

 

int

 
AffiliateId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

int 
AffiliateIdGeneric !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

decimal 
? 
CreditI 
{ 
get !
;! "
set# &
;& '
}( )
public 

decimal 
? 
CreditD 
{ 
get !
;! "
set# &
;& '
}( )
public 

decimal 
? 
DebitI 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
DebitD 
{ 
get  
;  !
set" %
;% &
}' (
public 

string 
? 
Concept 
{ 
get  
;  !
set" %
;% &
}' (
public 

short 
? 
Compression 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
} ©
HC:\HeroSystem\walletService\WalletService.Data\Database\Models\Wallet.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
Wallet 
{ 
public 

long 
AffiliateId 
{ 
get !
;! "
set# &
;& '
}( )
public 

int 
? 
UserId 
{ 
get 
; 
set !
;! "
}# $
public

 

decimal

 
?

 
Credit

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

decimal 
? 
Deferred 
{ 
get "
;" #
set$ '
;' (
}) *
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

int 
? 
Support 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

bool 
? 
Compression 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
? 
Detail 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public   

DateTime   
?   
	DeletedAt   
{    
get  ! $
;  $ %
set  & )
;  ) *
}  + ,
public"" 

long"" 
Id"" 
{"" 
get"" 
;"" 
set"" 
;"" 
}""  
public$$ 

string$$ 
?$$ 
AffiliateUserName$$ $
{$$% &
get$$' *
;$$* +
set$$, /
;$$/ 0
}$$1 2
public&& 

string&& 
?&& 
AdminUserName&&  
{&&! "
get&&# &
;&&& '
set&&( +
;&&+ ,
}&&- .
public(( 

string(( 
?(( 
ConceptType(( 
{((  
get((! $
;(($ %
set((& )
;(() *
}((+ ,
public** 

long** 
?** 
BrandId** 
{** 
get** 
;** 
set**  #
;**# $
}**% &
public,, 

virtual,, 
Brand,, 
?,, 
Brand,, 
{,,  !
get,," %
;,,% &
set,,' *
;,,* +
},,, -
}-- ®
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsHistory.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
WalletsHistory #
{ 
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public 

int 
? 
UserId 
{ 
get 
; 
set !
;! "
}# $
public

 

decimal

 
?

 
Credit

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

decimal 
? 
Deferred 
{ 
get "
;" #
set$ '
;' (
}) *
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

int 
? 
Support 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

bool 
? 
Compression 
{ 
get "
;" #
set$ '
;' (
}) *
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public   

long   
Id   
{   
get   
;   
set   
;   
}    
}!! ‘
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsModel1a.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
WalletsModel1a #
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

int

 
?

 
UserId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

decimal 
? 
Credit 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

decimal 
? 
Deferred 
{ 
get "
;" #
set$ '
;' (
}) *
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

int 
? 
Support 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

bool 
? 
Compression 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
? 
Detail 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public   

DateTime   
	UpdatedAt   
{   
get    #
;  # $
set  % (
;  ( )
}  * +
public"" 

DateTime"" 
?"" 
	DeletedAt"" 
{""  
get""! $
;""$ %
set""& )
;"") *
}""+ ,
public$$ 

string$$ 
?$$ 
AffiliateUserName$$ $
{$$% &
get$$' *
;$$* +
set$$, /
;$$/ 0
}$$1 2
public&& 

string&& 
?&& 
AdminUserName&&  
{&&! "
get&&# &
;&&& '
set&&( +
;&&+ ,
}&&- .
public(( 

string(( 
?(( 
ConceptType(( 
{((  
get((! $
;(($ %
set((& )
;(() *
}((+ ,
})) ‘
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsModel1b.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
WalletsModel1b #
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

int

 
?

 
UserId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

decimal 
? 
Credit 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

decimal 
? 
Deferred 
{ 
get "
;" #
set$ '
;' (
}) *
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

int 
? 
Support 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

bool 
? 
Compression 
{ 
get "
;" #
set$ '
;' (
}) *
public 

string 
? 
Detail 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public   

DateTime   
	UpdatedAt   
{   
get    #
;  # $
set  % (
;  ( )
}  * +
public"" 

DateTime"" 
?"" 
	DeletedAt"" 
{""  
get""! $
;""$ %
set""& )
;"") *
}""+ ,
public$$ 

string$$ 
?$$ 
AffiliateUserName$$ $
{$$% &
get$$' *
;$$* +
set$$, /
;$$/ 0
}$$1 2
public&& 

string&& 
?&& 
AdminUserName&&  
{&&! "
get&&# &
;&&& '
set&&( +
;&&+ ,
}&&- .
public(( 

string(( 
?(( 
ConceptType(( 
{((  
get((! $
;(($ %
set((& )
;(() *
}((+ ,
})) ©

OC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsPeriod.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
WalletsPeriod "
{ 
public 

DateOnly 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

bool 
Status 
{ 
get 
; 
set !
;! "
}# $
public

 

DateTime

 
	CreatedAt

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
} ë
PC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsRequest.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
WalletsRequest #
{ 
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public 

int 
? 
PaymentAffiliateId "
{# $
get% (
;( )
set* -
;- .
}/ 0
public

 

string

 
OrderNumber

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
=

, -
null

. 2
!

2 3
;

3 4
public 

decimal 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

DateTime 
CreationDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

short 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

DateTime 
? 
AttentionDate "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
? 
AdminUserName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public   

string   
Type   
{   
get   
;   
set   !
;  ! "
}  # $
=  % &
null  ' +
!  + ,
;  , -
public"" 

long"" 
InvoiceNumber"" 
{"" 
get""  #
;""# $
set""% (
;""( )
}""* +
public$$ 

long$$ 
?$$ 
BrandId$$ 
{$$ 
get$$ 
;$$ 
set$$  #
;$$# $
}$$% &
public&& 

virtual&& 
Brand&& 
?&& 
Brand&& 
{&&  !
get&&" %
;&&% &
set&&' *
;&&* +
}&&, -
}'' –
YC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsRetentionsConfig.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class #
WalletsRetentionsConfig ,
{ 
public 

decimal 
WithdrawalFrom !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

decimal 
WithdrawalTo 
{  !
get" %
;% &
set' *
;* +
}, -
public

 

decimal

 

Percentage

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

DateTime 
? 
DisableDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

bool 
Status 
{ 
get 
; 
set !
;! "
}# $
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
} ¬
WC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsServiceModel1a.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class !
WalletsServiceModel1a *
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

int

 
?

 
UserId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

decimal 
? 
Credit 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

string 
? 
AffiliateUserName $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
} ¬
WC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsServiceModel1b.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class !
WalletsServiceModel1b *
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

int

 
?

 
UserId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

decimal 
? 
Credit 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

string 
? 
AffiliateUserName $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
} §
VC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsServiceModel2.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class  
WalletsServiceModel2 )
{ 
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public

 

int

 
?

 
UserId

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

decimal 
? 
Credit 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
Debit 
{ 
get 
;  
set! $
;$ %
}& '
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
Concept 
{ 
get 
;  
set! $
;$ %
}& '
=( )
null* .
!. /
;/ 0
public 

string 
? 
AffiliateUserName $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
	UpdatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

long 
? 
BrandId 
{ 
get 
; 
set  #
;# $
}% &
public 

virtual 
Brand 
? 
Brand 
{  !
get" %
;% &
set' *
;* +
}, -
} ¨
MC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsWait.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
WalletsWait  
{ 
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
? 
Credit 
{ 
get  
;  !
set" %
;% &
}' (
public

 

string

 
PaymentMethod

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
=

. /
null

0 4
!

4 5
;

5 6
public 

string 
? 
Bank 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
? 
Support 
{ 
get  
;  !
set" %
;% &
}' (
public 

DateTime 
? 
DepositDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

bool 
? 
Status 
{ 
get 
; 
set "
;" #
}$ %
public 

bool 
? 
Attended 
{ 
get 
;  
set! $
;$ %
}& '
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
? 
Order 
{ 
get 
; 
set  #
;# $
}% &
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public   

long   
Id   
{   
get   
;   
set   
;   
}    
}!! Û
SC:\HeroSystem\walletService\WalletService.Data\Database\Models\WalletsWithdrawal.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Models& ,
;, -
public 
partial 
class 
WalletsWithdrawal &
{ 
public 

int 
AffiliateId 
{ 
get  
;  !
set" %
;% &
}' (
public 

decimal 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public

 

bool

 
Status

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

string 
? 
Observation 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

string 
? 
AdminObservation #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

DateTime 
Date 
{ 
get 
; 
set  #
;# $
}% &
public 

DateTime 
? 
ResponseDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

decimal 
RetentionPercentage &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 

DateTime 
	CreatedAt 
{ 
get  #
;# $
set% (
;( )
}* +
public 

DateTime 
? 
	UpdatedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

DateTime 
? 
	DeletedAt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

long 
Id 
{ 
get 
; 
set 
; 
}  
public 

bool 
IsProcessed 
{ 
get !
;! "
set# &
;& '
}( )
public   

string   
?   
AffiliateUserName   $
{  % &
get  ' *
;  * +
set  , /
;  / 0
}  1 2
}!! ‚3
`C:\HeroSystem\walletService\WalletService.Data\Database\Types\InvoiceDetailsTypeConfiguration.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Types& +
;+ ,
public 
class +
InvoiceDetailsTypeConfiguration ,
:- .$
IEntityTypeConfiguration/ G
<G H,
 InvoiceDetailsTransactionRequestH h
>h i
{ 
public		 

void		 
	Configure		 
(		 
EntityTypeBuilder		 +
<		+ ,,
 InvoiceDetailsTransactionRequest		, L
>		L M
builder		N U
)		U V
{

 
builder 
. 
HasNoKey 
( 
) 
; 
builder 
. 
ToTable 
( 
$str :
,: ;
$str< L
)L M
;M N
builder 
. 
Property 
( 
x 
=> 
x 
.  
	ProductId  )
)) *
.* +
HasColumnType+ 8
(8 9
$str9 B
)B C
;C D
builder 
. 
Property 
( 
x 
=> 
x 
.  
PaymentGroupId  .
). /
./ 0
HasColumnType0 =
(= >
$str> G
)G H
;H I
builder 
. 
Property 
( 
x 
=> 
x 
.  
AccumMinPurchase  0
)0 1
.1 2
HasColumnType2 ?
(? @
$str@ I
)I J
;J K
builder 
. 
Property 
( 
x 
=> 
x 
.  
ProductName  +
)+ ,
., -
HasColumnType- :
(: ;
$str; D
)D E
;E F
builder 
. 
Property 
( 
x 
=> 
x 
.  
ProductPrice  ,
), -
.- .
HasColumnType. ;
(; <
$str< E
)E F
;F G
builder 
. 
Property 
( 
x 
=> 
x 
.  
ProductPriceBtc  /
)/ 0
.0 1
HasColumnType1 >
(> ?
$str? H
)H I
;I J
builder 
. 
Property 
( 
x 
=> 
x 
.  

ProductIva  *
)* +
.+ ,
HasColumnType, 9
(9 :
$str: C
)C D
;D E
builder 
. 
Property 
( 
x 
=> 
x 
.  
ProductQuantity  /
)/ 0
.0 1
HasColumnType1 >
(> ?
$str? H
)H I
;I J
builder 
. 
Property 
( 
x 
=> 
x 
.  !
ProductCommissionable  5
)5 6
.6 7
HasColumnType7 D
(D E
$strE N
)N O
;O P
builder 
. 
Property 
( 
x 
=> 
x 
.  
BinaryPoints  ,
), -
.- .
HasColumnType. ;
(; <
$str< E
)E F
;F G
builder 
. 
Property 
( 
x 
=> 
x 
.  
ProductPoints  -
)- .
.. /
HasColumnType/ <
(< =
$str= F
)F G
;G H
builder 
. 
Property 
( 
x 
=> 
x 
.  
ProductDiscount  /
)/ 0
.0 1
HasColumnType1 >
(> ?
$str? H
)H I
;I J
builder 
. 
Property 
( 
x 
=> 
x 
.  
CombinationId  -
)- .
.. /
HasColumnType/ <
(< =
$str= F
)F G
;G H
builder 
. 
Property 
( 
x 
=> 
x 
.  
ProductPack  +
)+ ,
., -
HasColumnType- :
(: ;
$str; D
)D E
;E F
builder 
. 
Property 
( 
x 
=> 
x 
.  

BaseAmount  *
)* +
.+ ,
HasColumnType, 9
(9 :
$str: C
)C D
;D E
builder 
. 
Property 
( 
x 
=> 
x 
.  
DailyPercentage  /
)/ 0
.0 1
HasColumnType1 >
(> ?
$str? H
)H I
;I J
builder 
. 
Property 
( 
x 
=> 
x 
.  
WaitingDays  +
)+ ,
., -
HasColumnType- :
(: ;
$str; D
)D E
;E F
builder 
. 
Property 
( 
x 
=> 
x 
.  
DaysToPayQuantity  1
)1 2
.2 3
HasColumnType3 @
(@ A
$strA J
)J K
;K L
builder   
.   
Property   
(   
x   
=>   
x   
.    
ProductStart    ,
)  , -
.  - .
HasColumnType  . ;
(  ; <
$str  < E
)  E F
;  F G
builder!! 
.!! 
Property!! 
(!! 
x!! 
=>!! 
x!! 
.!!  
BrandId!!  '
)!!' (
.!!( )
HasColumnType!!) 6
(!!6 7
$str!!7 @
)!!@ A
;!!A B
}"" 
}## å
[C:\HeroSystem\walletService\WalletService.Data\Database\Types\InvoiceDetailTypeWithBrand.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
.% &
Types& +
;+ ,
[ 
NpgsqlTypes 
. 
PgName 
( 
$str 6
)6 7
]7 8
public 
class &
InvoiceDetailTypeWithBrand '
{ 
public 

int 

product_id 
{ 
get 
;  
set! $
;$ %
}& '
public 

int 
payment_group_id 
{  !
get" %
;% &
set' *
;* +
}, -
public 

bool 
accummin_purchase !
{" #
get$ '
;' (
set) ,
;, -
}. /
public		 

string		 
product_name		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
public

 

decimal

 
product_price

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 

decimal 
product_price_btc $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

decimal 
product_iva 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

int 
product_quantity 
{  !
get" %
;% &
set' *
;* +
}, -
public 

decimal "
product_commissionable )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 

decimal 
binary_points  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

decimal 
product_points !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 

decimal 
product_discount #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

int 
combination_id 
{ 
get  #
;# $
set% (
;( )
}* +
public 

bool 
product_pack 
{ 
get "
;" #
set$ '
;' (
}) *
public 

decimal 
base_amount 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 

decimal 
daily_percentage #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

int 
waiting_days 
{ 
get !
;! "
set# &
;& '
}( )
public 

int  
days_to_pay_quantity #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 

bool 
product_start 
{ 
get  #
;# $
set% (
;( )
}* +
public 

int 
brand_id 
{ 
get 
; 
set "
;" #
}$ %
} Ê˛
QC:\HeroSystem\walletService\WalletService.Data\Database\WalletServiceDbContext.cs
	namespace 	
WalletService
 
. 
Data 
. 
Database %
;% &
public

 
partial

 
class

 "
WalletServiceDbContext

 +
:

, -
	DbContext

. 7
{ 
public 
"
WalletServiceDbContext !
(! "
)" #
{ 
} 
public 
"
WalletServiceDbContext !
(! "
DbContextOptions" 2
<2 3"
WalletServiceDbContext3 I
>I J
optionsK R
)R S
: 	
base
 
( 
options 
) 
{ 
} 
public 

virtual 
DbSet 
< 
	ApiClient "
>" #
	ApiClient$ -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 

virtual 
DbSet 
< #
BonusTransactionHistory 0
>0 1%
BonusTransactionHistories2 K
{L M
getN Q
;Q R
setS V
;V W
}X Y
public 

virtual 
DbSet 
< 
Bonuse 
>  
Bonuses! (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 

virtual 
DbSet 
< 
Brand 
> 
Brand  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 

virtual 
DbSet 
< "
CoinpaymentTransaction /
>/ 0
PaymentTransaction1 C
{D E
getF I
;I J
setK N
;N O
}P Q
public 

virtual 
DbSet 
< 

Commission #
># $
Commissions% 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public!! 

virtual!! 
DbSet!! 
<!! 
Credit!! 
>!!  
Credits!!! (
{!!) *
get!!+ .
;!!. /
set!!0 3
;!!3 4
}!!5 6
public## 

virtual## 
DbSet## 
<## 
Invoice##  
>##  !
Invoices##" *
{##+ ,
get##- 0
;##0 1
set##2 5
;##5 6
}##7 8
public%% 

virtual%% 
DbSet%% 
<%% 
InvoicePack%% $
>%%$ %
InvoicePacks%%& 2
{%%3 4
get%%5 8
;%%8 9
set%%: =
;%%= >
}%%? @
public'' 

virtual'' 
DbSet'' 
<'' 
InvoicePacksDetail'' +
>''+ ,
InvoicePacksDetails''- @
{''A B
get''C F
;''F G
set''H K
;''K L
}''M N
public)) 

virtual)) 
DbSet)) 
<)) 
InvoicesDetail)) '
>))' (
InvoicesDetails))) 8
{))9 :
get)); >
;))> ?
set))@ C
;))C D
}))E F
public++ 

virtual++ 
DbSet++ 
<++ 
LeaderBoardModel5++ *
>++* +
LeaderBoardModel5++, =
{++> ?
get++@ C
;++C D
set++E H
;++H I
}++J K
public-- 

virtual-- 
DbSet-- 
<-- 
LeaderBoardModel6-- *
>--* +
LeaderBoardModel6--, =
{--> ?
get--@ C
;--C D
set--E H
;--H I
}--J K
public// 

virtual// 
DbSet// 
<// 
ModelConfiguration// +
>//+ ,
ModelConfiguration//- ?
{//@ A
get//B E
;//E F
set//G J
;//J K
}//L M
public11 

virtual11 
DbSet11 
<11 #
ModelConfigurationLevel11 0
>110 1$
ModelConfigurationLevels112 J
{11K L
get11M P
;11P Q
set11R U
;11U V
}11W X
public33 

virtual33 
DbSet33 
<33 
ModelFourStatistic33 +
>33+ ,
ModelFourStatistics33- @
{33A B
get33C F
;33F G
set33H K
;33K L
}33M N
public55 

virtual55 
DbSet55 
<55 
NetworkPurchase55 (
>55( )
NetworkPurchases55* :
{55; <
get55= @
;55@ A
set55B E
;55E F
}55G H
public77 

virtual77 
DbSet77 
<77 
ResultsModel1a77 '
>77' (
ResultsModel1A77) 7
{778 9
get77: =
;77= >
set77? B
;77B C
}77D E
public99 

virtual99 
DbSet99 
<99 
ResultsModel1aLevel99 ,
>99, - 
ResultsModel1ALevels99. B
{99C D
get99E H
;99H I
set99J M
;99M N
}99O P
public;; 

virtual;; 
DbSet;; 
<;; 
ResultsModel1b;; '
>;;' (
ResultsModel1B;;) 7
{;;8 9
get;;: =
;;;= >
set;;? B
;;;B C
};;D E
public== 

virtual== 
DbSet== 
<== 
ResultsModel1bLevel== ,
>==, - 
ResultsModel1BLevels==. B
{==C D
get==E H
;==H I
set==J M
;==M N
}==O P
public?? 

virtual?? 
DbSet?? 
<?? 
ResultsModel2?? &
>??& '
ResultsModel2??( 5
{??6 7
get??8 ;
;??; <
set??= @
;??@ A
}??B C
publicAA 

virtualAA 
DbSetAA 
<AA 
ResultsModel2LevelAA +
>AA+ ,
ResultsModel2LevelsAA- @
{AAA B
getAAC F
;AAF G
setAAH K
;AAK L
}AAM N
publicCC 

virtualCC 
DbSetCC 
<CC 
ResultsModel3CC &
>CC& '
ResultsModel3CC( 5
{CC6 7
getCC8 ;
;CC; <
setCC= @
;CC@ A
}CCB C
publicEE 

virtualEE 
DbSetEE 
<EE 
ResultsModel3LevelEE +
>EE+ ,
ResultsModel3LevelsEE- @
{EEA B
getEEC F
;EEF G
setEEH K
;EEK L
}EEM N
publicGG 

virtualGG 
DbSetGG 
<GG 

SysdiagramGG #
>GG# $
SysdiagramsGG% 0
{GG1 2
getGG3 6
;GG6 7
setGG8 ;
;GG; <
}GG= >
publicII 

virtualII 
DbSetII 
<II 
TransactionTypeII (
>II( )
TransactionTypesII* :
{II; <
getII= @
;II@ A
setIIB E
;IIE F
}IIG H
publicKK 

virtualKK 
DbSetKK 
<KK 
VolumePurchaseKK '
>KK' (
VolumePurchasesKK) 8
{KK9 :
getKK; >
;KK> ?
setKK@ C
;KKC D
}KKE F
publicMM 

virtualMM 
DbSetMM 
<MM 
WalletMM 
>MM  
WalletsMM! (
{MM) *
getMM+ .
;MM. /
setMM0 3
;MM3 4
}MM5 6
publicOO 

virtualOO 
DbSetOO 
<OO 
WalletsHistoryOO '
>OO' (
WalletsHistoriesOO) 9
{OO: ;
getOO< ?
;OO? @
setOOA D
;OOD E
}OOF G
publicQQ 

virtualQQ 
DbSetQQ 
<QQ 
WalletsModel1aQQ '
>QQ' (
WalletsModel1AQQ) 7
{QQ8 9
getQQ: =
;QQ= >
setQQ? B
;QQB C
}QQD E
publicSS 

virtualSS 
DbSetSS 
<SS 
WalletsModel1bSS '
>SS' (
WalletsModel1BSS) 7
{SS8 9
getSS: =
;SS= >
setSS? B
;SSB C
}SSD E
publicUU 

virtualUU 
DbSetUU 
<UU 
WalletsPeriodUU &
>UU& '
WalletsPeriodsUU( 6
{UU7 8
getUU9 <
;UU< =
setUU> A
;UUA B
}UUC D
publicWW 

virtualWW 
DbSetWW 
<WW 
WalletsRequestWW '
>WW' (
WalletsRequestsWW) 8
{WW9 :
getWW; >
;WW> ?
setWW@ C
;WWC D
}WWE F
publicYY 

virtualYY 
DbSetYY 
<YY #
WalletsRetentionsConfigYY 0
>YY0 1$
WalletsRetentionsConfigsYY2 J
{YYK L
getYYM P
;YYP Q
setYYR U
;YYU V
}YYW X
public[[ 

virtual[[ 
DbSet[[ 
<[[ !
WalletsServiceModel1a[[ .
>[[. /!
WalletsServiceModel1A[[0 E
{[[F G
get[[H K
;[[K L
set[[M P
;[[P Q
}[[R S
public]] 

virtual]] 
DbSet]] 
<]] !
WalletsServiceModel1b]] .
>]]. /!
WalletsServiceModel1B]]0 E
{]]F G
get]]H K
;]]K L
set]]M P
;]]P Q
}]]R S
public__ 

virtual__ 
DbSet__ 
<__  
WalletsServiceModel2__ -
>__- . 
WalletsServiceModel2__/ C
{__D E
get__F I
;__I J
set__K N
;__N O
}__P Q
publicaa 

virtualaa 
DbSetaa 
<aa 
WalletsWaitaa $
>aa$ %
WalletsWaitsaa& 2
{aa3 4
getaa5 8
;aa8 9
setaa: =
;aa= >
}aa? @
publicbb 

virtualbb 
DbSetbb 
<bb 
WalletsWithdrawalbb *
>bb* +
WalletsWithdrawalsbb, >
{bb? @
getbbA D
;bbD E
setbbF I
;bbI J
}bbK L
publicdd 

DbSetdd 
<dd 
InvoicesSpResponsedd #
>dd# $
InvoicesSpResponsesdd% 8
{dd9 :
getdd; >
;dd> ?
setdd@ C
;ddC D
}ddE F
publicee 

DbSetee 
<ee 
PurchasesPerMonthee "
>ee" #
PurchasesPerMonthee$ 5
{ee6 7
getee8 ;
;ee; <
setee= @
;ee@ A
}eeB C
	protectedgg 
overridegg 
voidgg 
OnModelCreatinggg +
(gg+ ,
ModelBuildergg, 8
modelBuildergg9 E
)ggE F
{hh 
modelBuilderii 
.ii +
ApplyConfigurationsFromAssemblyii 4
(ii4 5
typeofii5 ;
(ii; <"
WalletServiceDbContextii< R
)iiR S
.iiS T
AssemblyiiT \
)ii\ ]
;ii] ^
modelBuilderkk 
.kk 
Entitykk 
<kk 
	ApiClientkk %
>kk% &
(kk& '
entitykk' -
=>kk. 0
{ll 	
entitymm 
.mm 
HasKeymm 
(mm 
emm 
=>mm 
emm  
.mm  !
Idmm! #
)mm# $
.mm$ %
HasNamemm% ,
(mm, -
$strmm- W
)mmW X
;mmX Y
entityoo 
.oo 
ToTableoo 
(oo 
$stroo '
,oo' (
$stroo) 9
)oo9 :
;oo: ;
entityqq 
.qq 
Propertyqq 
(qq 
eqq 
=>qq  
eqq! "
.qq" #
Idqq# %
)qq% &
.rr 
HasDefaultValueSqlrr #
(rr# $
$strrr$ K
)rrK L
.ss 
HasColumnNamess 
(ss 
$strss #
)ss# $
;ss$ %
entitytt 
.tt 
Propertytt 
(tt 
ett 
=>tt  
ett! "
.tt" #
	CreatedAttt# ,
)tt, -
.tt- .
HasColumnNamett. ;
(tt; <
$strtt< H
)ttH I
;ttI J
entityuu 
.uu 
Propertyuu 
(uu 
euu 
=>uu  
euu! "
.uu" #
	DeletedAtuu# ,
)uu, -
.uu- .
HasColumnNameuu. ;
(uu; <
$struu< H
)uuH I
;uuI J
entityvv 
.vv 
Propertyvv 
(vv 
evv 
=>vv  
evv! "
.vv" #
Namevv# '
)vv' (
.vv( )
HasColumnNamevv) 6
(vv6 7
$strvv7 =
)vv= >
;vv> ?
entityww 
.ww 
Propertyww 
(ww 
eww 
=>ww  
eww! "
.ww" #
Tokenww# (
)ww( )
.ww) *
HasColumnNameww* 7
(ww7 8
$strww8 ?
)ww? @
;ww@ A
entityxx 
.xx 
Propertyxx 
(xx 
exx 
=>xx  
exx! "
.xx" #
	UpdatedAtxx# ,
)xx, -
.xx- .
HasColumnNamexx. ;
(xx; <
$strxx< H
)xxH I
;xxI J
entityzz 
.zz 
HasQueryFilterzz !
(zz! "
ezz" #
=>zz$ &
!zz' (
ezz( )
.zz) *
	DeletedAtzz* 3
.zz3 4
HasValuezz4 <
)zz< =
;zz= >
}{{ 	
){{	 

;{{
 
modelBuilder}} 
.}} 
Entity}} 
<}} #
BonusTransactionHistory}} 3
>}}3 4
(}}4 5
entity}}5 ;
=>}}< >
{~~ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
TransactionId! .
). /
./ 0
HasName0 7
(7 8
$str8 b
)b c
;c d
entity
ÅÅ 
.
ÅÅ 
ToTable
ÅÅ 
(
ÅÅ 
$str
ÅÅ 6
,
ÅÅ6 7
$str
ÅÅ8 H
)
ÅÅH I
;
ÅÅI J
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #
TransactionId
ÉÉ# 0
)
ÉÉ0 1
.
ÑÑ  
HasDefaultValueSql
ÑÑ #
(
ÑÑ# $
$str
ÑÑ$ d
)
ÑÑd e
.
ÖÖ 
HasColumnName
ÖÖ 
(
ÖÖ 
$str
ÖÖ /
)
ÖÖ/ 0
;
ÖÖ0 1
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #
Amount
ÜÜ# )
)
ÜÜ) *
.
ÜÜ* +
HasColumnName
ÜÜ+ 8
(
ÜÜ8 9
$str
ÜÜ9 A
)
ÜÜA B
;
ÜÜB C
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
BonusId
áá# *
)
áá* +
.
áá+ ,
HasColumnName
áá, 9
(
áá9 :
$str
áá: D
)
ááD E
;
ááE F
entity
àà 
.
àà 
Property
àà 
(
àà 
e
àà 
=>
àà  
e
àà! "
.
àà" #
Comment
àà# *
)
àà* +
.
àà+ ,
HasColumnName
àà, 9
(
àà9 :
$str
àà: C
)
ààC D
;
ààD E
entity
ââ 
.
ââ 
Property
ââ 
(
ââ 
e
ââ 
=>
ââ  
e
ââ! "
.
ââ" #
	CreatedAt
ââ# ,
)
ââ, -
.
ââ- .
HasColumnName
ââ. ;
(
ââ; <
$str
ââ< H
)
ââH I
;
ââI J
entity
ää 
.
ää 
Property
ää 
(
ää 
e
ää 
=>
ää  
e
ää! "
.
ää" #
	DeletedAt
ää# ,
)
ää, -
.
ää- .
HasColumnName
ää. ;
(
ää; <
$str
ää< H
)
ääH I
;
ääI J
entity
ãã 
.
ãã 
Property
ãã 
(
ãã 
e
ãã 
=>
ãã  
e
ãã! "
.
ãã" #
	InvoiceId
ãã# ,
)
ãã, -
.
ãã- .
HasColumnName
ãã. ;
(
ãã; <
$str
ãã< H
)
ããH I
;
ããI J
entity
åå 
.
åå 
Property
åå 
(
åå 
e
åå 
=>
åå  
e
åå! "
.
åå" #
TransactionDate
åå# 2
)
åå2 3
.
åå3 4
HasColumnName
åå4 A
(
ååA B
$str
ååB T
)
ååT U
;
ååU V
entity
çç 
.
çç 
Property
çç 
(
çç 
e
çç 
=>
çç  
e
çç! "
.
çç" #
TransactionTypeId
çç# 4
)
çç4 5
.
çç5 6
HasColumnName
çç6 C
(
ççC D
$str
ççD Y
)
ççY Z
;
ççZ [
entity
éé 
.
éé 
Property
éé 
(
éé 
e
éé 
=>
éé  
e
éé! "
.
éé" #
	UpdatedAt
éé# ,
)
éé, -
.
éé- .
HasColumnName
éé. ;
(
éé; <
$str
éé< H
)
ééH I
;
ééI J
entity
êê 
.
êê 
HasOne
êê 
(
êê 
d
êê 
=>
êê 
d
êê  
.
êê  !
Bonus
êê! &
)
êê& '
.
êê' (
WithMany
êê( 0
(
êê0 1
p
êê1 2
=>
êê3 5
p
êê6 7
.
êê7 8'
BonusTransactionHistories
êê8 Q
)
êêQ R
.
ëë 
HasForeignKey
ëë 
(
ëë 
d
ëë  
=>
ëë! #
d
ëë$ %
.
ëë% &
BonusId
ëë& -
)
ëë- .
.
íí 
HasConstraintName
íí "
(
íí" #
$str
íí# C
)
ííC D
;
ííD E
entity
îî 
.
îî 
HasOne
îî 
(
îî 
d
îî 
=>
îî 
d
îî  
.
îî  !
Invoice
îî! (
)
îî( )
.
îî) *
WithMany
îî* 2
(
îî2 3
p
îî3 4
=>
îî5 7
p
îî8 9
.
îî9 :'
BonusTransactionHistories
îî: S
)
îîS T
.
ïï 
HasForeignKey
ïï 
(
ïï 
d
ïï  
=>
ïï! #
d
ïï$ %
.
ïï% &
	InvoiceId
ïï& /
)
ïï/ 0
.
ññ 
HasConstraintName
ññ "
(
ññ" #
$str
ññ# C
)
ññC D
;
ññD E
entity
òò 
.
òò 
HasOne
òò 
(
òò 
d
òò 
=>
òò 
d
òò  
.
òò  !
TransactionType
òò! 0
)
òò0 1
.
òò1 2
WithMany
òò2 :
(
òò: ;
p
òò; <
=>
òò= ?
p
òò@ A
.
òòA B'
BonusTransactionHistories
òòB [
)
òò[ \
.
ôô 
HasForeignKey
ôô 
(
ôô 
d
ôô  
=>
ôô! #
d
ôô$ %
.
ôô% &
TransactionTypeId
ôô& 7
)
ôô7 8
.
öö 
HasConstraintName
öö "
(
öö" #
$str
öö# C
)
ööC D
;
ööD E
entity
úú 
.
úú 
HasQueryFilter
úú !
(
úú! "
e
úú" #
=>
úú$ &
!
úú' (
e
úú( )
.
úú) *
	DeletedAt
úú* 3
.
úú3 4
HasValue
úú4 <
)
úú< =
;
úú= >
}
ùù 	
)
ùù	 

;
ùù
 
modelBuilder
üü 
.
üü 
Entity
üü 
<
üü 
Bonuse
üü "
>
üü" #
(
üü# $
entity
üü$ *
=>
üü+ -
{
†† 	
entity
°° 
.
°° 
HasKey
°° 
(
°° 
e
°° 
=>
°° 
e
°°  
.
°°  !
BonusId
°°! (
)
°°( )
.
°°) *
HasName
°°* 1
(
°°1 2
$str
°°2 [
)
°°[ \
;
°°\ ]
entity
££ 
.
££ 
ToTable
££ 
(
££ 
$str
££ $
,
££$ %
$str
££& 6
)
££6 7
;
££7 8
entity
•• 
.
•• 
Property
•• 
(
•• 
e
•• 
=>
••  
e
••! "
.
••" #
BonusId
••# *
)
••* +
.
¶¶  
HasDefaultValueSql
¶¶ #
(
¶¶# $
$str
¶¶$ N
)
¶¶N O
.
ßß 
HasColumnName
ßß 
(
ßß 
$str
ßß )
)
ßß) *
;
ßß* +
entity
®® 
.
®® 
Property
®® 
(
®® 
e
®® 
=>
®®  
e
®®! "
.
®®" #
AffiliateId
®®# .
)
®®. /
.
®®/ 0
HasColumnName
®®0 =
(
®®= >
$str
®®> L
)
®®L M
;
®®M N
entity
©© 
.
©© 
Property
©© 
(
©© 
e
©© 
=>
©©  
e
©©! "
.
©©" #
	CreatedAt
©©# ,
)
©©, -
.
©©- .
HasColumnName
©©. ;
(
©©; <
$str
©©< H
)
©©H I
;
©©I J
entity
™™ 
.
™™ 
Property
™™ 
(
™™ 
e
™™ 
=>
™™  
e
™™! "
.
™™" #
CurrentAmount
™™# 0
)
™™0 1
.
™™1 2
HasColumnName
™™2 ?
(
™™? @
$str
™™@ P
)
™™P Q
;
™™Q R
entity
´´ 
.
´´ 
Property
´´ 
(
´´ 
e
´´ 
=>
´´  
e
´´! "
.
´´" #
	DeletedAt
´´# ,
)
´´, -
.
´´- .
HasColumnName
´´. ;
(
´´; <
$str
´´< H
)
´´H I
;
´´I J
entity
¨¨ 
.
¨¨ 
Property
¨¨ 
(
¨¨ 
e
¨¨ 
=>
¨¨  
e
¨¨! "
.
¨¨" #
Status
¨¨# )
)
¨¨) *
.
¨¨* +
HasColumnName
¨¨+ 8
(
¨¨8 9
$str
¨¨9 A
)
¨¨A B
;
¨¨B C
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #
	UpdatedAt
≠≠# ,
)
≠≠, -
.
≠≠- .
HasColumnName
≠≠. ;
(
≠≠; <
$str
≠≠< H
)
≠≠H I
;
≠≠I J
entity
ØØ 
.
ØØ 
HasQueryFilter
ØØ !
(
ØØ! "
e
ØØ" #
=>
ØØ$ &
!
ØØ' (
e
ØØ( )
.
ØØ) *
	DeletedAt
ØØ* 3
.
ØØ3 4
HasValue
ØØ4 <
)
ØØ< =
;
ØØ= >
}
∞∞ 	
)
∞∞	 

;
∞∞
 
modelBuilder
≤≤ 
.
≤≤ 
Entity
≤≤ 
<
≤≤ 
Brand
≤≤ !
>
≤≤! "
(
≤≤" #
entity
≤≤# )
=>
≤≤* ,
{
≥≥ 	
entity
¥¥ 
.
¥¥ 
HasKey
¥¥ 
(
¥¥ 
e
¥¥ 
=>
¥¥ 
e
¥¥  
.
¥¥  !
Id
¥¥! #
)
¥¥# $
.
¥¥$ %
HasName
¥¥% ,
(
¥¥, -
$str
¥¥- T
)
¥¥T U
;
¥¥U V
entity
∂∂ 
.
∂∂ 
ToTable
∂∂ 
(
∂∂ 
$str
∂∂ "
,
∂∂" #
$str
∂∂$ 4
)
∂∂4 5
;
∂∂5 6
entity
∏∏ 
.
∏∏ 
HasIndex
∏∏ 
(
∏∏ 
e
∏∏ 
=>
∏∏  
e
∏∏! "
.
∏∏" #
IsActive
∏∏# +
,
∏∏+ ,
$str
∏∏- J
)
∏∏J K
.
∏∏K L
	HasFilter
∏∏L U
(
∏∏U V
$str
∏∏V j
)
∏∏j k
;
∏∏k l
entity
∫∫ 
.
∫∫ 
HasIndex
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫  
e
∫∫! "
.
∫∫" #
Name
∫∫# '
,
∫∫' (
$str
∫∫) B
)
∫∫B C
;
∫∫C D
entity
ºº 
.
ºº 
HasIndex
ºº 
(
ºº 
e
ºº 
=>
ºº  
e
ºº! "
.
ºº" #
	SecretKey
ºº# ,
,
ºº, -
$str
ºº. L
)
ººL M
.
ººM N
IsUnique
ººN V
(
ººV W
)
ººW X
;
ººX Y
entity
ææ 
.
ææ 
Property
ææ 
(
ææ 
e
ææ 
=>
ææ  
e
ææ! "
.
ææ" #
Id
ææ# %
)
ææ% &
.
øø  
HasDefaultValueSql
øø #
(
øø# $
$str
øø$ G
)
øøG H
.
¿¿ 
HasColumnName
¿¿ 
(
¿¿ 
$str
¿¿ #
)
¿¿# $
;
¿¿$ %
entity
¡¡ 
.
¡¡ 
Property
¡¡ 
(
¡¡ 
e
¡¡ 
=>
¡¡  
e
¡¡! "
.
¡¡" #
	CreatedAt
¡¡# ,
)
¡¡, -
.
¬¬  
HasDefaultValueSql
¬¬ #
(
¬¬# $
$str
¬¬$ 7
)
¬¬7 8
.
√√ 
HasColumnName
√√ 
(
√√ 
$str
√√ +
)
√√+ ,
;
√√, -
entity
ƒƒ 
.
ƒƒ 
Property
ƒƒ 
(
ƒƒ 
e
ƒƒ 
=>
ƒƒ  
e
ƒƒ! "
.
ƒƒ" #
	DeletedAt
ƒƒ# ,
)
ƒƒ, -
.
ƒƒ- .
HasColumnName
ƒƒ. ;
(
ƒƒ; <
$str
ƒƒ< H
)
ƒƒH I
;
ƒƒI J
entity
≈≈ 
.
≈≈ 
Property
≈≈ 
(
≈≈ 
e
≈≈ 
=>
≈≈  
e
≈≈! "
.
≈≈" #
IsActive
≈≈# +
)
≈≈+ ,
.
∆∆ 

IsRequired
∆∆ 
(
∆∆ 
)
∆∆ 
.
««  
HasDefaultValueSql
«« #
(
««# $
$str
««$ *
)
««* +
.
»» 
HasColumnName
»» 
(
»» 
$str
»» *
)
»»* +
;
»»+ ,
entity
…… 
.
…… 
Property
…… 
(
…… 
e
…… 
=>
……  
e
……! "
.
……" #
Name
……# '
)
……' (
.
……( )
HasColumnName
……) 6
(
……6 7
$str
……7 =
)
……= >
;
……> ?
entity
   
.
   
Property
   
(
   
e
   
=>
    
e
  ! "
.
  " #
	SecretKey
  # ,
)
  , -
.
  - .
HasColumnName
  . ;
(
  ; <
$str
  < H
)
  H I
;
  I J
entity
ÀÀ 
.
ÀÀ 
Property
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  
e
ÀÀ! "
.
ÀÀ" #
	UpdatedAt
ÀÀ# ,
)
ÀÀ, -
.
ÀÀ- .
HasColumnName
ÀÀ. ;
(
ÀÀ; <
$str
ÀÀ< H
)
ÀÀH I
;
ÀÀI J
entity
ÕÕ 
.
ÕÕ 
HasQueryFilter
ÕÕ !
(
ÕÕ! "
e
ÕÕ" #
=>
ÕÕ$ &
!
ÕÕ' (
e
ÕÕ( )
.
ÕÕ) *
	DeletedAt
ÕÕ* 3
.
ÕÕ3 4
HasValue
ÕÕ4 <
)
ÕÕ< =
;
ÕÕ= >
}
ŒŒ 	
)
ŒŒ	 

;
ŒŒ
 
modelBuilder
–– 
.
–– 
Entity
–– 
<
–– $
CoinpaymentTransaction
–– 2
>
––2 3
(
––3 4
entity
––4 :
=>
––; =
{
—— 	
entity
““ 
.
““ 
HasKey
““ 
(
““ 
e
““ 
=>
““ 
e
““  
.
““  !
Id
““! #
)
““# $
.
““$ %
HasName
““% ,
(
““, -
$str
““- W
)
““W X
;
““X Y
entity
‘‘ 
.
‘‘ 
ToTable
‘‘ 
(
‘‘ 
$str
‘‘ 5
,
‘‘5 6
$str
‘‘7 G
)
‘‘G H
;
‘‘H I
entity
÷÷ 
.
÷÷ 
HasIndex
÷÷ 
(
÷÷ 
e
÷÷ 
=>
÷÷  
e
÷÷! "
.
÷÷" #
IdTransaction
÷÷# 0
,
÷÷0 1
$str
÷÷2 \
)
÷÷\ ]
.
÷÷] ^
IsUnique
÷÷^ f
(
÷÷f g
)
÷÷g h
;
÷÷h i
entity
ÿÿ 
.
ÿÿ 
Property
ÿÿ 
(
ÿÿ 
e
ÿÿ 
=>
ÿÿ  
e
ÿÿ! "
.
ÿÿ" #
Id
ÿÿ# %
)
ÿÿ% &
.
ŸŸ  
HasDefaultValueSql
ŸŸ #
(
ŸŸ# $
$str
ŸŸ$ Y
)
ŸŸY Z
.
⁄⁄ 
HasColumnName
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ #
)
⁄⁄# $
;
⁄⁄$ %
entity
€€ 
.
€€ 
Property
€€ 
(
€€ 
e
€€ 
=>
€€  
e
€€! "
.
€€" #
	Acredited
€€# ,
)
€€, -
.
€€- .
HasColumnName
€€. ;
(
€€; <
$str
€€< G
)
€€G H
;
€€H I
entity
‹‹ 
.
‹‹ 
Property
‹‹ 
(
‹‹ 
e
‹‹ 
=>
‹‹  
e
‹‹! "
.
‹‹" #
AffiliateId
‹‹# .
)
‹‹. /
.
‹‹/ 0
HasColumnName
‹‹0 =
(
‹‹= >
$str
‹‹> L
)
‹‹L M
;
‹‹M N
entity
›› 
.
›› 
Property
›› 
(
›› 
e
›› 
=>
››  
e
››! "
.
››" #
Amount
››# )
)
››) *
.
››* +
HasColumnName
››+ 8
(
››8 9
$str
››9 A
)
››A B
;
››B C
entity
ﬁﬁ 
.
ﬁﬁ 
Property
ﬁﬁ 
(
ﬁﬁ 
e
ﬁﬁ 
=>
ﬁﬁ  
e
ﬁﬁ! "
.
ﬁﬁ" #
AmountReceived
ﬁﬁ# 1
)
ﬁﬁ1 2
.
ﬂﬂ  
HasDefaultValueSql
ﬂﬂ #
(
ﬂﬂ# $
$str
ﬂﬂ$ *
)
ﬂﬂ* +
.
‡‡ 
HasColumnName
‡‡ 
(
‡‡ 
$str
‡‡ 0
)
‡‡0 1
;
‡‡1 2
entity
·· 
.
·· 
Property
·· 
(
·· 
e
·· 
=>
··  
e
··! "
.
··" #
BrandId
··# *
)
··* +
.
··+ ,
HasColumnName
··, 9
(
··9 :
$str
··: D
)
··D E
;
··E F
entity
‚‚ 
.
‚‚ 
Property
‚‚ 
(
‚‚ 
e
‚‚ 
=>
‚‚  
e
‚‚! "
.
‚‚" #
	CreatedAt
‚‚# ,
)
‚‚, -
.
‚‚- .
HasColumnName
‚‚. ;
(
‚‚; <
$str
‚‚< H
)
‚‚H I
;
‚‚I J
entity
„„ 
.
„„ 
Property
„„ 
(
„„ 
e
„„ 
=>
„„  
e
„„! "
.
„„" #
	DeletedAt
„„# ,
)
„„, -
.
„„- .
HasColumnName
„„. ;
(
„„; <
$str
„„< H
)
„„H I
;
„„I J
entity
‰‰ 
.
‰‰ 
Property
‰‰ 
(
‰‰ 
e
‰‰ 
=>
‰‰  
e
‰‰! "
.
‰‰" #
IdTransaction
‰‰# 0
)
‰‰0 1
.
‰‰1 2
HasColumnName
‰‰2 ?
(
‰‰? @
$str
‰‰@ P
)
‰‰P Q
;
‰‰Q R
entity
ÂÂ 
.
ÂÂ 
Property
ÂÂ 
(
ÂÂ 
e
ÂÂ 
=>
ÂÂ  
e
ÂÂ! "
.
ÂÂ" #
PaymentMethod
ÂÂ# 0
)
ÂÂ0 1
.
ÂÂ1 2
HasColumnName
ÂÂ2 ?
(
ÂÂ? @
$str
ÂÂ@ P
)
ÂÂP Q
;
ÂÂQ R
entity
ÊÊ 
.
ÊÊ 
Property
ÊÊ 
(
ÊÊ 
e
ÊÊ 
=>
ÊÊ  
e
ÊÊ! "
.
ÊÊ" #
Products
ÊÊ# +
)
ÊÊ+ ,
.
ÊÊ, -
HasColumnName
ÊÊ- :
(
ÊÊ: ;
$str
ÊÊ; E
)
ÊÊE F
;
ÊÊF G
entity
ÁÁ 
.
ÁÁ 
Property
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ  
e
ÁÁ! "
.
ÁÁ" #
	Reference
ÁÁ# ,
)
ÁÁ, -
.
ÁÁ- .
HasColumnName
ÁÁ. ;
(
ÁÁ; <
$str
ÁÁ< G
)
ÁÁG H
;
ÁÁH I
entity
ËË 
.
ËË 
Property
ËË 
(
ËË 
e
ËË 
=>
ËË  
e
ËË! "
.
ËË" #
Status
ËË# )
)
ËË) *
.
ËË* +
HasColumnName
ËË+ 8
(
ËË8 9
$str
ËË9 A
)
ËËA B
;
ËËB C
entity
ÈÈ 
.
ÈÈ 
Property
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ  
e
ÈÈ! "
.
ÈÈ" #
	UpdatedAt
ÈÈ# ,
)
ÈÈ, -
.
ÈÈ- .
HasColumnName
ÈÈ. ;
(
ÈÈ; <
$str
ÈÈ< H
)
ÈÈH I
;
ÈÈI J
entity
ÎÎ 
.
ÎÎ 
HasOne
ÎÎ 
(
ÎÎ 
d
ÎÎ 
=>
ÎÎ 
d
ÎÎ  
.
ÎÎ  !
Brand
ÎÎ! &
)
ÎÎ& '
.
ÎÎ' (
WithMany
ÎÎ( 0
(
ÎÎ0 1
p
ÎÎ1 2
=>
ÎÎ3 5
p
ÎÎ6 7
.
ÎÎ7 8%
CoinpaymentTransactions
ÎÎ8 O
)
ÎÎO P
.
ÏÏ 
HasForeignKey
ÏÏ 
(
ÏÏ 
d
ÏÏ  
=>
ÏÏ! #
d
ÏÏ$ %
.
ÏÏ% &
BrandId
ÏÏ& -
)
ÏÏ- .
.
ÌÌ 
OnDelete
ÌÌ 
(
ÌÌ 
DeleteBehavior
ÌÌ (
.
ÌÌ( )
ClientSetNull
ÌÌ) 6
)
ÌÌ6 7
.
ÓÓ 
HasConstraintName
ÓÓ "
(
ÓÓ" #
$str
ÓÓ# E
)
ÓÓE F
;
ÓÓF G
entity
 
.
 
HasQueryFilter
 !
(
! "
e
" #
=>
$ &
!
' (
e
( )
.
) *
	DeletedAt
* 3
.
3 4
HasValue
4 <
)
< =
;
= >
}
ÒÒ 	
)
ÒÒ	 

;
ÒÒ
 
modelBuilder
ÛÛ 
.
ÛÛ 
Entity
ÛÛ 
<
ÛÛ 

Commission
ÛÛ &
>
ÛÛ& '
(
ÛÛ' (
entity
ÛÛ( .
=>
ÛÛ/ 1
{
ÙÙ 	
entity
ıı 
.
ıı 
HasKey
ıı 
(
ıı 
e
ıı 
=>
ıı 
e
ıı  
.
ıı  !
Id
ıı! #
)
ıı# $
.
ıı$ %
HasName
ıı% ,
(
ıı, -
$str
ıı- W
)
ııW X
;
ııX Y
entity
˜˜ 
.
˜˜ 
ToTable
˜˜ 
(
˜˜ 
$str
˜˜ (
,
˜˜( )
$str
˜˜* :
)
˜˜: ;
;
˜˜; <
entity
˘˘ 
.
˘˘ 
Property
˘˘ 
(
˘˘ 
e
˘˘ 
=>
˘˘  
e
˘˘! "
.
˘˘" #
Id
˘˘# %
)
˘˘% &
.
˙˙  
HasDefaultValueSql
˙˙ #
(
˙˙# $
$str
˙˙$ M
)
˙˙M N
.
˚˚ 
HasColumnName
˚˚ 
(
˚˚ 
$str
˚˚ #
)
˚˚# $
;
˚˚$ %
entity
¸¸ 
.
¸¸ 
Property
¸¸ 
(
¸¸ 
e
¸¸ 
=>
¸¸  
e
¸¸! "
.
¸¸" #
AffiliateId
¸¸# .
)
¸¸. /
.
¸¸/ 0
HasColumnName
¸¸0 =
(
¸¸= >
$str
¸¸> L
)
¸¸L M
;
¸¸M N
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #
ClosingDate
˝˝# .
)
˝˝. /
.
˝˝/ 0
HasColumnName
˝˝0 =
(
˝˝= >
$str
˝˝> L
)
˝˝L M
;
˝˝M N
entity
˛˛ 
.
˛˛ 
Property
˛˛ 
(
˛˛ 
e
˛˛ 
=>
˛˛  
e
˛˛! "
.
˛˛" #
Compression
˛˛# .
)
˛˛. /
.
˛˛/ 0
HasColumnName
˛˛0 =
(
˛˛= >
$str
˛˛> K
)
˛˛K L
;
˛˛L M
entity
ˇˇ 
.
ˇˇ 
Property
ˇˇ 
(
ˇˇ 
e
ˇˇ 
=>
ˇˇ  
e
ˇˇ! "
.
ˇˇ" #!
CompressionPosition
ˇˇ# 6
)
ˇˇ6 7
.
ÄÄ  
HasDefaultValueSql
ÄÄ #
(
ÄÄ# $
$str
ÄÄ$ 3
)
ÄÄ3 4
.
ÅÅ 
HasColumnName
ÅÅ 
(
ÅÅ 
$str
ÅÅ 5
)
ÅÅ5 6
;
ÅÅ6 7
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
Compressionable
ÇÇ# 2
)
ÇÇ2 3
.
ÇÇ3 4
HasColumnName
ÇÇ4 A
(
ÇÇA B
$str
ÇÇB S
)
ÇÇS T
;
ÇÇT U
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #
	ConceptId
ÉÉ# ,
)
ÉÉ, -
.
ÉÉ- .
HasColumnName
ÉÉ. ;
(
ÉÉ; <
$str
ÉÉ< H
)
ÉÉH I
;
ÉÉI J
entity
ÑÑ 
.
ÑÑ 
Property
ÑÑ 
(
ÑÑ 
e
ÑÑ 
=>
ÑÑ  
e
ÑÑ! "
.
ÑÑ" #
	CreatedAt
ÑÑ# ,
)
ÑÑ, -
.
ÑÑ- .
HasColumnName
ÑÑ. ;
(
ÑÑ; <
$str
ÑÑ< H
)
ÑÑH I
;
ÑÑI J
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
	DeletedAt
ÖÖ# ,
)
ÖÖ, -
.
ÖÖ- .
HasColumnName
ÖÖ. ;
(
ÖÖ; <
$str
ÖÖ< H
)
ÖÖH I
;
ÖÖI J
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" # 
DepositAffiliateId
ÜÜ# 5
)
ÜÜ5 6
.
ÜÜ6 7
HasColumnName
ÜÜ7 D
(
ÜÜD E
$str
ÜÜE [
)
ÜÜ[ \
;
ÜÜ\ ]
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
Gif
áá# &
)
áá& '
.
áá' (
HasColumnName
áá( 5
(
áá5 6
$str
áá6 ;
)
áá; <
;
áá< =
entity
àà 
.
àà 
Property
àà 
(
àà 
e
àà 
=>
àà  
e
àà! "
.
àà" #
	InvoiceId
àà# ,
)
àà, -
.
àà- .
HasColumnName
àà. ;
(
àà; <
$str
àà< H
)
ààH I
;
ààI J
entity
ââ 
.
ââ 
Property
ââ 
(
ââ 
e
ââ 
=>
ââ  
e
ââ! "
.
ââ" #
Level
ââ# (
)
ââ( )
.
ââ) *
HasColumnName
ââ* 7
(
ââ7 8
$str
ââ8 ?
)
ââ? @
;
ââ@ A
entity
ää 
.
ää 
Property
ää 
(
ää 
e
ää 
=>
ää  
e
ää! "
.
ää" #

Percentage
ää# -
)
ää- .
.
ää. /
HasColumnName
ää/ <
(
ää< =
$str
ää= I
)
ääI J
;
ääJ K
entity
ãã 
.
ãã 
Property
ãã 
(
ãã 
e
ãã 
=>
ãã  
e
ãã! "
.
ãã" #
Quantity
ãã# +
)
ãã+ ,
.
ãã, -
HasColumnName
ãã- :
(
ãã: ;
$str
ãã; E
)
ããE F
;
ããF G
entity
åå 
.
åå 
Property
åå 
(
åå 
e
åå 
=>
åå  
e
åå! "
.
åå" #

SalesPrice
åå# -
)
åå- .
.
åå. /
HasColumnName
åå/ <
(
åå< =
$str
åå= J
)
ååJ K
;
ååK L
entity
çç 
.
çç 
Property
çç 
(
çç 
e
çç 
=>
çç  
e
çç! "
.
çç" #
SubtractBinary
çç# 1
)
çç1 2
.
çç2 3
HasColumnName
çç3 @
(
çç@ A
$str
ççA R
)
ççR S
;
ççS T
entity
éé 
.
éé 
Property
éé 
(
éé 
e
éé 
=>
éé  
e
éé! "
.
éé" #
Tax
éé# &
)
éé& '
.
éé' (
HasColumnName
éé( 5
(
éé5 6
$str
éé6 ;
)
éé; <
;
éé< =
entity
èè 
.
èè 
Property
èè 
(
èè 
e
èè 
=>
èè  
e
èè! "
.
èè" #
	UpdatedAt
èè# ,
)
èè, -
.
èè- .
HasColumnName
èè. ;
(
èè; <
$str
èè< H
)
èèH I
;
èèI J
entity
ëë 
.
ëë 
HasQueryFilter
ëë !
(
ëë! "
e
ëë" #
=>
ëë$ &
!
ëë' (
e
ëë( )
.
ëë) *
	DeletedAt
ëë* 3
.
ëë3 4
HasValue
ëë4 <
)
ëë< =
;
ëë= >
}
íí 	
)
íí	 

;
íí
 
modelBuilder
îî 
.
îî 
Entity
îî 
<
îî 
Credit
îî "
>
îî" #
(
îî# $
entity
îî$ *
=>
îî+ -
{
ïï 	
entity
ññ 
.
ññ 
HasKey
ññ 
(
ññ 
e
ññ 
=>
ññ 
e
ññ  
.
ññ  !
Id
ññ! #
)
ññ# $
.
ññ$ %
HasName
ññ% ,
(
ññ, -
$str
ññ- V
)
ññV W
;
ññW X
entity
òò 
.
òò 
ToTable
òò 
(
òò 
$str
òò $
,
òò$ %
$str
òò& 6
)
òò6 7
;
òò7 8
entity
öö 
.
öö 
HasIndex
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #
AffiliateId
öö# .
,
öö. /
$str
öö0 N
)
ööN O
;
ööO P
entity
úú 
.
úú 
HasIndex
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
	ConceptId
úú# ,
,
úú, -
$str
úú. J
)
úúJ K
;
úúK L
entity
ûû 
.
ûû 
Property
ûû 
(
ûû 
e
ûû 
=>
ûû  
e
ûû! "
.
ûû" #
Id
ûû# %
)
ûû% &
.
üü  
HasDefaultValueSql
üü #
(
üü# $
$str
üü$ I
)
üüI J
.
†† 
HasColumnName
†† 
(
†† 
$str
†† #
)
††# $
;
††$ %
entity
°° 
.
°° 
Property
°° 
(
°° 
e
°° 
=>
°°  
e
°°! "
.
°°" #
AffiliateId
°°# .
)
°°. /
.
°°/ 0
HasColumnName
°°0 =
(
°°= >
$str
°°> L
)
°°L M
;
°°M N
entity
¢¢ 
.
¢¢ 
Property
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢  
e
¢¢! "
.
¢¢" #
Concept
¢¢# *
)
¢¢* +
.
¢¢+ ,
HasColumnName
¢¢, 9
(
¢¢9 :
$str
¢¢: C
)
¢¢C D
;
¢¢D E
entity
££ 
.
££ 
Property
££ 
(
££ 
e
££ 
=>
££  
e
££! "
.
££" #
	ConceptId
££# ,
)
££, -
.
££- .
HasColumnName
££. ;
(
££; <
$str
££< H
)
££H I
;
££I J
entity
§§ 
.
§§ 
Property
§§ 
(
§§ 
e
§§ 
=>
§§  
e
§§! "
.
§§" #
	CreatedAt
§§# ,
)
§§, -
.
§§- .
HasColumnName
§§. ;
(
§§; <
$str
§§< H
)
§§H I
;
§§I J
entity
•• 
.
•• 
Property
•• 
(
•• 
e
•• 
=>
••  
e
••! "
.
••" #
Credit1
••# *
)
••* +
.
••+ ,
HasColumnName
••, 9
(
••9 :
$str
••: B
)
••B C
;
••C D
entity
¶¶ 
.
¶¶ 
Property
¶¶ 
(
¶¶ 
e
¶¶ 
=>
¶¶  
e
¶¶! "
.
¶¶" #
Debit
¶¶# (
)
¶¶( )
.
¶¶) *
HasColumnName
¶¶* 7
(
¶¶7 8
$str
¶¶8 ?
)
¶¶? @
;
¶¶@ A
entity
ßß 
.
ßß 
Property
ßß 
(
ßß 
e
ßß 
=>
ßß  
e
ßß! "
.
ßß" #
	DeletedAt
ßß# ,
)
ßß, -
.
ßß- .
HasColumnName
ßß. ;
(
ßß; <
$str
ßß< H
)
ßßH I
;
ßßI J
entity
®® 
.
®® 
Property
®® 
(
®® 
e
®® 
=>
®®  
e
®®! "
.
®®" #
	InvoiceId
®®# ,
)
®®, -
.
®®- .
HasColumnName
®®. ;
(
®®; <
$str
®®< H
)
®®H I
;
®®I J
entity
©© 
.
©© 
Property
©© 
(
©© 
e
©© 
=>
©©  
e
©©! "
.
©©" #
Islr
©©# '
)
©©' (
.
©©( )
HasColumnName
©©) 6
(
©©6 7
$str
©©7 =
)
©©= >
;
©©> ?
entity
™™ 
.
™™ 
Property
™™ 
(
™™ 
e
™™ 
=>
™™  
e
™™! "
.
™™" #
Iva
™™# &
)
™™& '
.
™™' (
HasColumnName
™™( 5
(
™™5 6
$str
™™6 ;
)
™™; <
;
™™< =
entity
´´ 
.
´´ 
Property
´´ 
(
´´ 
e
´´ 
=>
´´  
e
´´! "
.
´´" #
Paid
´´# '
)
´´' (
.
´´( )
HasColumnName
´´) 6
(
´´6 7
$str
´´7 =
)
´´= >
;
´´> ?
entity
¨¨ 
.
¨¨ 
Property
¨¨ 
(
¨¨ 
e
¨¨ 
=>
¨¨  
e
¨¨! "
.
¨¨" #
Request
¨¨# *
)
¨¨* +
.
¨¨+ ,
HasColumnName
¨¨, 9
(
¨¨9 :
$str
¨¨: C
)
¨¨C D
;
¨¨D E
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #
RequestDenied
≠≠# 0
)
≠≠0 1
.
≠≠1 2
HasColumnName
≠≠2 ?
(
≠≠? @
$str
≠≠@ P
)
≠≠P Q
;
≠≠Q R
entity
ÆÆ 
.
ÆÆ 
Property
ÆÆ 
(
ÆÆ 
e
ÆÆ 
=>
ÆÆ  
e
ÆÆ! "
.
ÆÆ" #
	UpdatedAt
ÆÆ# ,
)
ÆÆ, -
.
ÆÆ- .
HasColumnName
ÆÆ. ;
(
ÆÆ; <
$str
ÆÆ< H
)
ÆÆH I
;
ÆÆI J
entity
∞∞ 
.
∞∞ 
HasOne
∞∞ 
(
∞∞ 
d
∞∞ 
=>
∞∞ 
d
∞∞  
.
∞∞  !
Invoice
∞∞! (
)
∞∞( )
.
∞∞) *
WithMany
∞∞* 2
(
∞∞2 3
p
∞∞3 4
=>
∞∞5 7
p
∞∞8 9
.
∞∞9 :
Credits
∞∞: A
)
∞∞A B
.
±± 
HasForeignKey
±± 
(
±± 
d
±±  
=>
±±! #
d
±±$ %
.
±±% &
	InvoiceId
±±& /
)
±±/ 0
.
≤≤ 
HasConstraintName
≤≤ "
(
≤≤" #
$str
≤≤# 8
)
≤≤8 9
;
≤≤9 :
entity
¥¥ 
.
¥¥ 
HasQueryFilter
¥¥ !
(
¥¥! "
e
¥¥" #
=>
¥¥$ &
!
¥¥' (
e
¥¥( )
.
¥¥) *
	DeletedAt
¥¥* 3
.
¥¥3 4
HasValue
¥¥4 <
)
¥¥< =
;
¥¥= >
}
µµ 	
)
µµ	 

;
µµ
 
modelBuilder
∑∑ 
.
∑∑ 
Entity
∑∑ 
<
∑∑ 
Invoice
∑∑ #
>
∑∑# $
(
∑∑$ %
entity
∑∑% +
=>
∑∑, .
{
∏∏ 	
entity
ππ 
.
ππ 
HasKey
ππ 
(
ππ 
e
ππ 
=>
ππ 
e
ππ  
.
ππ  !
Id
ππ! #
)
ππ# $
.
ππ$ %
HasName
ππ% ,
(
ππ, -
$str
ππ- D
)
ππD E
;
ππE F
entity
ªª 
.
ªª 
ToTable
ªª 
(
ªª 
$str
ªª %
,
ªª% &
$str
ªª' 7
)
ªª7 8
;
ªª8 9
entity
ΩΩ 
.
ΩΩ 
HasIndex
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ  
e
ΩΩ! "
.
ΩΩ" #
AffiliateId
ΩΩ# .
,
ΩΩ. /
$str
ΩΩ0 N
)
ΩΩN O
;
ΩΩO P
entity
øø 
.
øø 
HasIndex
øø 
(
øø 
e
øø 
=>
øø  
e
øø! "
.
øø" #
CancellationDate
øø# 3
,
øø3 4
$str
øø5 U
)
øøU V
;
øøV W
entity
¡¡ 
.
¡¡ 
HasIndex
¡¡ 
(
¡¡ 
e
¡¡ 
=>
¡¡  
e
¡¡! "
.
¡¡" #
BrandId
¡¡# *
,
¡¡* +
$str
¡¡, K
)
¡¡K L
;
¡¡L M
entity
√√ 
.
√√ 
HasIndex
√√ 
(
√√ 
e
√√ 
=>
√√  
e
√√! "
.
√√" #
ReceiptNumber
√√# 0
,
√√0 1
$str
√√2 W
)
√√W X
;
√√X Y
entity
≈≈ 
.
≈≈ 
Property
≈≈ 
(
≈≈ 
e
≈≈ 
=>
≈≈  
e
≈≈! "
.
≈≈" #
Id
≈≈# %
)
≈≈% &
.
∆∆  
HasDefaultValueSql
∆∆ #
(
∆∆# $
$str
∆∆$ J
)
∆∆J K
.
«« 
HasColumnName
«« 
(
«« 
$str
«« #
)
««# $
;
««$ %
entity
»» 
.
»» 
Property
»» 
(
»» 
e
»» 
=>
»»  
e
»»! "
.
»»" #
AffiliateId
»»# .
)
»». /
.
»»/ 0
HasColumnName
»»0 =
(
»»= >
$str
»»> L
)
»»L M
;
»»M N
entity
…… 
.
…… 
Property
…… 
(
…… 
e
…… 
=>
……  
e
……! "
.
……" #
Bank
……# '
)
……' (
.
……( )
HasColumnName
……) 6
(
……6 7
$str
……7 =
)
……= >
;
……> ?
entity
   
.
   
Property
   
(
   
e
   
=>
    
e
  ! "
.
  " #
BrandId
  # *
)
  * +
.
  + ,
HasColumnName
  , 9
(
  9 :
$str
  : D
)
  D E
;
  E F
entity
ÀÀ 
.
ÀÀ 
Property
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  
e
ÀÀ! "
.
ÀÀ" #

BtcAddress
ÀÀ# -
)
ÀÀ- .
.
ÀÀ. /
HasColumnName
ÀÀ/ <
(
ÀÀ< =
$str
ÀÀ= J
)
ÀÀJ K
;
ÀÀK L
entity
ÃÃ 
.
ÃÃ 
Property
ÃÃ 
(
ÃÃ 
e
ÃÃ 
=>
ÃÃ  
e
ÃÃ! "
.
ÃÃ" #
CancellationDate
ÃÃ# 3
)
ÃÃ3 4
.
ÃÃ4 5
HasColumnName
ÃÃ5 B
(
ÃÃB C
$str
ÃÃC V
)
ÃÃV W
;
ÃÃW X
entity
ÕÕ 
.
ÕÕ 
Property
ÕÕ 
(
ÕÕ 
e
ÕÕ 
=>
ÕÕ  
e
ÕÕ! "
.
ÕÕ" #
	CreatedAt
ÕÕ# ,
)
ÕÕ, -
.
ÕÕ- .
HasColumnName
ÕÕ. ;
(
ÕÕ; <
$str
ÕÕ< H
)
ÕÕH I
;
ÕÕI J
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ 
e
ŒŒ 
=>
ŒŒ  
e
ŒŒ! "
.
ŒŒ" #
Date
ŒŒ# '
)
ŒŒ' (
.
ŒŒ( )
HasColumnName
ŒŒ) 6
(
ŒŒ6 7
$str
ŒŒ7 =
)
ŒŒ= >
;
ŒŒ> ?
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
	DeletedAt
œœ# ,
)
œœ, -
.
œœ- .
HasColumnName
œœ. ;
(
œœ; <
$str
œœ< H
)
œœH I
;
œœI J
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #
DepositDate
––# .
)
––. /
.
––/ 0
HasColumnName
––0 =
(
––= >
$str
––> L
)
––L M
;
––M N
entity
—— 
.
—— 
Property
—— 
(
—— 
e
—— 
=>
——  
e
——! "
.
——" #
InvoiceAddress
——# 1
)
——1 2
.
——2 3
HasColumnName
——3 @
(
——@ A
$str
——A R
)
——R S
;
——S T
entity
““ 
.
““ 
Property
““ 
(
““ 
e
““ 
=>
““  
e
““! "
.
““" #
InvoiceData
““# .
)
““. /
.
““/ 0
HasColumnName
““0 =
(
““= >
$str
““> L
)
““L M
;
““M N
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #
InvoiceNumber
””# 0
)
””0 1
.
””1 2
HasColumnName
””2 ?
(
””? @
$str
””@ P
)
””P Q
;
””Q R
entity
‘‘ 
.
‘‘ 
Property
‘‘ 
(
‘‘ 
e
‘‘ 
=>
‘‘  
e
‘‘! "
.
‘‘" #
PaymentMethod
‘‘# 0
)
‘‘0 1
.
‘‘1 2
HasColumnName
‘‘2 ?
(
‘‘? @
$str
‘‘@ P
)
‘‘P Q
;
‘‘Q R
entity
’’ 
.
’’ 
Property
’’ 
(
’’ 
e
’’ 
=>
’’  
e
’’! "
.
’’" #
PurchaseOrderId
’’# 2
)
’’2 3
.
÷÷  
HasDefaultValueSql
÷÷ #
(
÷÷# $
$str
÷÷$ '
)
÷÷' (
.
◊◊ 
HasColumnName
◊◊ 
(
◊◊ 
$str
◊◊ 2
)
◊◊2 3
;
◊◊3 4
entity
ÿÿ 
.
ÿÿ 
Property
ÿÿ 
(
ÿÿ 
e
ÿÿ 
=>
ÿÿ  
e
ÿÿ! "
.
ÿÿ" #
Reason
ÿÿ# )
)
ÿÿ) *
.
ÿÿ* +
HasColumnName
ÿÿ+ 8
(
ÿÿ8 9
$str
ÿÿ9 A
)
ÿÿA B
;
ÿÿB C
entity
ŸŸ 
.
ŸŸ 
Property
ŸŸ 
(
ŸŸ 
e
ŸŸ 
=>
ŸŸ  
e
ŸŸ! "
.
ŸŸ" #
ReceiptNumber
ŸŸ# 0
)
ŸŸ0 1
.
ŸŸ1 2
HasColumnName
ŸŸ2 ?
(
ŸŸ? @
$str
ŸŸ@ P
)
ŸŸP Q
;
ŸŸQ R
entity
⁄⁄ 
.
⁄⁄ 
Property
⁄⁄ 
(
⁄⁄ 
e
⁄⁄ 
=>
⁄⁄  
e
⁄⁄! "
.
⁄⁄" #
	Recurring
⁄⁄# ,
)
⁄⁄, -
.
⁄⁄- .
HasColumnName
⁄⁄. ;
(
⁄⁄; <
$str
⁄⁄< G
)
⁄⁄G H
;
⁄⁄H I
entity
€€ 
.
€€ 
Property
€€ 
(
€€ 
e
€€ 
=>
€€  
e
€€! "
.
€€" #
	SecretKey
€€# ,
)
€€, -
.
€€- .
HasColumnName
€€. ;
(
€€; <
$str
€€< H
)
€€H I
;
€€I J
entity
‹‹ 
.
‹‹ 
Property
‹‹ 
(
‹‹ 
e
‹‹ 
=>
‹‹  
e
‹‹! "
.
‹‹" #
ShippingAddress
‹‹# 2
)
‹‹2 3
.
‹‹3 4
HasColumnName
‹‹4 A
(
‹‹A B
$str
‹‹B T
)
‹‹T U
;
‹‹U V
entity
›› 
.
›› 
Property
›› 
(
›› 
e
›› 
=>
››  
e
››! "
.
››" #
State
››# (
)
››( )
.
ﬁﬁ  
HasDefaultValueSql
ﬁﬁ #
(
ﬁﬁ# $
$str
ﬁﬁ$ *
)
ﬁﬁ* +
.
ﬂﬂ 
HasColumnName
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ &
)
ﬂﬂ& '
;
ﬂﬂ' (
entity
‡‡ 
.
‡‡ 
Property
‡‡ 
(
‡‡ 
e
‡‡ 
=>
‡‡  
e
‡‡! "
.
‡‡" #
Status
‡‡# )
)
‡‡) *
.
··  
HasDefaultValueSql
·· #
(
··# $
$str
··$ *
)
··* +
.
‚‚ 
HasColumnName
‚‚ 
(
‚‚ 
$str
‚‚ '
)
‚‚' (
;
‚‚( )
entity
„„ 
.
„„ 
Property
„„ 
(
„„ 
e
„„ 
=>
„„  
e
„„! "
.
„„" #!
TotalCommissionable
„„# 6
)
„„6 7
.
„„7 8
HasColumnName
„„8 E
(
„„E F
$str
„„F \
)
„„\ ]
;
„„] ^
entity
‰‰ 
.
‰‰ 
Property
‰‰ 
(
‰‰ 
e
‰‰ 
=>
‰‰  
e
‰‰! "
.
‰‰" #
TotalInvoice
‰‰# /
)
‰‰/ 0
.
‰‰0 1
HasColumnName
‰‰1 >
(
‰‰> ?
$str
‰‰? N
)
‰‰N O
;
‰‰O P
entity
ÂÂ 
.
ÂÂ 
Property
ÂÂ 
(
ÂÂ 
e
ÂÂ 
=>
ÂÂ  
e
ÂÂ! "
.
ÂÂ" #
TotalInvoiceBtc
ÂÂ# 2
)
ÂÂ2 3
.
ÊÊ  
HasDefaultValueSql
ÊÊ #
(
ÊÊ# $
$str
ÊÊ$ 0
)
ÊÊ0 1
.
ÁÁ 
HasColumnName
ÁÁ 
(
ÁÁ 
$str
ÁÁ 2
)
ÁÁ2 3
;
ÁÁ3 4
entity
ËË 
.
ËË 
Property
ËË 
(
ËË 
e
ËË 
=>
ËË  
e
ËË! "
.
ËË" #
TotalPoints
ËË# .
)
ËË. /
.
ËË/ 0
HasColumnName
ËË0 =
(
ËË= >
$str
ËË> L
)
ËËL M
;
ËËM N
entity
ÈÈ 
.
ÈÈ 
Property
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ  
e
ÈÈ! "
.
ÈÈ" #
Type
ÈÈ# '
)
ÈÈ' (
.
ÈÈ( )
HasColumnName
ÈÈ) 6
(
ÈÈ6 7
$str
ÈÈ7 =
)
ÈÈ= >
;
ÈÈ> ?
entity
ÍÍ 
.
ÍÍ 
Property
ÍÍ 
(
ÍÍ 
e
ÍÍ 
=>
ÍÍ  
e
ÍÍ! "
.
ÍÍ" #
	UpdatedAt
ÍÍ# ,
)
ÍÍ, -
.
ÍÍ- .
HasColumnName
ÍÍ. ;
(
ÍÍ; <
$str
ÍÍ< H
)
ÍÍH I
;
ÍÍI J
entity
ÏÏ 
.
ÏÏ 
HasOne
ÏÏ 
(
ÏÏ 
d
ÏÏ 
=>
ÏÏ 
d
ÏÏ  
.
ÏÏ  !
Brand
ÏÏ! &
)
ÏÏ& '
.
ÏÏ' (
WithMany
ÏÏ( 0
(
ÏÏ0 1
p
ÏÏ1 2
=>
ÏÏ3 5
p
ÏÏ6 7
.
ÏÏ7 8
Invoices
ÏÏ8 @
)
ÏÏ@ A
.
ÌÌ 
HasForeignKey
ÌÌ 
(
ÌÌ 
d
ÌÌ  
=>
ÌÌ! #
d
ÌÌ$ %
.
ÌÌ% &
BrandId
ÌÌ& -
)
ÌÌ- .
.
ÓÓ 
OnDelete
ÓÓ 
(
ÓÓ 
DeleteBehavior
ÓÓ (
.
ÓÓ( )
ClientSetNull
ÓÓ) 6
)
ÓÓ6 7
.
ÔÔ 
HasConstraintName
ÔÔ "
(
ÔÔ" #
$str
ÔÔ# 6
)
ÔÔ6 7
;
ÔÔ7 8
entity
ÒÒ 
.
ÒÒ 
HasQueryFilter
ÒÒ !
(
ÒÒ! "
e
ÒÒ" #
=>
ÒÒ$ &
!
ÒÒ' (
e
ÒÒ( )
.
ÒÒ) *
	DeletedAt
ÒÒ* 3
.
ÒÒ3 4
HasValue
ÒÒ4 <
)
ÒÒ< =
;
ÒÒ= >
}
ÚÚ 	
)
ÚÚ	 

;
ÚÚ
 
modelBuilder
ÙÙ 
.
ÙÙ 
Entity
ÙÙ 
<
ÙÙ 
InvoicePack
ÙÙ '
>
ÙÙ' (
(
ÙÙ( )
entity
ÙÙ) /
=>
ÙÙ0 2
{
ıı 	
entity
ˆˆ 
.
ˆˆ 
HasKey
ˆˆ 
(
ˆˆ 
e
ˆˆ 
=>
ˆˆ 
e
ˆˆ  
.
ˆˆ  !
Id
ˆˆ! #
)
ˆˆ# $
.
ˆˆ$ %
HasName
ˆˆ% ,
(
ˆˆ, -
$str
ˆˆ- W
)
ˆˆW X
;
ˆˆX Y
entity
¯¯ 
.
¯¯ 
ToTable
¯¯ 
(
¯¯ 
$str
¯¯ *
,
¯¯* +
$str
¯¯, <
)
¯¯< =
;
¯¯= >
entity
˙˙ 
.
˙˙ 
Property
˙˙ 
(
˙˙ 
e
˙˙ 
=>
˙˙  
e
˙˙! "
.
˙˙" #
Id
˙˙# %
)
˙˙% &
.
˚˚  
HasDefaultValueSql
˚˚ #
(
˚˚# $
$str
˚˚$ N
)
˚˚N O
.
¸¸ 
HasColumnName
¸¸ 
(
¸¸ 
$str
¸¸ #
)
¸¸# $
;
¸¸$ %
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #

BaseAmount
˝˝# -
)
˝˝- .
.
˝˝. /
HasColumnName
˝˝/ <
(
˝˝< =
$str
˝˝= J
)
˝˝J K
;
˝˝K L
entity
˛˛ 
.
˛˛ 
Property
˛˛ 
(
˛˛ 
e
˛˛ 
=>
˛˛  
e
˛˛! "
.
˛˛" #
	CountDays
˛˛# ,
)
˛˛, -
.
˛˛- .
HasColumnName
˛˛. ;
(
˛˛; <
$str
˛˛< H
)
˛˛H I
;
˛˛I J
entity
ˇˇ 
.
ˇˇ 
Property
ˇˇ 
(
ˇˇ 
e
ˇˇ 
=>
ˇˇ  
e
ˇˇ! "
.
ˇˇ" #
	CreatedAt
ˇˇ# ,
)
ˇˇ, -
.
ˇˇ- .
HasColumnName
ˇˇ. ;
(
ˇˇ; <
$str
ˇˇ< H
)
ˇˇH I
;
ˇˇI J
entity
ÄÄ 
.
ÄÄ 
Property
ÄÄ 
(
ÄÄ 
e
ÄÄ 
=>
ÄÄ  
e
ÄÄ! "
.
ÄÄ" #
	DeletedAt
ÄÄ# ,
)
ÄÄ, -
.
ÄÄ- .
HasColumnName
ÄÄ. ;
(
ÄÄ; <
$str
ÄÄ< H
)
ÄÄH I
;
ÄÄI J
entity
ÅÅ 
.
ÅÅ 
Property
ÅÅ 
(
ÅÅ 
e
ÅÅ 
=>
ÅÅ  
e
ÅÅ! "
.
ÅÅ" #
EndDate
ÅÅ# *
)
ÅÅ* +
.
ÅÅ+ ,
HasColumnName
ÅÅ, 9
(
ÅÅ9 :
$str
ÅÅ: D
)
ÅÅD E
;
ÅÅE F
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
	InvoiceId
ÇÇ# ,
)
ÇÇ, -
.
ÇÇ- .
HasColumnName
ÇÇ. ;
(
ÇÇ; <
$str
ÇÇ< H
)
ÇÇH I
;
ÇÇI J
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #

Percentage
ÉÉ# -
)
ÉÉ- .
.
ÉÉ. /
HasColumnName
ÉÉ/ <
(
ÉÉ< =
$str
ÉÉ= I
)
ÉÉI J
;
ÉÉJ K
entity
ÑÑ 
.
ÑÑ 
Property
ÑÑ 
(
ÑÑ 
e
ÑÑ 
=>
ÑÑ  
e
ÑÑ! "
.
ÑÑ" #
	ProductId
ÑÑ# ,
)
ÑÑ, -
.
ÑÑ- .
HasColumnName
ÑÑ. ;
(
ÑÑ; <
$str
ÑÑ< H
)
ÑÑH I
;
ÑÑI J
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
	StartDate
ÖÖ# ,
)
ÖÖ, -
.
ÖÖ- .
HasColumnName
ÖÖ. ;
(
ÖÖ; <
$str
ÖÖ< H
)
ÖÖH I
;
ÖÖI J
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #
Status
ÜÜ# )
)
ÜÜ) *
.
ÜÜ* +
HasColumnName
ÜÜ+ 8
(
ÜÜ8 9
$str
ÜÜ9 A
)
ÜÜA B
;
ÜÜB C
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
	UpdatedAt
áá# ,
)
áá, -
.
áá- .
HasColumnName
áá. ;
(
áá; <
$str
áá< H
)
ááH I
;
ááI J
entity
ââ 
.
ââ 
HasOne
ââ 
(
ââ 
d
ââ 
=>
ââ 
d
ââ  
.
ââ  !
Invoice
ââ! (
)
ââ( )
.
ââ) *
WithMany
ââ* 2
(
ââ2 3
p
ââ3 4
=>
ââ5 7
p
ââ8 9
.
ââ9 :
InvoicePacks
ââ: F
)
ââF G
.
ää 
HasForeignKey
ää 
(
ää 
d
ää  
=>
ää! #
d
ää$ %
.
ää% &
	InvoiceId
ää& /
)
ää/ 0
.
ãã 
OnDelete
ãã 
(
ãã 
DeleteBehavior
ãã (
.
ãã( )
ClientSetNull
ãã) 6
)
ãã6 7
.
åå 
HasConstraintName
åå "
(
åå" #
$str
åå# =
)
åå= >
;
åå> ?
entity
éé 
.
éé 
HasQueryFilter
éé !
(
éé! "
e
éé" #
=>
éé$ &
!
éé' (
e
éé( )
.
éé) *
	DeletedAt
éé* 3
.
éé3 4
HasValue
éé4 <
)
éé< =
;
éé= >
}
èè 	
)
èè	 

;
èè
 
modelBuilder
ëë 
.
ëë 
Entity
ëë 
<
ëë  
InvoicePacksDetail
ëë .
>
ëë. /
(
ëë/ 0
entity
ëë0 6
=>
ëë7 9
{
íí 	
entity
ìì 
.
ìì 
HasKey
ìì 
(
ìì 
e
ìì 
=>
ìì 
e
ìì  
.
ìì  !
Id
ìì! #
)
ìì# $
.
ìì$ %
HasName
ìì% ,
(
ìì, -
$str
ìì- W
)
ììW X
;
ììX Y
entity
ïï 
.
ïï 
ToTable
ïï 
(
ïï 
$str
ïï 2
,
ïï2 3
$str
ïï4 D
)
ïïD E
;
ïïE F
entity
óó 
.
óó 
Property
óó 
(
óó 
e
óó 
=>
óó  
e
óó! "
.
óó" #
Id
óó# %
)
óó% &
.
òò  
HasDefaultValueSql
òò #
(
òò# $
$str
òò$ U
)
òòU V
.
ôô 
HasColumnName
ôô 
(
ôô 
$str
ôô #
)
ôô# $
;
ôô$ %
entity
öö 
.
öö 
Property
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #
Amount
öö# )
)
öö) *
.
öö* +
HasColumnName
öö+ 8
(
öö8 9
$str
öö9 A
)
ööA B
;
ööB C
entity
õõ 
.
õõ 
Property
õõ 
(
õõ 
e
õõ 
=>
õõ  
e
õõ! "
.
õõ" #
	CreatedAt
õõ# ,
)
õõ, -
.
õõ- .
HasColumnName
õõ. ;
(
õõ; <
$str
õõ< H
)
õõH I
;
õõI J
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
Date
úú# '
)
úú' (
.
úú( )
HasColumnName
úú) 6
(
úú6 7
$str
úú7 =
)
úú= >
;
úú> ?
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #
	DeletedAt
ùù# ,
)
ùù, -
.
ùù- .
HasColumnName
ùù. ;
(
ùù; <
$str
ùù< H
)
ùùH I
;
ùùI J
entity
ûû 
.
ûû 
Property
ûû 
(
ûû 
e
ûû 
=>
ûû  
e
ûû! "
.
ûû" #
InvoicePackId
ûû# 0
)
ûû0 1
.
ûû1 2
HasColumnName
ûû2 ?
(
ûû? @
$str
ûû@ Q
)
ûûQ R
;
ûûR S
entity
üü 
.
üü 
Property
üü 
(
üü 
e
üü 
=>
üü  
e
üü! "
.
üü" #
	UpdatedAt
üü# ,
)
üü, -
.
üü- .
HasColumnName
üü. ;
(
üü; <
$str
üü< H
)
üüH I
;
üüI J
entity
°° 
.
°° 
HasOne
°° 
(
°° 
d
°° 
=>
°° 
d
°°  
.
°°  !
InvoicePack
°°! ,
)
°°, -
.
°°- .
WithMany
°°. 6
(
°°6 7
p
°°7 8
=>
°°9 ;
p
°°< =
.
°°= >!
InvoicePacksDetails
°°> Q
)
°°Q R
.
¢¢ 
HasForeignKey
¢¢ 
(
¢¢ 
d
¢¢  
=>
¢¢! #
d
¢¢$ %
.
¢¢% &
InvoicePackId
¢¢& 3
)
¢¢3 4
.
££ 
OnDelete
££ 
(
££ 
DeleteBehavior
££ (
.
££( )
ClientSetNull
££) 6
)
££6 7
.
§§ 
HasConstraintName
§§ "
(
§§" #
$str
§§# H
)
§§H I
;
§§I J
entity
¶¶ 
.
¶¶ 
HasQueryFilter
¶¶ !
(
¶¶! "
e
¶¶" #
=>
¶¶$ &
!
¶¶' (
e
¶¶( )
.
¶¶) *
	DeletedAt
¶¶* 3
.
¶¶3 4
HasValue
¶¶4 <
)
¶¶< =
;
¶¶= >
}
ßß 	
)
ßß	 

;
ßß
 
modelBuilder
©© 
.
©© 
Entity
©© 
<
©© 
InvoicesDetail
©© *
>
©©* +
(
©©+ ,
entity
©©, 2
=>
©©3 5
{
™™ 	
entity
´´ 
.
´´ 
HasKey
´´ 
(
´´ 
e
´´ 
=>
´´ 
e
´´  
.
´´  !
Id
´´! #
)
´´# $
.
´´$ %
HasName
´´% ,
(
´´, -
$str
´´- K
)
´´K L
;
´´L M
entity
≠≠ 
.
≠≠ 
ToTable
≠≠ 
(
≠≠ 
$str
≠≠ -
,
≠≠- .
$str
≠≠/ ?
)
≠≠? @
;
≠≠@ A
entity
ØØ 
.
ØØ 
HasIndex
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ  
e
ØØ! "
.
ØØ" #
PaymentGroupId
ØØ# 1
,
ØØ1 2
$str
ØØ3 P
)
ØØP Q
;
ØØQ R
entity
±± 
.
±± 
Property
±± 
(
±± 
e
±± 
=>
±±  
e
±±! "
.
±±" #
Id
±±# %
)
±±% &
.
≤≤  
HasDefaultValueSql
≤≤ #
(
≤≤# $
$str
≤≤$ Q
)
≤≤Q R
.
≥≥ 
HasColumnName
≥≥ 
(
≥≥ 
$str
≥≥ #
)
≥≥# $
;
≥≥$ %
entity
¥¥ 
.
¥¥ 
Property
¥¥ 
(
¥¥ 
e
¥¥ 
=>
¥¥  
e
¥¥! "
.
¥¥" #
AccumminPurchase
¥¥# 3
)
¥¥3 4
.
¥¥4 5
HasColumnName
¥¥5 B
(
¥¥B C
$str
¥¥C V
)
¥¥V W
;
¥¥W X
entity
µµ 
.
µµ 
Property
µµ 
(
µµ 
e
µµ 
=>
µµ  
e
µµ! "
.
µµ" #

BaseAmount
µµ# -
)
µµ- .
.
µµ. /
HasColumnName
µµ/ <
(
µµ< =
$str
µµ= J
)
µµJ K
;
µµK L
entity
∂∂ 
.
∂∂ 
Property
∂∂ 
(
∂∂ 
e
∂∂ 
=>
∂∂  
e
∂∂! "
.
∂∂" #
BinaryPoints
∂∂# /
)
∂∂/ 0
.
∑∑  
HasDefaultValueSql
∑∑ #
(
∑∑# $
$str
∑∑$ *
)
∑∑* +
.
∏∏ 
HasColumnName
∏∏ 
(
∏∏ 
$str
∏∏ .
)
∏∏. /
;
∏∏/ 0
entity
ππ 
.
ππ 
Property
ππ 
(
ππ 
e
ππ 
=>
ππ  
e
ππ! "
.
ππ" #
BrandId
ππ# *
)
ππ* +
.
ππ+ ,
HasColumnName
ππ, 9
(
ππ9 :
$str
ππ: D
)
ππD E
;
ππE F
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫  
e
∫∫! "
.
∫∫" #
CombinationId
∫∫# 0
)
∫∫0 1
.
ªª  
HasDefaultValueSql
ªª #
(
ªª# $
$str
ªª$ '
)
ªª' (
.
ºº 
HasColumnName
ºº 
(
ºº 
$str
ºº /
)
ºº/ 0
;
ºº0 1
entity
ΩΩ 
.
ΩΩ 
Property
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ  
e
ΩΩ! "
.
ΩΩ" #
	CreatedAt
ΩΩ# ,
)
ΩΩ, -
.
ΩΩ- .
HasColumnName
ΩΩ. ;
(
ΩΩ; <
$str
ΩΩ< H
)
ΩΩH I
;
ΩΩI J
entity
ææ 
.
ææ 
Property
ææ 
(
ææ 
e
ææ 
=>
ææ  
e
ææ! "
.
ææ" #
DailyPercentage
ææ# 2
)
ææ2 3
.
ææ3 4
HasColumnName
ææ4 A
(
ææA B
$str
ææB T
)
ææT U
;
ææU V
entity
øø 
.
øø 
Property
øø 
(
øø 
e
øø 
=>
øø  
e
øø! "
.
øø" #
Date
øø# '
)
øø' (
.
øø( )
HasColumnName
øø) 6
(
øø6 7
$str
øø7 =
)
øø= >
;
øø> ?
entity
¿¿ 
.
¿¿ 
Property
¿¿ 
(
¿¿ 
e
¿¿ 
=>
¿¿  
e
¿¿! "
.
¿¿" #
DaysToPayQuantity
¿¿# 4
)
¿¿4 5
.
¡¡  
HasDefaultValueSql
¡¡ #
(
¡¡# $
$str
¡¡$ '
)
¡¡' (
.
¬¬ 
HasColumnName
¬¬ 
(
¬¬ 
$str
¬¬ 5
)
¬¬5 6
;
¬¬6 7
entity
√√ 
.
√√ 
Property
√√ 
(
√√ 
e
√√ 
=>
√√  
e
√√! "
.
√√" #
	DeletedAt
√√# ,
)
√√, -
.
√√- .
HasColumnName
√√. ;
(
√√; <
$str
√√< H
)
√√H I
;
√√I J
entity
ƒƒ 
.
ƒƒ 
Property
ƒƒ 
(
ƒƒ 
e
ƒƒ 
=>
ƒƒ  
e
ƒƒ! "
.
ƒƒ" #
	InvoiceId
ƒƒ# ,
)
ƒƒ, -
.
ƒƒ- .
HasColumnName
ƒƒ. ;
(
ƒƒ; <
$str
ƒƒ< H
)
ƒƒH I
;
ƒƒI J
entity
≈≈ 
.
≈≈ 
Property
≈≈ 
(
≈≈ 
e
≈≈ 
=>
≈≈  
e
≈≈! "
.
≈≈" #
PaymentGroupId
≈≈# 1
)
≈≈1 2
.
≈≈2 3
HasColumnName
≈≈3 @
(
≈≈@ A
$str
≈≈A S
)
≈≈S T
;
≈≈T U
entity
∆∆ 
.
∆∆ 
Property
∆∆ 
(
∆∆ 
e
∆∆ 
=>
∆∆  
e
∆∆! "
.
∆∆" ##
ProductCommissionable
∆∆# 8
)
∆∆8 9
.
∆∆9 :
HasColumnName
∆∆: G
(
∆∆G H
$str
∆∆H `
)
∆∆` a
;
∆∆a b
entity
«« 
.
«« 
Property
«« 
(
«« 
e
«« 
=>
««  
e
««! "
.
««" #
ProductDiscount
««# 2
)
««2 3
.
»»  
HasDefaultValueSql
»» #
(
»»# $
$str
»»$ *
)
»»* +
.
…… 
HasColumnName
…… 
(
…… 
$str
…… 1
)
……1 2
;
……2 3
entity
   
.
   
Property
   
(
   
e
   
=>
    
e
  ! "
.
  " #
	ProductId
  # ,
)
  , -
.
  - .
HasColumnName
  . ;
(
  ; <
$str
  < H
)
  H I
;
  I J
entity
ÀÀ 
.
ÀÀ 
Property
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  
e
ÀÀ! "
.
ÀÀ" #

ProductIva
ÀÀ# -
)
ÀÀ- .
.
ÀÀ. /
HasColumnName
ÀÀ/ <
(
ÀÀ< =
$str
ÀÀ= J
)
ÀÀJ K
;
ÀÀK L
entity
ÃÃ 
.
ÃÃ 
Property
ÃÃ 
(
ÃÃ 
e
ÃÃ 
=>
ÃÃ  
e
ÃÃ! "
.
ÃÃ" #
ProductName
ÃÃ# .
)
ÃÃ. /
.
ÃÃ/ 0
HasColumnName
ÃÃ0 =
(
ÃÃ= >
$str
ÃÃ> L
)
ÃÃL M
;
ÃÃM N
entity
ÕÕ 
.
ÕÕ 
Property
ÕÕ 
(
ÕÕ 
e
ÕÕ 
=>
ÕÕ  
e
ÕÕ! "
.
ÕÕ" #
ProductPack
ÕÕ# .
)
ÕÕ. /
.
ŒŒ  
HasDefaultValueSql
ŒŒ #
(
ŒŒ# $
$str
ŒŒ$ +
)
ŒŒ+ ,
.
œœ 
HasColumnName
œœ 
(
œœ 
$str
œœ -
)
œœ- .
;
œœ. /
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #
ProductPoints
––# 0
)
––0 1
.
––1 2
HasColumnName
––2 ?
(
––? @
$str
––@ P
)
––P Q
;
––Q R
entity
—— 
.
—— 
Property
—— 
(
—— 
e
—— 
=>
——  
e
——! "
.
——" #
ProductPrice
——# /
)
——/ 0
.
——0 1
HasColumnName
——1 >
(
——> ?
$str
——? N
)
——N O
;
——O P
entity
““ 
.
““ 
Property
““ 
(
““ 
e
““ 
=>
““  
e
““! "
.
““" #
ProductPriceBtc
““# 2
)
““2 3
.
””  
HasDefaultValueSql
”” #
(
””# $
$str
””$ *
)
””* +
.
‘‘ 
HasColumnName
‘‘ 
(
‘‘ 
$str
‘‘ 2
)
‘‘2 3
;
‘‘3 4
entity
’’ 
.
’’ 
Property
’’ 
(
’’ 
e
’’ 
=>
’’  
e
’’! "
.
’’" #
ProductQuantity
’’# 2
)
’’2 3
.
’’3 4
HasColumnName
’’4 A
(
’’A B
$str
’’B T
)
’’T U
;
’’U V
entity
÷÷ 
.
÷÷ 
Property
÷÷ 
(
÷÷ 
e
÷÷ 
=>
÷÷  
e
÷÷! "
.
÷÷" #
ProductStart
÷÷# /
)
÷÷/ 0
.
÷÷0 1
HasColumnName
÷÷1 >
(
÷÷> ?
$str
÷÷? N
)
÷÷N O
;
÷÷O P
entity
◊◊ 
.
◊◊ 
Property
◊◊ 
(
◊◊ 
e
◊◊ 
=>
◊◊  
e
◊◊! "
.
◊◊" #
	UpdatedAt
◊◊# ,
)
◊◊, -
.
◊◊- .
HasColumnName
◊◊. ;
(
◊◊; <
$str
◊◊< H
)
◊◊H I
;
◊◊I J
entity
ÿÿ 
.
ÿÿ 
Property
ÿÿ 
(
ÿÿ 
e
ÿÿ 
=>
ÿÿ  
e
ÿÿ! "
.
ÿÿ" #
WaitingDays
ÿÿ# .
)
ÿÿ. /
.
ÿÿ/ 0
HasColumnName
ÿÿ0 =
(
ÿÿ= >
$str
ÿÿ> L
)
ÿÿL M
;
ÿÿM N
entity
⁄⁄ 
.
⁄⁄ 
HasOne
⁄⁄ 
(
⁄⁄ 
d
⁄⁄ 
=>
⁄⁄ 
d
⁄⁄  
.
⁄⁄  !
Brand
⁄⁄! &
)
⁄⁄& '
.
⁄⁄' (
WithMany
⁄⁄( 0
(
⁄⁄0 1
p
⁄⁄1 2
=>
⁄⁄3 5
p
⁄⁄6 7
.
⁄⁄7 8
InvoicesDetails
⁄⁄8 G
)
⁄⁄G H
.
€€ 
HasForeignKey
€€ 
(
€€ 
d
€€  
=>
€€! #
d
€€$ %
.
€€% &
BrandId
€€& -
)
€€- .
.
‹‹ 
OnDelete
‹‹ 
(
‹‹ 
DeleteBehavior
‹‹ (
.
‹‹( )
ClientSetNull
‹‹) 6
)
‹‹6 7
.
›› 
HasConstraintName
›› "
(
››" #
$str
››# =
)
››= >
;
››> ?
entity
ﬂﬂ 
.
ﬂﬂ 
HasOne
ﬂﬂ 
(
ﬂﬂ 
d
ﬂﬂ 
=>
ﬂﬂ 
d
ﬂﬂ  
.
ﬂﬂ  !
Invoice
ﬂﬂ! (
)
ﬂﬂ( )
.
ﬂﬂ) *
WithMany
ﬂﬂ* 2
(
ﬂﬂ2 3
p
ﬂﬂ3 4
=>
ﬂﬂ5 7
p
ﬂﬂ8 9
.
ﬂﬂ9 :
InvoicesDetails
ﬂﬂ: I
)
ﬂﬂI J
.
‡‡ 
HasForeignKey
‡‡ 
(
‡‡ 
d
‡‡  
=>
‡‡! #
d
‡‡$ %
.
‡‡% &
	InvoiceId
‡‡& /
)
‡‡/ 0
.
·· 
OnDelete
·· 
(
·· 
DeleteBehavior
·· (
.
··( )
ClientSetNull
··) 6
)
··6 7
.
‚‚ 
HasConstraintName
‚‚ "
(
‚‚" #
$str
‚‚# @
)
‚‚@ A
;
‚‚A B
entity
‰‰ 
.
‰‰ 
HasQueryFilter
‰‰ !
(
‰‰! "
e
‰‰" #
=>
‰‰$ &
!
‰‰' (
e
‰‰( )
.
‰‰) *
	DeletedAt
‰‰* 3
.
‰‰3 4
HasValue
‰‰4 <
)
‰‰< =
;
‰‰= >
}
ÂÂ 	
)
ÂÂ	 

;
ÂÂ
 
modelBuilder
ÁÁ 
.
ÁÁ 
Entity
ÁÁ 
<
ÁÁ 
LeaderBoardModel5
ÁÁ -
>
ÁÁ- .
(
ÁÁ. /
entity
ÁÁ/ 5
=>
ÁÁ6 8
{
ËË 	
entity
ÈÈ 
.
ÈÈ 
HasKey
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ 
e
ÈÈ  
.
ÈÈ  !
Id
ÈÈ! #
)
ÈÈ# $
.
ÈÈ$ %
HasName
ÈÈ% ,
(
ÈÈ, -
$str
ÈÈ- W
)
ÈÈW X
;
ÈÈX Y
entity
ÎÎ 
.
ÎÎ 
ToTable
ÎÎ 
(
ÎÎ 
$str
ÎÎ 0
,
ÎÎ0 1
$str
ÎÎ2 B
)
ÎÎB C
;
ÎÎC D
entity
ÌÌ 
.
ÌÌ 
Property
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
Id
ÌÌ# %
)
ÌÌ% &
.
ÓÓ  
HasDefaultValueSql
ÓÓ #
(
ÓÓ# $
$str
ÓÓ$ S
)
ÓÓS T
.
ÔÔ 
HasColumnName
ÔÔ 
(
ÔÔ 
$str
ÔÔ #
)
ÔÔ# $
;
ÔÔ$ %
entity
 
.
 
Property
 
(
 
e
 
=>
  
e
! "
.
" #
AffiliateId
# .
)
. /
.
/ 0
HasColumnName
0 =
(
= >
$str
> L
)
L M
;
M N
entity
ÒÒ 
.
ÒÒ 
Property
ÒÒ 
(
ÒÒ 
e
ÒÒ 
=>
ÒÒ  
e
ÒÒ! "
.
ÒÒ" #
Amount
ÒÒ# )
)
ÒÒ) *
.
ÒÒ* +
HasColumnName
ÒÒ+ 8
(
ÒÒ8 9
$str
ÒÒ9 A
)
ÒÒA B
;
ÒÒB C
entity
ÚÚ 
.
ÚÚ 
Property
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ  
e
ÚÚ! "
.
ÚÚ" #
	CreatedAt
ÚÚ# ,
)
ÚÚ, -
.
ÚÚ- .
HasColumnName
ÚÚ. ;
(
ÚÚ; <
$str
ÚÚ< H
)
ÚÚH I
;
ÚÚI J
entity
ÛÛ 
.
ÛÛ 
Property
ÛÛ 
(
ÛÛ 
e
ÛÛ 
=>
ÛÛ  
e
ÛÛ! "
.
ÛÛ" #
	GradingId
ÛÛ# ,
)
ÛÛ, -
.
ÛÛ- .
HasColumnName
ÛÛ. ;
(
ÛÛ; <
$str
ÛÛ< H
)
ÛÛH I
;
ÛÛI J
entity
ÙÙ 
.
ÙÙ 
Property
ÙÙ 
(
ÙÙ 
e
ÙÙ 
=>
ÙÙ  
e
ÙÙ! "
.
ÙÙ" #
GradingPosition
ÙÙ# 2
)
ÙÙ2 3
.
ÙÙ3 4
HasColumnName
ÙÙ4 A
(
ÙÙA B
$str
ÙÙB T
)
ÙÙT U
;
ÙÙU V
entity
ıı 
.
ıı 
Property
ıı 
(
ıı 
e
ıı 
=>
ıı  
e
ıı! "
.
ıı" #
MatrixPosition
ıı# 1
)
ıı1 2
.
ıı2 3
HasColumnName
ıı3 @
(
ıı@ A
$str
ııA R
)
ııR S
;
ııS T
entity
ˆˆ 
.
ˆˆ 
Property
ˆˆ 
(
ˆˆ 
e
ˆˆ 
=>
ˆˆ  
e
ˆˆ! "
.
ˆˆ" #
UserName
ˆˆ# +
)
ˆˆ+ ,
.
ˆˆ, -
HasColumnName
ˆˆ- :
(
ˆˆ: ;
$str
ˆˆ; F
)
ˆˆF G
;
ˆˆG H
}
˜˜ 	
)
˜˜	 

;
˜˜
 
modelBuilder
˘˘ 
.
˘˘ 
Entity
˘˘ 
<
˘˘ 
LeaderBoardModel6
˘˘ -
>
˘˘- .
(
˘˘. /
entity
˘˘/ 5
=>
˘˘6 8
{
˙˙ 	
entity
˚˚ 
.
˚˚ 
HasKey
˚˚ 
(
˚˚ 
e
˚˚ 
=>
˚˚ 
e
˚˚  
.
˚˚  !
Id
˚˚! #
)
˚˚# $
.
˚˚$ %
HasName
˚˚% ,
(
˚˚, -
$str
˚˚- W
)
˚˚W X
;
˚˚X Y
entity
˝˝ 
.
˝˝ 
ToTable
˝˝ 
(
˝˝ 
$str
˝˝ 0
,
˝˝0 1
$str
˝˝2 B
)
˝˝B C
;
˝˝C D
entity
ˇˇ 
.
ˇˇ 
Property
ˇˇ 
(
ˇˇ 
e
ˇˇ 
=>
ˇˇ  
e
ˇˇ! "
.
ˇˇ" #
Id
ˇˇ# %
)
ˇˇ% &
.
ÄÄ  
HasDefaultValueSql
ÄÄ #
(
ÄÄ# $
$str
ÄÄ$ S
)
ÄÄS T
.
ÅÅ 
HasColumnName
ÅÅ 
(
ÅÅ 
$str
ÅÅ #
)
ÅÅ# $
;
ÅÅ$ %
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
AffiliateId
ÇÇ# .
)
ÇÇ. /
.
ÇÇ/ 0
HasColumnName
ÇÇ0 =
(
ÇÇ= >
$str
ÇÇ> L
)
ÇÇL M
;
ÇÇM N
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #
Amount
ÉÉ# )
)
ÉÉ) *
.
ÉÉ* +
HasColumnName
ÉÉ+ 8
(
ÉÉ8 9
$str
ÉÉ9 A
)
ÉÉA B
;
ÉÉB C
entity
ÑÑ 
.
ÑÑ 
Property
ÑÑ 
(
ÑÑ 
e
ÑÑ 
=>
ÑÑ  
e
ÑÑ! "
.
ÑÑ" #
	CreatedAt
ÑÑ# ,
)
ÑÑ, -
.
ÑÑ- .
HasColumnName
ÑÑ. ;
(
ÑÑ; <
$str
ÑÑ< H
)
ÑÑH I
;
ÑÑI J
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
	GradingId
ÖÖ# ,
)
ÖÖ, -
.
ÖÖ- .
HasColumnName
ÖÖ. ;
(
ÖÖ; <
$str
ÖÖ< H
)
ÖÖH I
;
ÖÖI J
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #
GradingPosition
ÜÜ# 2
)
ÜÜ2 3
.
ÜÜ3 4
HasColumnName
ÜÜ4 A
(
ÜÜA B
$str
ÜÜB T
)
ÜÜT U
;
ÜÜU V
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
MatrixPosition
áá# 1
)
áá1 2
.
áá2 3
HasColumnName
áá3 @
(
áá@ A
$str
ááA R
)
ááR S
;
ááS T
entity
àà 
.
àà 
Property
àà 
(
àà 
e
àà 
=>
àà  
e
àà! "
.
àà" #
UserName
àà# +
)
àà+ ,
.
àà, -
HasColumnName
àà- :
(
àà: ;
$str
àà; F
)
ààF G
;
ààG H
}
ââ 	
)
ââ	 

;
ââ
 
modelBuilder
ãã 
.
ãã 
Entity
ãã 
<
ãã  
ModelConfiguration
ãã .
>
ãã. /
(
ãã/ 0
entity
ãã0 6
=>
ãã7 9
{
åå 	
entity
çç 
.
çç 
HasKey
çç 
(
çç 
e
çç 
=>
çç 
e
çç  
.
çç  !
Id
çç! #
)
çç# $
.
çç$ %
HasName
çç% ,
(
çç, -
$str
çç- W
)
ççW X
;
ççX Y
entity
èè 
.
èè 
ToTable
èè 
(
èè 
$str
èè 0
,
èè0 1
$str
èè2 B
)
èèB C
;
èèC D
entity
ëë 
.
ëë 
Property
ëë 
(
ëë 
e
ëë 
=>
ëë  
e
ëë! "
.
ëë" #
Id
ëë# %
)
ëë% &
.
íí  
HasDefaultValueSql
íí #
(
íí# $
$str
íí$ T
)
ííT U
.
ìì 
HasColumnName
ìì 
(
ìì 
$str
ìì #
)
ìì# $
;
ìì$ %
entity
îî 
.
îî 
Property
îî 
(
îî 
e
îî 
=>
îî  
e
îî! "
.
îî" #
Case
îî# '
)
îî' (
.
îî( )
HasColumnName
îî) 6
(
îî6 7
$str
îî7 =
)
îî= >
;
îî> ?
entity
ïï 
.
ïï 
Property
ïï 
(
ïï 
e
ïï 
=>
ïï  
e
ïï! "
.
ïï" #
CompanyPercentage
ïï# 4
)
ïï4 5
.
ïï5 6
HasColumnName
ïï6 C
(
ïïC D
$str
ïïD X
)
ïïX Y
;
ïïY Z
entity
ññ 
.
ññ 
Property
ññ 
(
ññ 
e
ññ 
=>
ññ  
e
ññ! "
.
ññ" #%
CompanyPercentageLevels
ññ# :
)
ññ: ;
.
ññ; <
HasColumnName
ññ< I
(
ññI J
$str
ññJ e
)
ññe f
;
ññf g
entity
óó 
.
óó 
Property
óó 
(
óó 
e
óó 
=>
óó  
e
óó! "
.
óó" #
CompletedAt
óó# .
)
óó. /
.
óó/ 0
HasColumnName
óó0 =
(
óó= >
$str
óó> L
)
óóL M
;
óóM N
entity
òò 
.
òò 
Property
òò 
(
òò 
e
òò 
=>
òò  
e
òò! "
.
òò" #
	CreatedAt
òò# ,
)
òò, -
.
òò- .
HasColumnName
òò. ;
(
òò; <
$str
òò< H
)
òòH I
;
òòI J
entity
ôô 
.
ôô 
Property
ôô 
(
ôô 
e
ôô 
=>
ôô  
e
ôô! "
.
ôô" #
DateEnd
ôô# *
)
ôô* +
.
ôô+ ,
HasColumnName
ôô, 9
(
ôô9 :
$str
ôô: D
)
ôôD E
;
ôôE F
entity
öö 
.
öö 
Property
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #
DateInit
öö# +
)
öö+ ,
.
öö, -
HasColumnName
öö- :
(
öö: ;
$str
öö; F
)
ööF G
;
ööG H
entity
õõ 
.
õõ 
Property
õõ 
(
õõ 
e
õõ 
=>
õõ  
e
õõ! "
.
õõ" #
	DeletedAt
õõ# ,
)
õõ, -
.
õõ- .
HasColumnName
õõ. ;
(
õõ; <
$str
õõ< H
)
õõH I
;
õõI J
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
MaxGainLimit
úú# /
)
úú/ 0
.
úú0 1
HasColumnName
úú1 >
(
úú> ?
$str
úú? O
)
úúO P
;
úúP Q
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #
ModelPercentage
ùù# 2
)
ùù2 3
.
ùù3 4
HasColumnName
ùù4 A
(
ùùA B
$str
ùùB T
)
ùùT U
;
ùùU V
entity
ûû 
.
ûû 
Property
ûû 
(
ûû 
e
ûû 
=>
ûû  
e
ûû! "
.
ûû" #
	ModelType
ûû# ,
)
ûû, -
.
üü  
HasDefaultValueSql
üü #
(
üü# $
$str
üü$ 5
)
üü5 6
.
†† 
HasColumnName
†† 
(
†† 
$str
†† +
)
††+ ,
;
††, -
entity
°° 
.
°° 
Property
°° 
(
°° 
e
°° 
=>
°°  
e
°°! "
.
°°" #
	Processed
°°# ,
)
°°, -
.
°°- .
HasColumnName
°°. ;
(
°°; <
$str
°°< G
)
°°G H
;
°°H I
entity
¢¢ 
.
¢¢ 
Property
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢  
e
¢¢! "
.
¢¢" #
Totals
¢¢# )
)
¢¢) *
.
¢¢* +
HasColumnName
¢¢+ 8
(
¢¢8 9
$str
¢¢9 A
)
¢¢A B
;
¢¢B C
entity
££ 
.
££ 
Property
££ 
(
££ 
e
££ 
=>
££  
e
££! "
.
££" #
	UpdatedAt
££# ,
)
££, -
.
££- .
HasColumnName
££. ;
(
££; <
$str
££< H
)
££H I
;
££I J
entity
•• 
.
•• 
HasQueryFilter
•• !
(
••! "
e
••" #
=>
••$ &
!
••' (
e
••( )
.
••) *
	DeletedAt
••* 3
.
••3 4
HasValue
••4 <
)
••< =
;
••= >
}
¶¶ 	
)
¶¶	 

;
¶¶
 
modelBuilder
®® 
.
®® 
Entity
®® 
<
®® %
ModelConfigurationLevel
®® 3
>
®®3 4
(
®®4 5
entity
®®5 ;
=>
®®< >
{
©© 	
entity
™™ 
.
™™ 
HasKey
™™ 
(
™™ 
e
™™ 
=>
™™ 
e
™™  
.
™™  !
Id
™™! #
)
™™# $
.
™™$ %
HasName
™™% ,
(
™™, -
$str
™™- W
)
™™W X
;
™™X Y
entity
¨¨ 
.
¨¨ 
ToTable
¨¨ 
(
¨¨ 
$str
¨¨ 7
,
¨¨7 8
$str
¨¨9 I
)
¨¨I J
;
¨¨J K
entity
ÆÆ 
.
ÆÆ 
Property
ÆÆ 
(
ÆÆ 
e
ÆÆ 
=>
ÆÆ  
e
ÆÆ! "
.
ÆÆ" #
Id
ÆÆ# %
)
ÆÆ% &
.
ØØ  
HasDefaultValueSql
ØØ #
(
ØØ# $
$str
ØØ$ Z
)
ØØZ [
.
∞∞ 
HasColumnName
∞∞ 
(
∞∞ 
$str
∞∞ #
)
∞∞# $
;
∞∞$ %
entity
±± 
.
±± 
Property
±± 
(
±± 
e
±± 
=>
±±  
e
±±! "
.
±±" #
	CreatedAt
±±# ,
)
±±, -
.
±±- .
HasColumnName
±±. ;
(
±±; <
$str
±±< H
)
±±H I
;
±±I J
entity
≤≤ 
.
≤≤ 
Property
≤≤ 
(
≤≤ 
e
≤≤ 
=>
≤≤  
e
≤≤! "
.
≤≤" #$
EcopoolConfigurationId
≤≤# 9
)
≤≤9 :
.
≤≤: ;
HasColumnName
≤≤; H
(
≤≤H I
$str
≤≤I c
)
≤≤c d
;
≤≤d e
entity
≥≥ 
.
≥≥ 
Property
≥≥ 
(
≥≥ 
e
≥≥ 
=>
≥≥  
e
≥≥! "
.
≥≥" #
Level
≥≥# (
)
≥≥( )
.
≥≥) *
HasColumnName
≥≥* 7
(
≥≥7 8
$str
≥≥8 ?
)
≥≥? @
;
≥≥@ A
entity
¥¥ 
.
¥¥ 
Property
¥¥ 
(
¥¥ 
e
¥¥ 
=>
¥¥  
e
¥¥! "
.
¥¥" #

Percentage
¥¥# -
)
¥¥- .
.
¥¥. /
HasColumnName
¥¥/ <
(
¥¥< =
$str
¥¥= I
)
¥¥I J
;
¥¥J K
entity
µµ 
.
µµ 
Property
µµ 
(
µµ 
e
µµ 
=>
µµ  
e
µµ! "
.
µµ" #
	UpdatedAt
µµ# ,
)
µµ, -
.
µµ- .
HasColumnName
µµ. ;
(
µµ; <
$str
µµ< H
)
µµH I
;
µµI J
entity
∑∑ 
.
∑∑ 
HasOne
∑∑ 
(
∑∑ 
d
∑∑ 
=>
∑∑ 
d
∑∑  
.
∑∑  !"
EcopoolConfiguration
∑∑! 5
)
∑∑5 6
.
∑∑6 7
WithMany
∑∑7 ?
(
∑∑? @
p
∑∑@ A
=>
∑∑B D
p
∑∑E F
.
∑∑F G&
ModelConfigurationLevels
∑∑G _
)
∑∑_ `
.
∏∏ 
HasForeignKey
∏∏ 
(
∏∏ 
d
∏∏  
=>
∏∏! #
d
∏∏$ %
.
∏∏% &$
EcopoolConfigurationId
∏∏& <
)
∏∏< =
.
ππ 
OnDelete
ππ 
(
ππ 
DeleteBehavior
ππ (
.
ππ( )
ClientSetNull
ππ) 6
)
ππ6 7
.
∫∫ 
HasConstraintName
∫∫ "
(
∫∫" #
$str
∫∫# J
)
∫∫J K
;
∫∫K L
}
ªª 	
)
ªª	 

;
ªª
 
modelBuilder
ΩΩ 
.
ΩΩ 
Entity
ΩΩ 
<
ΩΩ  
ModelFourStatistic
ΩΩ .
>
ΩΩ. /
(
ΩΩ/ 0
entity
ΩΩ0 6
=>
ΩΩ7 9
{
ææ 	
entity
øø 
.
øø 
HasKey
øø 
(
øø 
e
øø 
=>
øø 
e
øø  
.
øø  !
Id
øø! #
)
øø# $
.
øø$ %
HasName
øø% ,
(
øø, -
$str
øø- W
)
øøW X
;
øøX Y
entity
¡¡ 
.
¡¡ 
ToTable
¡¡ 
(
¡¡ 
$str
¡¡ 2
,
¡¡2 3
$str
¡¡4 D
)
¡¡D E
;
¡¡E F
entity
√√ 
.
√√ 
HasIndex
√√ 
(
√√ 
e
√√ 
=>
√√  
e
√√! "
.
√√" #
AffiliateId
√√# .
,
√√. /
$str
√√0 L
)
√√L M
;
√√M N
entity
≈≈ 
.
≈≈ 
HasIndex
≈≈ 
(
≈≈ 
e
≈≈ 
=>
≈≈  
e
≈≈! "
.
≈≈" # 
AffiliateNetworkId
≈≈# 5
,
≈≈5 6
$str
≈≈7 Z
)
≈≈Z [
;
≈≈[ \
entity
«« 
.
«« 
HasIndex
«« 
(
«« 
e
«« 
=>
««  
e
««! "
.
««" #
	InvoiceId
««# ,
,
««, -
$str
««. H
)
««H I
;
««I J
entity
…… 
.
…… 
Property
…… 
(
…… 
e
…… 
=>
……  
e
……! "
.
……" #
Id
……# %
)
……% &
.
    
HasDefaultValueSql
   #
(
  # $
$str
  $ U
)
  U V
.
ÀÀ 
HasColumnName
ÀÀ 
(
ÀÀ 
$str
ÀÀ #
)
ÀÀ# $
;
ÀÀ$ %
entity
ÃÃ 
.
ÃÃ 
Property
ÃÃ 
(
ÃÃ 
e
ÃÃ 
=>
ÃÃ  
e
ÃÃ! "
.
ÃÃ" #
AffiliateId
ÃÃ# .
)
ÃÃ. /
.
ÃÃ/ 0
HasColumnName
ÃÃ0 =
(
ÃÃ= >
$str
ÃÃ> L
)
ÃÃL M
;
ÃÃM N
entity
ÕÕ 
.
ÕÕ 
Property
ÕÕ 
(
ÕÕ 
e
ÕÕ 
=>
ÕÕ  
e
ÕÕ! "
.
ÕÕ" # 
AffiliateNetworkId
ÕÕ# 5
)
ÕÕ5 6
.
ÕÕ6 7
HasColumnName
ÕÕ7 D
(
ÕÕD E
$str
ÕÕE [
)
ÕÕ[ \
;
ÕÕ\ ]
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ 
e
ŒŒ 
=>
ŒŒ  
e
ŒŒ! "
.
ŒŒ" #
Compression
ŒŒ# .
)
ŒŒ. /
.
ŒŒ/ 0
HasColumnName
ŒŒ0 =
(
ŒŒ= >
$str
ŒŒ> K
)
ŒŒK L
;
ŒŒL M
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
Concept
œœ# *
)
œœ* +
.
œœ+ ,
HasColumnName
œœ, 9
(
œœ9 :
$str
œœ: C
)
œœC D
;
œœD E
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #

CreditLeft
––# -
)
––- .
.
——  
HasDefaultValueSql
—— #
(
——# $
$str
——$ *
)
——* +
.
““ 
HasColumnName
““ 
(
““ 
$str
““ ,
)
““, -
;
““- .
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #
CreditRight
””# .
)
””. /
.
‘‘  
HasDefaultValueSql
‘‘ #
(
‘‘# $
$str
‘‘$ *
)
‘‘* +
.
’’ 
HasColumnName
’’ 
(
’’ 
$str
’’ -
)
’’- .
;
’’. /
entity
÷÷ 
.
÷÷ 
Property
÷÷ 
(
÷÷ 
e
÷÷ 
=>
÷÷  
e
÷÷! "
.
÷÷" #
Date
÷÷# '
)
÷÷' (
.
÷÷( )
HasColumnName
÷÷) 6
(
÷÷6 7
$str
÷÷7 =
)
÷÷= >
;
÷÷> ?
entity
◊◊ 
.
◊◊ 
Property
◊◊ 
(
◊◊ 
e
◊◊ 
=>
◊◊  
e
◊◊! "
.
◊◊" #
	DebitLeft
◊◊# ,
)
◊◊, -
.
ÿÿ  
HasDefaultValueSql
ÿÿ #
(
ÿÿ# $
$str
ÿÿ$ *
)
ÿÿ* +
.
ŸŸ 
HasColumnName
ŸŸ 
(
ŸŸ 
$str
ŸŸ +
)
ŸŸ+ ,
;
ŸŸ, -
entity
⁄⁄ 
.
⁄⁄ 
Property
⁄⁄ 
(
⁄⁄ 
e
⁄⁄ 
=>
⁄⁄  
e
⁄⁄! "
.
⁄⁄" #

DebitRight
⁄⁄# -
)
⁄⁄- .
.
€€  
HasDefaultValueSql
€€ #
(
€€# $
$str
€€$ *
)
€€* +
.
‹‹ 
HasColumnName
‹‹ 
(
‹‹ 
$str
‹‹ ,
)
‹‹, -
;
‹‹- .
entity
›› 
.
›› 
Property
›› 
(
›› 
e
›› 
=>
››  
e
››! "
.
››" #
	InvoiceId
››# ,
)
››, -
.
››- .
HasColumnName
››. ;
(
››; <
$str
››< H
)
››H I
;
››I J
}
ﬁﬁ 	
)
ﬁﬁ	 

;
ﬁﬁ
 
modelBuilder
‡‡ 
.
‡‡ 
Entity
‡‡ 
<
‡‡ 
NetworkPurchase
‡‡ +
>
‡‡+ ,
(
‡‡, -
entity
‡‡- 3
=>
‡‡4 6
{
·· 	
entity
‚‚ 
.
‚‚ 
HasKey
‚‚ 
(
‚‚ 
e
‚‚ 
=>
‚‚ 
e
‚‚  
.
‚‚  !
Id
‚‚! #
)
‚‚# $
.
‚‚$ %
HasName
‚‚% ,
(
‚‚, -
$str
‚‚- W
)
‚‚W X
;
‚‚X Y
entity
‰‰ 
.
‰‰ 
ToTable
‰‰ 
(
‰‰ 
$str
‰‰ .
,
‰‰. /
$str
‰‰0 @
)
‰‰@ A
;
‰‰A B
entity
ÊÊ 
.
ÊÊ 
Property
ÊÊ 
(
ÊÊ 
e
ÊÊ 
=>
ÊÊ  
e
ÊÊ! "
.
ÊÊ" #
Id
ÊÊ# %
)
ÊÊ% &
.
ÁÁ  
HasDefaultValueSql
ÁÁ #
(
ÁÁ# $
$str
ÁÁ$ R
)
ÁÁR S
.
ËË 
HasColumnName
ËË 
(
ËË 
$str
ËË #
)
ËË# $
;
ËË$ %
entity
ÈÈ 
.
ÈÈ 
Property
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ  
e
ÈÈ! "
.
ÈÈ" #
AffiliateId
ÈÈ# .
)
ÈÈ. /
.
ÈÈ/ 0
HasColumnName
ÈÈ0 =
(
ÈÈ= >
$str
ÈÈ> L
)
ÈÈL M
;
ÈÈM N
entity
ÍÍ 
.
ÍÍ 
Property
ÍÍ 
(
ÍÍ 
e
ÍÍ 
=>
ÍÍ  
e
ÍÍ! "
.
ÍÍ" #!
CommisionableAmount
ÍÍ# 6
)
ÍÍ6 7
.
ÍÍ7 8
HasColumnName
ÍÍ8 E
(
ÍÍE F
$str
ÍÍF \
)
ÍÍ\ ]
;
ÍÍ] ^
entity
ÎÎ 
.
ÎÎ 
Property
ÎÎ 
(
ÎÎ 
e
ÎÎ 
=>
ÎÎ  
e
ÎÎ! "
.
ÎÎ" #
	CreatedAt
ÎÎ# ,
)
ÎÎ, -
.
ÎÎ- .
HasColumnName
ÎÎ. ;
(
ÎÎ; <
$str
ÎÎ< H
)
ÎÎH I
;
ÎÎI J
entity
ÏÏ 
.
ÏÏ 
Property
ÏÏ 
(
ÏÏ 
e
ÏÏ 
=>
ÏÏ  
e
ÏÏ! "
.
ÏÏ" #
	DeletedAt
ÏÏ# ,
)
ÏÏ, -
.
ÏÏ- .
HasColumnName
ÏÏ. ;
(
ÏÏ; <
$str
ÏÏ< H
)
ÏÏH I
;
ÏÏI J
entity
ÌÌ 
.
ÌÌ 
Property
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
	InvoiceId
ÌÌ# ,
)
ÌÌ, -
.
ÌÌ- .
HasColumnName
ÌÌ. ;
(
ÌÌ; <
$str
ÌÌ< H
)
ÌÌH I
;
ÌÌI J
entity
ÓÓ 
.
ÓÓ 
Property
ÓÓ 
(
ÓÓ 
e
ÓÓ 
=>
ÓÓ  
e
ÓÓ! "
.
ÓÓ" #
Level
ÓÓ# (
)
ÓÓ( )
.
ÓÓ) *
HasColumnName
ÓÓ* 7
(
ÓÓ7 8
$str
ÓÓ8 ?
)
ÓÓ? @
;
ÓÓ@ A
entity
ÔÔ 
.
ÔÔ 
Property
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ  
e
ÔÔ! "
.
ÔÔ" #
Origin
ÔÔ# )
)
ÔÔ) *
.
  
HasDefaultValueSql
 #
(
# $
$str
$ 3
)
3 4
.
ÒÒ 
HasColumnName
ÒÒ 
(
ÒÒ 
$str
ÒÒ '
)
ÒÒ' (
;
ÒÒ( )
entity
ÚÚ 
.
ÚÚ 
Property
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ  
e
ÚÚ! "
.
ÚÚ" #
Points
ÚÚ# )
)
ÚÚ) *
.
ÚÚ* +
HasColumnName
ÚÚ+ 8
(
ÚÚ8 9
$str
ÚÚ9 A
)
ÚÚA B
;
ÚÚB C
entity
ÛÛ 
.
ÛÛ 
Property
ÛÛ 
(
ÛÛ 
e
ÛÛ 
=>
ÛÛ  
e
ÛÛ! "
.
ÛÛ" #
	UpdatedAt
ÛÛ# ,
)
ÛÛ, -
.
ÛÛ- .
HasColumnName
ÛÛ. ;
(
ÛÛ; <
$str
ÛÛ< H
)
ÛÛH I
;
ÛÛI J
entity
ıı 
.
ıı 
HasQueryFilter
ıı !
(
ıı! "
e
ıı" #
=>
ıı$ &
!
ıı' (
e
ıı( )
.
ıı) *
	DeletedAt
ıı* 3
.
ıı3 4
HasValue
ıı4 <
)
ıı< =
;
ıı= >
}
ˆˆ 	
)
ˆˆ	 

;
ˆˆ
 
modelBuilder
¯¯ 
.
¯¯ 
Entity
¯¯ 
<
¯¯ 
ResultsModel1a
¯¯ *
>
¯¯* +
(
¯¯+ ,
entity
¯¯, 2
=>
¯¯3 5
{
˘˘ 	
entity
˙˙ 
.
˙˙ 
HasKey
˙˙ 
(
˙˙ 
e
˙˙ 
=>
˙˙ 
e
˙˙  
.
˙˙  !
Id
˙˙! #
)
˙˙# $
.
˙˙$ %
HasName
˙˙% ,
(
˙˙, -
$str
˙˙- W
)
˙˙W X
;
˙˙X Y
entity
¸¸ 
.
¸¸ 
ToTable
¸¸ 
(
¸¸ 
$str
¸¸ -
,
¸¸- .
$str
¸¸/ ?
)
¸¸? @
;
¸¸@ A
entity
˛˛ 
.
˛˛ 
Property
˛˛ 
(
˛˛ 
e
˛˛ 
=>
˛˛  
e
˛˛! "
.
˛˛" #
Id
˛˛# %
)
˛˛% &
.
ˇˇ  
HasDefaultValueSql
ˇˇ #
(
ˇˇ# $
$str
ˇˇ$ P
)
ˇˇP Q
.
ÄÄ 
HasColumnName
ÄÄ 
(
ÄÄ 
$str
ÄÄ #
)
ÄÄ# $
;
ÄÄ$ %
entity
ÅÅ 
.
ÅÅ 
Property
ÅÅ 
(
ÅÅ 
e
ÅÅ 
=>
ÅÅ  
e
ÅÅ! "
.
ÅÅ" #
AffiliateId
ÅÅ# .
)
ÅÅ. /
.
ÅÅ/ 0
HasColumnName
ÅÅ0 =
(
ÅÅ= >
$str
ÅÅ> L
)
ÅÅL M
;
ÅÅM N
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
AffiliateName
ÇÇ# 0
)
ÇÇ0 1
.
ÇÇ1 2
HasColumnName
ÇÇ2 ?
(
ÇÇ? @
$str
ÇÇ@ P
)
ÇÇP Q
;
ÇÇQ R
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #

BaseAmount
ÉÉ# -
)
ÉÉ- .
.
ÉÉ. /
HasColumnName
ÉÉ/ <
(
ÉÉ< =
$str
ÉÉ= J
)
ÉÉJ K
;
ÉÉK L
entity
ÑÑ 
.
ÑÑ 
Property
ÑÑ 
(
ÑÑ 
e
ÑÑ 
=>
ÑÑ  
e
ÑÑ! "
.
ÑÑ" #
CompletedAt
ÑÑ# .
)
ÑÑ. /
.
ÑÑ/ 0
HasColumnName
ÑÑ0 =
(
ÑÑ= >
$str
ÑÑ> L
)
ÑÑL M
;
ÑÑM N
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
PaymentAmount
ÖÖ# 0
)
ÖÖ0 1
.
ÖÖ1 2
HasColumnName
ÖÖ2 ?
(
ÖÖ? @
$str
ÖÖ@ P
)
ÖÖP Q
;
ÖÖQ R
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #

PeriodPool
ÜÜ# -
)
ÜÜ- .
.
ÜÜ. /
HasColumnName
ÜÜ/ <
(
ÜÜ< =
$str
ÜÜ= J
)
ÜÜJ K
;
ÜÜK L
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
Points
áá# )
)
áá) *
.
áá* +
HasColumnName
áá+ 8
(
áá8 9
$str
áá9 A
)
ááA B
;
ááB C
entity
àà 
.
àà 
Property
àà 
(
àà 
e
àà 
=>
àà  
e
àà! "
.
àà" #
ProductExternalId
àà# 4
)
àà4 5
.
àà5 6
HasColumnName
àà6 C
(
ààC D
$str
ààD Y
)
ààY Z
;
ààZ [
entity
ââ 
.
ââ 
Property
ââ 
(
ââ 
e
ââ 
=>
ââ  
e
ââ! "
.
ââ" #
ProductName
ââ# .
)
ââ. /
.
ââ/ 0
HasColumnName
ââ0 =
(
ââ= >
$str
ââ> L
)
ââL M
;
ââM N
entity
ää 
.
ää 
Property
ää 
(
ää 
e
ää 
=>
ää  
e
ää! "
.
ää" #%
ProfitDistributedLevels
ää# :
)
ää: ;
.
ää; <
HasColumnName
ää< I
(
ääI J
$str
ääJ e
)
ääe f
;
ääf g
entity
ãã 
.
ãã 
Property
ãã 
(
ãã 
e
ãã 
=>
ãã  
e
ãã! "
.
ãã" #
TotalPercentage
ãã# 2
)
ãã2 3
.
ãã3 4
HasColumnName
ãã4 A
(
ããA B
$str
ããB T
)
ããT U
;
ããU V
entity
åå 
.
åå 
Property
åå 
(
åå 
e
åå 
=>
åå  
e
åå! "
.
åå" #
UserCreatedAt
åå# 0
)
åå0 1
.
åå1 2
HasColumnName
åå2 ?
(
åå? @
$str
åå@ Q
)
ååQ R
;
ååR S
}
çç 	
)
çç	 

;
çç
 
modelBuilder
èè 
.
èè 
Entity
èè 
<
èè !
ResultsModel1aLevel
èè /
>
èè/ 0
(
èè0 1
entity
èè1 7
=>
èè8 :
{
êê 	
entity
ëë 
.
ëë 
HasKey
ëë 
(
ëë 
e
ëë 
=>
ëë 
e
ëë  
.
ëë  !
Id
ëë! #
)
ëë# $
.
ëë$ %
HasName
ëë% ,
(
ëë, -
$str
ëë- W
)
ëëW X
;
ëëX Y
entity
ìì 
.
ìì 
ToTable
ìì 
(
ìì 
$str
ìì 4
,
ìì4 5
$str
ìì6 F
)
ììF G
;
ììG H
entity
ïï 
.
ïï 
Property
ïï 
(
ïï 
e
ïï 
=>
ïï  
e
ïï! "
.
ïï" #
Id
ïï# %
)
ïï% &
.
ññ  
HasDefaultValueSql
ññ #
(
ññ# $
$str
ññ$ V
)
ññV W
.
óó 
HasColumnName
óó 
(
óó 
$str
óó #
)
óó# $
;
óó$ %
entity
òò 
.
òò 
Property
òò 
(
òò 
e
òò 
=>
òò  
e
òò! "
.
òò" #
AffiliateId
òò# .
)
òò. /
.
òò/ 0
HasColumnName
òò0 =
(
òò= >
$str
òò> L
)
òòL M
;
òòM N
entity
ôô 
.
ôô 
Property
ôô 
(
ôô 
e
ôô 
=>
ôô  
e
ôô! "
.
ôô" #
AffiliateName
ôô# 0
)
ôô0 1
.
ôô1 2
HasColumnName
ôô2 ?
(
ôô? @
$str
ôô@ P
)
ôôP Q
;
ôôQ R
entity
öö 
.
öö 
Property
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #

BinarySide
öö# -
)
öö- .
.
öö. /
HasColumnName
öö/ <
(
öö< =
$str
öö= J
)
ööJ K
;
ööK L
entity
õõ 
.
õõ 
Property
õõ 
(
õõ 
e
õõ 
=>
õõ  
e
õõ! "
.
õõ" #
CompletedAt
õõ# .
)
õõ. /
.
õõ/ 0
HasColumnName
õõ0 =
(
õõ= >
$str
õõ> L
)
õõL M
;
õõM N
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
Level
úú# (
)
úú( )
.
úú) *
HasColumnName
úú* 7
(
úú7 8
$str
úú8 ?
)
úú? @
;
úú@ A
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #
PaymentAmount
ùù# 0
)
ùù0 1
.
ùù1 2
HasColumnName
ùù2 ?
(
ùù? @
$str
ùù@ P
)
ùùP Q
;
ùùQ R
entity
ûû 
.
ûû 
Property
ûû 
(
ûû 
e
ûû 
=>
ûû  
e
ûû! "
.
ûû" #
PercentageLevel
ûû# 2
)
ûû2 3
.
ûû3 4
HasColumnName
ûû4 A
(
ûûA B
$str
ûûB T
)
ûûT U
;
ûûU V
entity
üü 
.
üü 
Property
üü 
(
üü 
e
üü 
=>
üü  
e
üü! "
.
üü" #
Points
üü# )
)
üü) *
.
üü* +
HasColumnName
üü+ 8
(
üü8 9
$str
üü9 A
)
üüA B
;
üüB C
entity
†† 
.
†† 
Property
†† 
(
†† 
e
†† 
=>
††  
e
††! "
.
††" #
ResultsModel1aId
††# 3
)
††3 4
.
††4 5
HasColumnName
††5 B
(
††B C
$str
††C X
)
††X Y
;
††Y Z
entity
°° 
.
°° 
Property
°° 
(
°° 
e
°° 
=>
°°  
e
°°! "
.
°°" #
UserCreatedAt
°°# 0
)
°°0 1
.
°°1 2
HasColumnName
°°2 ?
(
°°? @
$str
°°@ Q
)
°°Q R
;
°°R S
entity
££ 
.
££ 
HasOne
££ 
(
££ 
d
££ 
=>
££ 
d
££  
.
££  !
ResultsModel1a
££! /
)
££/ 0
.
££0 1
WithMany
££1 9
(
££9 :
p
££: ;
=>
££< >
p
££? @
.
££@ A"
ResultsModel1aLevels
££A U
)
££U V
.
§§ 
HasForeignKey
§§ 
(
§§ 
d
§§  
=>
§§! #
d
§§$ %
.
§§% &
ResultsModel1aId
§§& 6
)
§§6 7
.
•• 
OnDelete
•• 
(
•• 
DeleteBehavior
•• (
.
••( )
ClientSetNull
••) 6
)
••6 7
.
¶¶ 
HasConstraintName
¶¶ "
(
¶¶" #
$str
¶¶# K
)
¶¶K L
;
¶¶L M
}
ßß 	
)
ßß	 

;
ßß
 
modelBuilder
©© 
.
©© 
Entity
©© 
<
©© 
ResultsModel1b
©© *
>
©©* +
(
©©+ ,
entity
©©, 2
=>
©©3 5
{
™™ 	
entity
´´ 
.
´´ 
HasKey
´´ 
(
´´ 
e
´´ 
=>
´´ 
e
´´  
.
´´  !
Id
´´! #
)
´´# $
.
´´$ %
HasName
´´% ,
(
´´, -
$str
´´- W
)
´´W X
;
´´X Y
entity
≠≠ 
.
≠≠ 
ToTable
≠≠ 
(
≠≠ 
$str
≠≠ -
,
≠≠- .
$str
≠≠/ ?
)
≠≠? @
;
≠≠@ A
entity
ØØ 
.
ØØ 
Property
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ  
e
ØØ! "
.
ØØ" #
Id
ØØ# %
)
ØØ% &
.
∞∞  
HasDefaultValueSql
∞∞ #
(
∞∞# $
$str
∞∞$ P
)
∞∞P Q
.
±± 
HasColumnName
±± 
(
±± 
$str
±± #
)
±±# $
;
±±$ %
entity
≤≤ 
.
≤≤ 
Property
≤≤ 
(
≤≤ 
e
≤≤ 
=>
≤≤  
e
≤≤! "
.
≤≤" #
AffiliateId
≤≤# .
)
≤≤. /
.
≤≤/ 0
HasColumnName
≤≤0 =
(
≤≤= >
$str
≤≤> L
)
≤≤L M
;
≤≤M N
entity
≥≥ 
.
≥≥ 
Property
≥≥ 
(
≥≥ 
e
≥≥ 
=>
≥≥  
e
≥≥! "
.
≥≥" #
AffiliateName
≥≥# 0
)
≥≥0 1
.
≥≥1 2
HasColumnName
≥≥2 ?
(
≥≥? @
$str
≥≥@ P
)
≥≥P Q
;
≥≥Q R
entity
¥¥ 
.
¥¥ 
Property
¥¥ 
(
¥¥ 
e
¥¥ 
=>
¥¥  
e
¥¥! "
.
¥¥" #

BaseAmount
¥¥# -
)
¥¥- .
.
¥¥. /
HasColumnName
¥¥/ <
(
¥¥< =
$str
¥¥= J
)
¥¥J K
;
¥¥K L
entity
µµ 
.
µµ 
Property
µµ 
(
µµ 
e
µµ 
=>
µµ  
e
µµ! "
.
µµ" #
CompletedAt
µµ# .
)
µµ. /
.
µµ/ 0
HasColumnName
µµ0 =
(
µµ= >
$str
µµ> L
)
µµL M
;
µµM N
entity
∂∂ 
.
∂∂ 
Property
∂∂ 
(
∂∂ 
e
∂∂ 
=>
∂∂  
e
∂∂! "
.
∂∂" #
PaymentAmount
∂∂# 0
)
∂∂0 1
.
∂∂1 2
HasColumnName
∂∂2 ?
(
∂∂? @
$str
∂∂@ P
)
∂∂P Q
;
∂∂Q R
entity
∑∑ 
.
∑∑ 
Property
∑∑ 
(
∑∑ 
e
∑∑ 
=>
∑∑  
e
∑∑! "
.
∑∑" #

PeriodPool
∑∑# -
)
∑∑- .
.
∑∑. /
HasColumnName
∑∑/ <
(
∑∑< =
$str
∑∑= J
)
∑∑J K
;
∑∑K L
entity
∏∏ 
.
∏∏ 
Property
∏∏ 
(
∏∏ 
e
∏∏ 
=>
∏∏  
e
∏∏! "
.
∏∏" #
Points
∏∏# )
)
∏∏) *
.
∏∏* +
HasColumnName
∏∏+ 8
(
∏∏8 9
$str
∏∏9 A
)
∏∏A B
;
∏∏B C
entity
ππ 
.
ππ 
Property
ππ 
(
ππ 
e
ππ 
=>
ππ  
e
ππ! "
.
ππ" #
ProductExternalId
ππ# 4
)
ππ4 5
.
ππ5 6
HasColumnName
ππ6 C
(
ππC D
$str
ππD Y
)
ππY Z
;
ππZ [
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫  
e
∫∫! "
.
∫∫" #
ProductName
∫∫# .
)
∫∫. /
.
∫∫/ 0
HasColumnName
∫∫0 =
(
∫∫= >
$str
∫∫> L
)
∫∫L M
;
∫∫M N
entity
ªª 
.
ªª 
Property
ªª 
(
ªª 
e
ªª 
=>
ªª  
e
ªª! "
.
ªª" #%
ProfitDistributedLevels
ªª# :
)
ªª: ;
.
ªª; <
HasColumnName
ªª< I
(
ªªI J
$str
ªªJ e
)
ªªe f
;
ªªf g
entity
ºº 
.
ºº 
Property
ºº 
(
ºº 
e
ºº 
=>
ºº  
e
ºº! "
.
ºº" #
TotalPercentage
ºº# 2
)
ºº2 3
.
ºº3 4
HasColumnName
ºº4 A
(
ººA B
$str
ººB T
)
ººT U
;
ººU V
entity
ΩΩ 
.
ΩΩ 
Property
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ  
e
ΩΩ! "
.
ΩΩ" #
UserCreatedAt
ΩΩ# 0
)
ΩΩ0 1
.
ΩΩ1 2
HasColumnName
ΩΩ2 ?
(
ΩΩ? @
$str
ΩΩ@ Q
)
ΩΩQ R
;
ΩΩR S
}
ææ 	
)
ææ	 

;
ææ
 
modelBuilder
¿¿ 
.
¿¿ 
Entity
¿¿ 
<
¿¿ !
ResultsModel1bLevel
¿¿ /
>
¿¿/ 0
(
¿¿0 1
entity
¿¿1 7
=>
¿¿8 :
{
¡¡ 	
entity
¬¬ 
.
¬¬ 
HasKey
¬¬ 
(
¬¬ 
e
¬¬ 
=>
¬¬ 
e
¬¬  
.
¬¬  !
Id
¬¬! #
)
¬¬# $
.
¬¬$ %
HasName
¬¬% ,
(
¬¬, -
$str
¬¬- W
)
¬¬W X
;
¬¬X Y
entity
ƒƒ 
.
ƒƒ 
ToTable
ƒƒ 
(
ƒƒ 
$str
ƒƒ 4
,
ƒƒ4 5
$str
ƒƒ6 F
)
ƒƒF G
;
ƒƒG H
entity
∆∆ 
.
∆∆ 
Property
∆∆ 
(
∆∆ 
e
∆∆ 
=>
∆∆  
e
∆∆! "
.
∆∆" #
Id
∆∆# %
)
∆∆% &
.
««  
HasDefaultValueSql
«« #
(
««# $
$str
««$ V
)
««V W
.
»» 
HasColumnName
»» 
(
»» 
$str
»» #
)
»»# $
;
»»$ %
entity
…… 
.
…… 
Property
…… 
(
…… 
e
…… 
=>
……  
e
……! "
.
……" #
AffiliateId
……# .
)
……. /
.
……/ 0
HasColumnName
……0 =
(
……= >
$str
……> L
)
……L M
;
……M N
entity
   
.
   
Property
   
(
   
e
   
=>
    
e
  ! "
.
  " #
AffiliateName
  # 0
)
  0 1
.
  1 2
HasColumnName
  2 ?
(
  ? @
$str
  @ P
)
  P Q
;
  Q R
entity
ÀÀ 
.
ÀÀ 
Property
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  
e
ÀÀ! "
.
ÀÀ" #

BinarySide
ÀÀ# -
)
ÀÀ- .
.
ÀÀ. /
HasColumnName
ÀÀ/ <
(
ÀÀ< =
$str
ÀÀ= J
)
ÀÀJ K
;
ÀÀK L
entity
ÃÃ 
.
ÃÃ 
Property
ÃÃ 
(
ÃÃ 
e
ÃÃ 
=>
ÃÃ  
e
ÃÃ! "
.
ÃÃ" #
CompletedAt
ÃÃ# .
)
ÃÃ. /
.
ÃÃ/ 0
HasColumnName
ÃÃ0 =
(
ÃÃ= >
$str
ÃÃ> L
)
ÃÃL M
;
ÃÃM N
entity
ÕÕ 
.
ÕÕ 
Property
ÕÕ 
(
ÕÕ 
e
ÕÕ 
=>
ÕÕ  
e
ÕÕ! "
.
ÕÕ" #
Level
ÕÕ# (
)
ÕÕ( )
.
ÕÕ) *
HasColumnName
ÕÕ* 7
(
ÕÕ7 8
$str
ÕÕ8 ?
)
ÕÕ? @
;
ÕÕ@ A
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ 
e
ŒŒ 
=>
ŒŒ  
e
ŒŒ! "
.
ŒŒ" #
PaymentAmount
ŒŒ# 0
)
ŒŒ0 1
.
ŒŒ1 2
HasColumnName
ŒŒ2 ?
(
ŒŒ? @
$str
ŒŒ@ P
)
ŒŒP Q
;
ŒŒQ R
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
PercentageLevel
œœ# 2
)
œœ2 3
.
œœ3 4
HasColumnName
œœ4 A
(
œœA B
$str
œœB T
)
œœT U
;
œœU V
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #
Points
––# )
)
––) *
.
––* +
HasColumnName
––+ 8
(
––8 9
$str
––9 A
)
––A B
;
––B C
entity
—— 
.
—— 
Property
—— 
(
—— 
e
—— 
=>
——  
e
——! "
.
——" #
ResultsModel1bId
——# 3
)
——3 4
.
——4 5
HasColumnName
——5 B
(
——B C
$str
——C X
)
——X Y
;
——Y Z
entity
““ 
.
““ 
Property
““ 
(
““ 
e
““ 
=>
““  
e
““! "
.
““" #
UserCreatedAt
““# 0
)
““0 1
.
““1 2
HasColumnName
““2 ?
(
““? @
$str
““@ Q
)
““Q R
;
““R S
entity
‘‘ 
.
‘‘ 
HasOne
‘‘ 
(
‘‘ 
d
‘‘ 
=>
‘‘ 
d
‘‘  
.
‘‘  !
ResultsModel1b
‘‘! /
)
‘‘/ 0
.
‘‘0 1
WithMany
‘‘1 9
(
‘‘9 :
p
‘‘: ;
=>
‘‘< >
p
‘‘? @
.
‘‘@ A"
ResultsModel1bLevels
‘‘A U
)
‘‘U V
.
’’ 
HasForeignKey
’’ 
(
’’ 
d
’’  
=>
’’! #
d
’’$ %
.
’’% &
ResultsModel1bId
’’& 6
)
’’6 7
.
÷÷ 
OnDelete
÷÷ 
(
÷÷ 
DeleteBehavior
÷÷ (
.
÷÷( )
ClientSetNull
÷÷) 6
)
÷÷6 7
.
◊◊ 
HasConstraintName
◊◊ "
(
◊◊" #
$str
◊◊# K
)
◊◊K L
;
◊◊L M
}
ÿÿ 	
)
ÿÿ	 

;
ÿÿ
 
modelBuilder
⁄⁄ 
.
⁄⁄ 
Entity
⁄⁄ 
<
⁄⁄ 
ResultsModel2
⁄⁄ )
>
⁄⁄) *
(
⁄⁄* +
entity
⁄⁄+ 1
=>
⁄⁄2 4
{
€€ 	
entity
‹‹ 
.
‹‹ 
HasKey
‹‹ 
(
‹‹ 
e
‹‹ 
=>
‹‹ 
e
‹‹  
.
‹‹  !
Id
‹‹! #
)
‹‹# $
.
‹‹$ %
HasName
‹‹% ,
(
‹‹, -
$str
‹‹- W
)
‹‹W X
;
‹‹X Y
entity
ﬁﬁ 
.
ﬁﬁ 
ToTable
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ +
,
ﬁﬁ+ ,
$str
ﬁﬁ- =
)
ﬁﬁ= >
;
ﬁﬁ> ?
entity
‡‡ 
.
‡‡ 
Property
‡‡ 
(
‡‡ 
e
‡‡ 
=>
‡‡  
e
‡‡! "
.
‡‡" #
Id
‡‡# %
)
‡‡% &
.
··  
HasDefaultValueSql
·· #
(
··# $
$str
··$ O
)
··O P
.
‚‚ 
HasColumnName
‚‚ 
(
‚‚ 
$str
‚‚ #
)
‚‚# $
;
‚‚$ %
entity
„„ 
.
„„ 
Property
„„ 
(
„„ 
e
„„ 
=>
„„  
e
„„! "
.
„„" #
AffiliateId
„„# .
)
„„. /
.
„„/ 0
HasColumnName
„„0 =
(
„„= >
$str
„„> L
)
„„L M
;
„„M N
entity
‰‰ 
.
‰‰ 
Property
‰‰ 
(
‰‰ 
e
‰‰ 
=>
‰‰  
e
‰‰! "
.
‰‰" #
AffiliateName
‰‰# 0
)
‰‰0 1
.
‰‰1 2
HasColumnName
‰‰2 ?
(
‰‰? @
$str
‰‰@ P
)
‰‰P Q
;
‰‰Q R
entity
ÂÂ 
.
ÂÂ 
Property
ÂÂ 
(
ÂÂ 
e
ÂÂ 
=>
ÂÂ  
e
ÂÂ! "
.
ÂÂ" #

BaseAmount
ÂÂ# -
)
ÂÂ- .
.
ÂÂ. /
HasColumnName
ÂÂ/ <
(
ÂÂ< =
$str
ÂÂ= J
)
ÂÂJ K
;
ÂÂK L
entity
ÊÊ 
.
ÊÊ 
Property
ÊÊ 
(
ÊÊ 
e
ÊÊ 
=>
ÊÊ  
e
ÊÊ! "
.
ÊÊ" #
BasePack
ÊÊ# +
)
ÊÊ+ ,
.
ÊÊ, -
HasColumnName
ÊÊ- :
(
ÊÊ: ;
$str
ÊÊ; F
)
ÊÊF G
;
ÊÊG H
entity
ÁÁ 
.
ÁÁ 
Property
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ  
e
ÁÁ! "
.
ÁÁ" #
CasePool
ÁÁ# +
)
ÁÁ+ ,
.
ÁÁ, -
HasColumnName
ÁÁ- :
(
ÁÁ: ;
$str
ÁÁ; F
)
ÁÁF G
;
ÁÁG H
entity
ËË 
.
ËË 
Property
ËË 
(
ËË 
e
ËË 
=>
ËË  
e
ËË! "
.
ËË" #
CompanyAmount
ËË# 0
)
ËË0 1
.
ËË1 2
HasColumnName
ËË2 ?
(
ËË? @
$str
ËË@ P
)
ËËP Q
;
ËËQ R
entity
ÈÈ 
.
ÈÈ 
Property
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ  
e
ÈÈ! "
.
ÈÈ" #
CompanyPercentage
ÈÈ# 4
)
ÈÈ4 5
.
ÈÈ5 6
HasColumnName
ÈÈ6 C
(
ÈÈC D
$str
ÈÈD X
)
ÈÈX Y
;
ÈÈY Z
entity
ÍÍ 
.
ÍÍ 
Property
ÍÍ 
(
ÍÍ 
e
ÍÍ 
=>
ÍÍ  
e
ÍÍ! "
.
ÍÍ" #
CompletedAt
ÍÍ# .
)
ÍÍ. /
.
ÍÍ/ 0
HasColumnName
ÍÍ0 =
(
ÍÍ= >
$str
ÍÍ> L
)
ÍÍL M
;
ÍÍM N
entity
ÎÎ 
.
ÎÎ 
Property
ÎÎ 
(
ÎÎ 
e
ÎÎ 
=>
ÎÎ  
e
ÎÎ! "
.
ÎÎ" #
DailyPercentage
ÎÎ# 2
)
ÎÎ2 3
.
ÎÎ3 4
HasColumnName
ÎÎ4 A
(
ÎÎA B
$str
ÎÎB T
)
ÎÎT U
;
ÎÎU V
entity
ÏÏ 
.
ÏÏ 
Property
ÏÏ 
(
ÏÏ 
e
ÏÏ 
=>
ÏÏ  
e
ÏÏ! "
.
ÏÏ" #

DaysAmount
ÏÏ# -
)
ÏÏ- .
.
ÏÏ. /
HasColumnName
ÏÏ/ <
(
ÏÏ< =
$str
ÏÏ= J
)
ÏÏJ K
;
ÏÏK L
entity
ÌÌ 
.
ÌÌ 
Property
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
DeductionAmount
ÌÌ# 2
)
ÌÌ2 3
.
ÌÌ3 4
HasColumnName
ÌÌ4 A
(
ÌÌA B
$str
ÌÌB T
)
ÌÌT U
;
ÌÌU V
entity
ÓÓ 
.
ÓÓ 
Property
ÓÓ 
(
ÓÓ 
e
ÓÓ 
=>
ÓÓ  
e
ÓÓ! "
.
ÓÓ" #$
EcopoolConfigurationId
ÓÓ# 9
)
ÓÓ9 :
.
ÓÓ: ;
HasColumnName
ÓÓ; H
(
ÓÓH I
$str
ÓÓI c
)
ÓÓc d
;
ÓÓd e
entity
ÔÔ 
.
ÔÔ 
Property
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ  
e
ÔÔ! "
.
ÔÔ" #
LastDayDate
ÔÔ# .
)
ÔÔ. /
.
ÔÔ/ 0
HasColumnName
ÔÔ0 =
(
ÔÔ= >
$str
ÔÔ> M
)
ÔÔM N
;
ÔÔN O
entity
 
.
 
Property
 
(
 
e
 
=>
  
e
! "
.
" #
PaymentAmount
# 0
)
0 1
.
1 2
HasColumnName
2 ?
(
? @
$str
@ P
)
P Q
;
Q R
entity
ÒÒ 
.
ÒÒ 
Property
ÒÒ 
(
ÒÒ 
e
ÒÒ 
=>
ÒÒ  
e
ÒÒ! "
.
ÒÒ" #
PaymentDate
ÒÒ# .
)
ÒÒ. /
.
ÒÒ/ 0
HasColumnName
ÒÒ0 =
(
ÒÒ= >
$str
ÒÒ> L
)
ÒÒL M
;
ÒÒM N
entity
ÚÚ 
.
ÚÚ 
Property
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ  
e
ÚÚ! "
.
ÚÚ" #

PeriodPool
ÚÚ# -
)
ÚÚ- .
.
ÚÚ. /
HasColumnName
ÚÚ/ <
(
ÚÚ< =
$str
ÚÚ= J
)
ÚÚJ K
;
ÚÚK L
entity
ÛÛ 
.
ÛÛ 
Property
ÛÛ 
(
ÛÛ 
e
ÛÛ 
=>
ÛÛ  
e
ÛÛ! "
.
ÛÛ" #
Points
ÛÛ# )
)
ÛÛ) *
.
ÛÛ* +
HasColumnName
ÛÛ+ 8
(
ÛÛ8 9
$str
ÛÛ9 A
)
ÛÛA B
;
ÛÛB C
entity
ÙÙ 
.
ÙÙ 
Property
ÙÙ 
(
ÙÙ 
e
ÙÙ 
=>
ÙÙ  
e
ÙÙ! "
.
ÙÙ" #
ProductExternalId
ÙÙ# 4
)
ÙÙ4 5
.
ÙÙ5 6
HasColumnName
ÙÙ6 C
(
ÙÙC D
$str
ÙÙD Y
)
ÙÙY Z
;
ÙÙZ [
entity
ıı 
.
ıı 
Property
ıı 
(
ıı 
e
ıı 
=>
ıı  
e
ıı! "
.
ıı" #
ProductName
ıı# .
)
ıı. /
.
ıı/ 0
HasColumnName
ıı0 =
(
ıı= >
$str
ıı> L
)
ııL M
;
ııM N
entity
ˆˆ 
.
ˆˆ 
Property
ˆˆ 
(
ˆˆ 
e
ˆˆ 
=>
ˆˆ  
e
ˆˆ! "
.
ˆˆ" #%
ProfitDistributedLevels
ˆˆ# :
)
ˆˆ: ;
.
ˆˆ; <
HasColumnName
ˆˆ< I
(
ˆˆI J
$str
ˆˆJ e
)
ˆˆe f
;
ˆˆf g
entity
˜˜ 
.
˜˜ 
Property
˜˜ 
(
˜˜ 
e
˜˜ 
=>
˜˜  
e
˜˜! "
.
˜˜" #
TotalPercentage
˜˜# 2
)
˜˜2 3
.
˜˜3 4
HasColumnName
˜˜4 A
(
˜˜A B
$str
˜˜B T
)
˜˜T U
;
˜˜U V
entity
¯¯ 
.
¯¯ 
Property
¯¯ 
(
¯¯ 
e
¯¯ 
=>
¯¯  
e
¯¯! "
.
¯¯" #
UserCreatedAt
¯¯# 0
)
¯¯0 1
.
¯¯1 2
HasColumnName
¯¯2 ?
(
¯¯? @
$str
¯¯@ Q
)
¯¯Q R
;
¯¯R S
entity
˙˙ 
.
˙˙ 
HasOne
˙˙ 
(
˙˙ 
d
˙˙ 
=>
˙˙ 
d
˙˙  
.
˙˙  ! 
ModelConfiguration
˙˙! 3
)
˙˙3 4
.
˙˙4 5
WithMany
˙˙5 =
(
˙˙= >
p
˙˙> ?
=>
˙˙@ B
p
˙˙C D
.
˙˙D E
ResultsModel2s
˙˙E S
)
˙˙S T
.
˚˚ 
HasForeignKey
˚˚ 
(
˚˚ 
d
˚˚  
=>
˚˚! #
d
˚˚$ %
.
˚˚% &$
EcopoolConfigurationId
˚˚& <
)
˚˚< =
.
¸¸ 
OnDelete
¸¸ 
(
¸¸ 
DeleteBehavior
¸¸ (
.
¸¸( )
ClientSetNull
¸¸) 6
)
¸¸6 7
.
˝˝ 
HasConstraintName
˝˝ "
(
˝˝" #
$str
˝˝# J
)
˝˝J K
;
˝˝K L
}
˛˛ 	
)
˛˛	 

;
˛˛
 
modelBuilder
ÄÄ 
.
ÄÄ 
Entity
ÄÄ 
<
ÄÄ  
ResultsModel2Level
ÄÄ .
>
ÄÄ. /
(
ÄÄ/ 0
entity
ÄÄ0 6
=>
ÄÄ7 9
{
ÅÅ 	
entity
ÇÇ 
.
ÇÇ 
HasKey
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ 
e
ÇÇ  
.
ÇÇ  !
Id
ÇÇ! #
)
ÇÇ# $
.
ÇÇ$ %
HasName
ÇÇ% ,
(
ÇÇ, -
$str
ÇÇ- W
)
ÇÇW X
;
ÇÇX Y
entity
ÑÑ 
.
ÑÑ 
ToTable
ÑÑ 
(
ÑÑ 
$str
ÑÑ 2
,
ÑÑ2 3
$str
ÑÑ4 D
)
ÑÑD E
;
ÑÑE F
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #
Id
ÜÜ# %
)
ÜÜ% &
.
áá  
HasDefaultValueSql
áá #
(
áá# $
$str
áá$ U
)
ááU V
.
àà 
HasColumnName
àà 
(
àà 
$str
àà #
)
àà# $
;
àà$ %
entity
ââ 
.
ââ 
Property
ââ 
(
ââ 
e
ââ 
=>
ââ  
e
ââ! "
.
ââ" #
AffiliateId
ââ# .
)
ââ. /
.
ââ/ 0
HasColumnName
ââ0 =
(
ââ= >
$str
ââ> L
)
ââL M
;
ââM N
entity
ää 
.
ää 
Property
ää 
(
ää 
e
ää 
=>
ää  
e
ää! "
.
ää" #
AffiliateName
ää# 0
)
ää0 1
.
ää1 2
HasColumnName
ää2 ?
(
ää? @
$str
ää@ P
)
ääP Q
;
ääQ R
entity
ãã 
.
ãã 
Property
ãã 
(
ãã 
e
ãã 
=>
ãã  
e
ãã! "
.
ãã" #

BinarySide
ãã# -
)
ãã- .
.
ãã. /
HasColumnName
ãã/ <
(
ãã< =
$str
ãã= J
)
ããJ K
;
ããK L
entity
åå 
.
åå 
Property
åå 
(
åå 
e
åå 
=>
åå  
e
åå! "
.
åå" #
CommisionAmount
åå# 2
)
åå2 3
.
åå3 4
HasColumnName
åå4 A
(
ååA B
$str
ååB T
)
ååT U
;
ååU V
entity
çç 
.
çç 
Property
çç 
(
çç 
e
çç 
=>
çç  
e
çç! "
.
çç" # 
CompanyAmountLevel
çç# 5
)
çç5 6
.
çç6 7
HasColumnName
çç7 D
(
ççD E
$str
ççE [
)
çç[ \
;
çç\ ]
entity
éé 
.
éé 
Property
éé 
(
éé 
e
éé 
=>
éé  
e
éé! "
.
éé" #$
CompanyPercentageLevel
éé# 9
)
éé9 :
.
éé: ;
HasColumnName
éé; H
(
ééH I
$str
ééI c
)
ééc d
;
ééd e
entity
èè 
.
èè 
Property
èè 
(
èè 
e
èè 
=>
èè  
e
èè! "
.
èè" #
CompletedAt
èè# .
)
èè. /
.
èè/ 0
HasColumnName
èè0 =
(
èè= >
$str
èè> L
)
èèL M
;
èèM N
entity
êê 
.
êê 
Property
êê 
(
êê 
e
êê 
=>
êê  
e
êê! "
.
êê" #
Level
êê# (
)
êê( )
.
êê) *
HasColumnName
êê* 7
(
êê7 8
$str
êê8 ?
)
êê? @
;
êê@ A
entity
ëë 
.
ëë 
Property
ëë 
(
ëë 
e
ëë 
=>
ëë  
e
ëë! "
.
ëë" #
PaymentAmount
ëë# 0
)
ëë0 1
.
ëë1 2
HasColumnName
ëë2 ?
(
ëë? @
$str
ëë@ P
)
ëëP Q
;
ëëQ R
entity
íí 
.
íí 
Property
íí 
(
íí 
e
íí 
=>
íí  
e
íí! "
.
íí" #
PercentageLevel
íí# 2
)
íí2 3
.
íí3 4
HasColumnName
íí4 A
(
ííA B
$str
ííB T
)
ííT U
;
ííU V
entity
ìì 
.
ìì 
Property
ìì 
(
ìì 
e
ìì 
=>
ìì  
e
ìì! "
.
ìì" #
Points
ìì# )
)
ìì) *
.
ìì* +
HasColumnName
ìì+ 8
(
ìì8 9
$str
ìì9 A
)
ììA B
;
ììB C
entity
îî 
.
îî 
Property
îî 
(
îî 
e
îî 
=>
îî  
e
îî! "
.
îî" #
ResultEcopoolId
îî# 2
)
îî2 3
.
îî3 4
HasColumnName
îî4 A
(
îîA B
$str
îîB U
)
îîU V
;
îîV W
entity
ïï 
.
ïï 
Property
ïï 
(
ïï 
e
ïï 
=>
ïï  
e
ïï! "
.
ïï" #
UserCreatedAt
ïï# 0
)
ïï0 1
.
ïï1 2
HasColumnName
ïï2 ?
(
ïï? @
$str
ïï@ Q
)
ïïQ R
;
ïïR S
entity
óó 
.
óó 
HasOne
óó 
(
óó 
d
óó 
=>
óó 
d
óó  
.
óó  !
ResultEcopool
óó! .
)
óó. /
.
óó/ 0
WithMany
óó0 8
(
óó8 9
p
óó9 :
=>
óó; =
p
óó> ?
.
óó? @!
ResultsModel2Levels
óó@ S
)
óóS T
.
òò 
HasForeignKey
òò 
(
òò 
d
òò  
=>
òò! #
d
òò$ %
.
òò% &
ResultEcopoolId
òò& 5
)
òò5 6
.
ôô 
OnDelete
ôô 
(
ôô 
DeleteBehavior
ôô (
.
ôô( )
ClientSetNull
ôô) 6
)
ôô6 7
.
öö 
HasConstraintName
öö "
(
öö" #
$str
öö# J
)
ööJ K
;
ööK L
}
õõ 	
)
õõ	 

;
õõ
 
modelBuilder
ùù 
.
ùù 
Entity
ùù 
<
ùù 
ResultsModel3
ùù )
>
ùù) *
(
ùù* +
entity
ùù+ 1
=>
ùù2 4
{
ûû 	
entity
üü 
.
üü 
HasKey
üü 
(
üü 
e
üü 
=>
üü 
e
üü  
.
üü  !
Id
üü! #
)
üü# $
.
üü$ %
HasName
üü% ,
(
üü, -
$str
üü- W
)
üüW X
;
üüX Y
entity
°° 
.
°° 
ToTable
°° 
(
°° 
$str
°° +
,
°°+ ,
$str
°°- =
)
°°= >
;
°°> ?
entity
££ 
.
££ 
Property
££ 
(
££ 
e
££ 
=>
££  
e
££! "
.
££" #
Id
££# %
)
££% &
.
§§  
HasDefaultValueSql
§§ #
(
§§# $
$str
§§$ O
)
§§O P
.
•• 
HasColumnName
•• 
(
•• 
$str
•• #
)
••# $
;
••$ %
entity
¶¶ 
.
¶¶ 
Property
¶¶ 
(
¶¶ 
e
¶¶ 
=>
¶¶  
e
¶¶! "
.
¶¶" #
AffiliateId
¶¶# .
)
¶¶. /
.
¶¶/ 0
HasColumnName
¶¶0 =
(
¶¶= >
$str
¶¶> L
)
¶¶L M
;
¶¶M N
entity
ßß 
.
ßß 
Property
ßß 
(
ßß 
e
ßß 
=>
ßß  
e
ßß! "
.
ßß" #
AffiliateName
ßß# 0
)
ßß0 1
.
ßß1 2
HasColumnName
ßß2 ?
(
ßß? @
$str
ßß@ P
)
ßßP Q
;
ßßQ R
entity
®® 
.
®® 
Property
®® 
(
®® 
e
®® 
=>
®®  
e
®®! "
.
®®" #

BaseAmount
®®# -
)
®®- .
.
®®. /
HasColumnName
®®/ <
(
®®< =
$str
®®= J
)
®®J K
;
®®K L
entity
©© 
.
©© 
Property
©© 
(
©© 
e
©© 
=>
©©  
e
©©! "
.
©©" #
CompletedAt
©©# .
)
©©. /
.
©©/ 0
HasColumnName
©©0 =
(
©©= >
$str
©©> L
)
©©L M
;
©©M N
entity
™™ 
.
™™ 
Property
™™ 
(
™™ 
e
™™ 
=>
™™  
e
™™! "
.
™™" #
PaymentAmount
™™# 0
)
™™0 1
.
™™1 2
HasColumnName
™™2 ?
(
™™? @
$str
™™@ P
)
™™P Q
;
™™Q R
entity
´´ 
.
´´ 
Property
´´ 
(
´´ 
e
´´ 
=>
´´  
e
´´! "
.
´´" #

PeriodPool
´´# -
)
´´- .
.
´´. /
HasColumnName
´´/ <
(
´´< =
$str
´´= J
)
´´J K
;
´´K L
entity
¨¨ 
.
¨¨ 
Property
¨¨ 
(
¨¨ 
e
¨¨ 
=>
¨¨  
e
¨¨! "
.
¨¨" #
Points
¨¨# )
)
¨¨) *
.
¨¨* +
HasColumnName
¨¨+ 8
(
¨¨8 9
$str
¨¨9 A
)
¨¨A B
;
¨¨B C
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #
ProductExternalId
≠≠# 4
)
≠≠4 5
.
≠≠5 6
HasColumnName
≠≠6 C
(
≠≠C D
$str
≠≠D Y
)
≠≠Y Z
;
≠≠Z [
entity
ÆÆ 
.
ÆÆ 
Property
ÆÆ 
(
ÆÆ 
e
ÆÆ 
=>
ÆÆ  
e
ÆÆ! "
.
ÆÆ" #
ProductName
ÆÆ# .
)
ÆÆ. /
.
ÆÆ/ 0
HasColumnName
ÆÆ0 =
(
ÆÆ= >
$str
ÆÆ> L
)
ÆÆL M
;
ÆÆM N
entity
ØØ 
.
ØØ 
Property
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ  
e
ØØ! "
.
ØØ" #%
ProfitDistributedLevels
ØØ# :
)
ØØ: ;
.
ØØ; <
HasColumnName
ØØ< I
(
ØØI J
$str
ØØJ e
)
ØØe f
;
ØØf g
entity
∞∞ 
.
∞∞ 
Property
∞∞ 
(
∞∞ 
e
∞∞ 
=>
∞∞  
e
∞∞! "
.
∞∞" #
TotalPercentage
∞∞# 2
)
∞∞2 3
.
∞∞3 4
HasColumnName
∞∞4 A
(
∞∞A B
$str
∞∞B T
)
∞∞T U
;
∞∞U V
entity
±± 
.
±± 
Property
±± 
(
±± 
e
±± 
=>
±±  
e
±±! "
.
±±" #
UserCreatedAt
±±# 0
)
±±0 1
.
±±1 2
HasColumnName
±±2 ?
(
±±? @
$str
±±@ Q
)
±±Q R
;
±±R S
}
≤≤ 	
)
≤≤	 

;
≤≤
 
modelBuilder
¥¥ 
.
¥¥ 
Entity
¥¥ 
<
¥¥  
ResultsModel3Level
¥¥ .
>
¥¥. /
(
¥¥/ 0
entity
¥¥0 6
=>
¥¥7 9
{
µµ 	
entity
∂∂ 
.
∂∂ 
HasKey
∂∂ 
(
∂∂ 
e
∂∂ 
=>
∂∂ 
e
∂∂  
.
∂∂  !
Id
∂∂! #
)
∂∂# $
.
∂∂$ %
HasName
∂∂% ,
(
∂∂, -
$str
∂∂- W
)
∂∂W X
;
∂∂X Y
entity
∏∏ 
.
∏∏ 
ToTable
∏∏ 
(
∏∏ 
$str
∏∏ 2
,
∏∏2 3
$str
∏∏4 D
)
∏∏D E
;
∏∏E F
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫  
e
∫∫! "
.
∫∫" #
Id
∫∫# %
)
∫∫% &
.
ªª  
HasDefaultValueSql
ªª #
(
ªª# $
$str
ªª$ U
)
ªªU V
.
ºº 
HasColumnName
ºº 
(
ºº 
$str
ºº #
)
ºº# $
;
ºº$ %
entity
ΩΩ 
.
ΩΩ 
Property
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ  
e
ΩΩ! "
.
ΩΩ" #
AffiliateId
ΩΩ# .
)
ΩΩ. /
.
ΩΩ/ 0
HasColumnName
ΩΩ0 =
(
ΩΩ= >
$str
ΩΩ> L
)
ΩΩL M
;
ΩΩM N
entity
ææ 
.
ææ 
Property
ææ 
(
ææ 
e
ææ 
=>
ææ  
e
ææ! "
.
ææ" #
AffiliateName
ææ# 0
)
ææ0 1
.
ææ1 2
HasColumnName
ææ2 ?
(
ææ? @
$str
ææ@ P
)
ææP Q
;
ææQ R
entity
øø 
.
øø 
Property
øø 
(
øø 
e
øø 
=>
øø  
e
øø! "
.
øø" #

BinarySide
øø# -
)
øø- .
.
øø. /
HasColumnName
øø/ <
(
øø< =
$str
øø= J
)
øøJ K
;
øøK L
entity
¿¿ 
.
¿¿ 
Property
¿¿ 
(
¿¿ 
e
¿¿ 
=>
¿¿  
e
¿¿! "
.
¿¿" #
CompletedAt
¿¿# .
)
¿¿. /
.
¿¿/ 0
HasColumnName
¿¿0 =
(
¿¿= >
$str
¿¿> L
)
¿¿L M
;
¿¿M N
entity
¡¡ 
.
¡¡ 
Property
¡¡ 
(
¡¡ 
e
¡¡ 
=>
¡¡  
e
¡¡! "
.
¡¡" #
Level
¡¡# (
)
¡¡( )
.
¡¡) *
HasColumnName
¡¡* 7
(
¡¡7 8
$str
¡¡8 ?
)
¡¡? @
;
¡¡@ A
entity
¬¬ 
.
¬¬ 
Property
¬¬ 
(
¬¬ 
e
¬¬ 
=>
¬¬  
e
¬¬! "
.
¬¬" #
PaymentAmount
¬¬# 0
)
¬¬0 1
.
¬¬1 2
HasColumnName
¬¬2 ?
(
¬¬? @
$str
¬¬@ P
)
¬¬P Q
;
¬¬Q R
entity
√√ 
.
√√ 
Property
√√ 
(
√√ 
e
√√ 
=>
√√  
e
√√! "
.
√√" #
PercentageLevel
√√# 2
)
√√2 3
.
√√3 4
HasColumnName
√√4 A
(
√√A B
$str
√√B T
)
√√T U
;
√√U V
entity
ƒƒ 
.
ƒƒ 
Property
ƒƒ 
(
ƒƒ 
e
ƒƒ 
=>
ƒƒ  
e
ƒƒ! "
.
ƒƒ" #
Points
ƒƒ# )
)
ƒƒ) *
.
ƒƒ* +
HasColumnName
ƒƒ+ 8
(
ƒƒ8 9
$str
ƒƒ9 A
)
ƒƒA B
;
ƒƒB C
entity
≈≈ 
.
≈≈ 
Property
≈≈ 
(
≈≈ 
e
≈≈ 
=>
≈≈  
e
≈≈! "
.
≈≈" #
ResultsModel3Id
≈≈# 2
)
≈≈2 3
.
≈≈3 4
HasColumnName
≈≈4 A
(
≈≈A B
$str
≈≈B U
)
≈≈U V
;
≈≈V W
entity
∆∆ 
.
∆∆ 
Property
∆∆ 
(
∆∆ 
e
∆∆ 
=>
∆∆  
e
∆∆! "
.
∆∆" #
UserCreatedAt
∆∆# 0
)
∆∆0 1
.
∆∆1 2
HasColumnName
∆∆2 ?
(
∆∆? @
$str
∆∆@ Q
)
∆∆Q R
;
∆∆R S
entity
»» 
.
»» 
HasOne
»» 
(
»» 
d
»» 
=>
»» 
d
»»  
.
»»  !
ResultsModel3
»»! .
)
»». /
.
»»/ 0
WithMany
»»0 8
(
»»8 9
p
»»9 :
=>
»»; =
p
»»> ?
.
»»? @!
ResultsModel3Levels
»»@ S
)
»»S T
.
…… 
HasForeignKey
…… 
(
…… 
d
……  
=>
……! #
d
……$ %
.
……% &
ResultsModel3Id
……& 5
)
……5 6
.
   
OnDelete
   
(
   
DeleteBehavior
   (
.
  ( )
ClientSetNull
  ) 6
)
  6 7
.
ÀÀ 
HasConstraintName
ÀÀ "
(
ÀÀ" #
$str
ÀÀ# M
)
ÀÀM N
;
ÀÀN O
}
ÃÃ 	
)
ÃÃ	 

;
ÃÃ
 
modelBuilder
ŒŒ 
.
ŒŒ 
Entity
ŒŒ 
<
ŒŒ 

Sysdiagram
ŒŒ &
>
ŒŒ& '
(
ŒŒ' (
entity
ŒŒ( .
=>
ŒŒ/ 1
{
œœ 	
entity
–– 
.
–– 
HasKey
–– 
(
–– 
e
–– 
=>
–– 
e
––  
.
––  !
	DiagramId
––! *
)
––* +
.
––+ ,
HasName
––, 3
(
––3 4
$str
––4 ^
)
––^ _
;
––_ `
entity
““ 
.
““ 
ToTable
““ 
(
““ 
$str
““ (
,
““( )
$str
““* :
)
““: ;
;
““; <
entity
‘‘ 
.
‘‘ 
HasIndex
‘‘ 
(
‘‘ 
e
‘‘ 
=>
‘‘  
new
‘‘! $
{
‘‘% &
e
‘‘' (
.
‘‘( )
PrincipalId
‘‘) 4
,
‘‘4 5
e
‘‘6 7
.
‘‘7 8
Name
‘‘8 <
}
‘‘= >
,
‘‘> ?
$str
‘‘@ ]
)
‘‘] ^
.
‘‘^ _
IsUnique
‘‘_ g
(
‘‘g h
)
‘‘h i
;
‘‘i j
entity
÷÷ 
.
÷÷ 
Property
÷÷ 
(
÷÷ 
e
÷÷ 
=>
÷÷  
e
÷÷! "
.
÷÷" #
	DiagramId
÷÷# ,
)
÷÷, -
.
◊◊  
HasDefaultValueSql
◊◊ #
(
◊◊# $
$str
◊◊$ U
)
◊◊U V
.
ÿÿ 
HasColumnName
ÿÿ 
(
ÿÿ 
$str
ÿÿ +
)
ÿÿ+ ,
;
ÿÿ, -
entity
ŸŸ 
.
ŸŸ 
Property
ŸŸ 
(
ŸŸ 
e
ŸŸ 
=>
ŸŸ  
e
ŸŸ! "
.
ŸŸ" #

Definition
ŸŸ# -
)
ŸŸ- .
.
ŸŸ. /
HasColumnName
ŸŸ/ <
(
ŸŸ< =
$str
ŸŸ= I
)
ŸŸI J
;
ŸŸJ K
entity
⁄⁄ 
.
⁄⁄ 
Property
⁄⁄ 
(
⁄⁄ 
e
⁄⁄ 
=>
⁄⁄  
e
⁄⁄! "
.
⁄⁄" #
Name
⁄⁄# '
)
⁄⁄' (
.
⁄⁄( )
HasColumnName
⁄⁄) 6
(
⁄⁄6 7
$str
⁄⁄7 =
)
⁄⁄= >
;
⁄⁄> ?
entity
€€ 
.
€€ 
Property
€€ 
(
€€ 
e
€€ 
=>
€€  
e
€€! "
.
€€" #
PrincipalId
€€# .
)
€€. /
.
€€/ 0
HasColumnName
€€0 =
(
€€= >
$str
€€> L
)
€€L M
;
€€M N
entity
‹‹ 
.
‹‹ 
Property
‹‹ 
(
‹‹ 
e
‹‹ 
=>
‹‹  
e
‹‹! "
.
‹‹" #
Version
‹‹# *
)
‹‹* +
.
‹‹+ ,
HasColumnName
‹‹, 9
(
‹‹9 :
$str
‹‹: C
)
‹‹C D
;
‹‹D E
}
›› 	
)
››	 

;
››
 
modelBuilder
ﬂﬂ 
.
ﬂﬂ 
Entity
ﬂﬂ 
<
ﬂﬂ 
TransactionType
ﬂﬂ +
>
ﬂﬂ+ ,
(
ﬂﬂ, -
entity
ﬂﬂ- 3
=>
ﬂﬂ4 6
{
‡‡ 	
entity
·· 
.
·· 
HasKey
·· 
(
·· 
e
·· 
=>
·· 
e
··  
.
··  !
TransactionTypeId
··! 2
)
··2 3
.
··3 4
HasName
··4 ;
(
··; <
$str
··< f
)
··f g
;
··g h
entity
„„ 
.
„„ 
ToTable
„„ 
(
„„ 
$str
„„ .
,
„„. /
$str
„„0 @
)
„„@ A
;
„„A B
entity
ÂÂ 
.
ÂÂ 
HasIndex
ÂÂ 
(
ÂÂ 
e
ÂÂ 
=>
ÂÂ  
e
ÂÂ! "
.
ÂÂ" #
TypeName
ÂÂ# +
,
ÂÂ+ ,
$str
ÂÂ- W
)
ÂÂW X
.
ÂÂX Y
IsUnique
ÂÂY a
(
ÂÂa b
)
ÂÂb c
;
ÂÂc d
entity
ÁÁ 
.
ÁÁ 
Property
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ  
e
ÁÁ! "
.
ÁÁ" #
TransactionTypeId
ÁÁ# 4
)
ÁÁ4 5
.
ËË !
ValueGeneratedNever
ËË $
(
ËË$ %
)
ËË% &
.
ÈÈ 
HasColumnName
ÈÈ 
(
ÈÈ 
$str
ÈÈ 4
)
ÈÈ4 5
;
ÈÈ5 6
entity
ÍÍ 
.
ÍÍ 
Property
ÍÍ 
(
ÍÍ 
e
ÍÍ 
=>
ÍÍ  
e
ÍÍ! "
.
ÍÍ" #
TypeName
ÍÍ# +
)
ÍÍ+ ,
.
ÍÍ, -
HasColumnName
ÍÍ- :
(
ÍÍ: ;
$str
ÍÍ; F
)
ÍÍF G
;
ÍÍG H
}
ÎÎ 	
)
ÎÎ	 

;
ÎÎ
 
modelBuilder
ÌÌ 
.
ÌÌ 
Entity
ÌÌ 
<
ÌÌ 
VolumePurchase
ÌÌ *
>
ÌÌ* +
(
ÌÌ+ ,
entity
ÌÌ, 2
=>
ÌÌ3 5
{
ÓÓ 	
entity
ÔÔ 
.
ÔÔ 
HasKey
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ 
e
ÔÔ  
.
ÔÔ  !
Id
ÔÔ! #
)
ÔÔ# $
.
ÔÔ$ %
HasName
ÔÔ% ,
(
ÔÔ, -
$str
ÔÔ- W
)
ÔÔW X
;
ÔÔX Y
entity
ÒÒ 
.
ÒÒ 
ToTable
ÒÒ 
(
ÒÒ 
$str
ÒÒ -
,
ÒÒ- .
$str
ÒÒ/ ?
)
ÒÒ? @
;
ÒÒ@ A
entity
ÛÛ 
.
ÛÛ 
Property
ÛÛ 
(
ÛÛ 
e
ÛÛ 
=>
ÛÛ  
e
ÛÛ! "
.
ÛÛ" #
Id
ÛÛ# %
)
ÛÛ% &
.
ÙÙ  
HasDefaultValueSql
ÙÙ #
(
ÙÙ# $
$str
ÙÙ$ Q
)
ÙÙQ R
.
ıı 
HasColumnName
ıı 
(
ıı 
$str
ıı #
)
ıı# $
;
ıı$ %
entity
ˆˆ 
.
ˆˆ 
Property
ˆˆ 
(
ˆˆ 
e
ˆˆ 
=>
ˆˆ  
e
ˆˆ! "
.
ˆˆ" #
AffiliateId
ˆˆ# .
)
ˆˆ. /
.
ˆˆ/ 0
HasColumnName
ˆˆ0 =
(
ˆˆ= >
$str
ˆˆ> L
)
ˆˆL M
;
ˆˆM N
entity
˜˜ 
.
˜˜ 
Property
˜˜ 
(
˜˜ 
e
˜˜ 
=>
˜˜  
e
˜˜! "
.
˜˜" # 
AffiliateIdGeneric
˜˜# 5
)
˜˜5 6
.
˜˜6 7
HasColumnName
˜˜7 D
(
˜˜D E
$str
˜˜E [
)
˜˜[ \
;
˜˜\ ]
entity
¯¯ 
.
¯¯ 
Property
¯¯ 
(
¯¯ 
e
¯¯ 
=>
¯¯  
e
¯¯! "
.
¯¯" #
Compression
¯¯# .
)
¯¯. /
.
˘˘  
HasDefaultValueSql
˘˘ #
(
˘˘# $
$str
˘˘$ 3
)
˘˘3 4
.
˙˙ 
HasColumnName
˙˙ 
(
˙˙ 
$str
˙˙ ,
)
˙˙, -
;
˙˙- .
entity
˚˚ 
.
˚˚ 
Property
˚˚ 
(
˚˚ 
e
˚˚ 
=>
˚˚  
e
˚˚! "
.
˚˚" #
Concept
˚˚# *
)
˚˚* +
.
˚˚+ ,
HasColumnName
˚˚, 9
(
˚˚9 :
$str
˚˚: C
)
˚˚C D
;
˚˚D E
entity
¸¸ 
.
¸¸ 
Property
¸¸ 
(
¸¸ 
e
¸¸ 
=>
¸¸  
e
¸¸! "
.
¸¸" #
	CreatedAt
¸¸# ,
)
¸¸, -
.
¸¸- .
HasColumnName
¸¸. ;
(
¸¸; <
$str
¸¸< H
)
¸¸H I
;
¸¸I J
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #
CreditD
˝˝# *
)
˝˝* +
.
˛˛  
HasDefaultValueSql
˛˛ #
(
˛˛# $
$str
˛˛$ *
)
˛˛* +
.
ˇˇ 
HasColumnName
ˇˇ 
(
ˇˇ 
$str
ˇˇ )
)
ˇˇ) *
;
ˇˇ* +
entity
ÄÄ 
.
ÄÄ 
Property
ÄÄ 
(
ÄÄ 
e
ÄÄ 
=>
ÄÄ  
e
ÄÄ! "
.
ÄÄ" #
CreditI
ÄÄ# *
)
ÄÄ* +
.
ÅÅ  
HasDefaultValueSql
ÅÅ #
(
ÅÅ# $
$str
ÅÅ$ *
)
ÅÅ* +
.
ÇÇ 
HasColumnName
ÇÇ 
(
ÇÇ 
$str
ÇÇ )
)
ÇÇ) *
;
ÇÇ* +
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #
DebitD
ÉÉ# )
)
ÉÉ) *
.
ÑÑ  
HasDefaultValueSql
ÑÑ #
(
ÑÑ# $
$str
ÑÑ$ *
)
ÑÑ* +
.
ÖÖ 
HasColumnName
ÖÖ 
(
ÖÖ 
$str
ÖÖ (
)
ÖÖ( )
;
ÖÖ) *
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #
DebitI
ÜÜ# )
)
ÜÜ) *
.
áá  
HasDefaultValueSql
áá #
(
áá# $
$str
áá$ *
)
áá* +
.
àà 
HasColumnName
àà 
(
àà 
$str
àà (
)
àà( )
;
àà) *
entity
ââ 
.
ââ 
Property
ââ 
(
ââ 
e
ââ 
=>
ââ  
e
ââ! "
.
ââ" #
	DeletedAt
ââ# ,
)
ââ, -
.
ââ- .
HasColumnName
ââ. ;
(
ââ; <
$str
ââ< H
)
ââH I
;
ââI J
entity
ää 
.
ää 
Property
ää 
(
ää 
e
ää 
=>
ää  
e
ää! "
.
ää" #
	InvoiceId
ää# ,
)
ää, -
.
ää- .
HasColumnName
ää. ;
(
ää; <
$str
ää< H
)
ääH I
;
ääI J
entity
ãã 
.
ãã 
Property
ãã 
(
ãã 
e
ãã 
=>
ãã  
e
ãã! "
.
ãã" #
	UpdatedAt
ãã# ,
)
ãã, -
.
ãã- .
HasColumnName
ãã. ;
(
ãã; <
$str
ãã< H
)
ããH I
;
ããI J
entity
çç 
.
çç 
HasQueryFilter
çç !
(
çç! "
e
çç" #
=>
çç$ &
!
çç' (
e
çç( )
.
çç) *
	DeletedAt
çç* 3
.
çç3 4
HasValue
çç4 <
)
çç< =
;
çç= >
}
éé 	
)
éé	 

;
éé
 
modelBuilder
êê 
.
êê 
Entity
êê 
<
êê 
Wallet
êê "
>
êê" #
(
êê# $
entity
êê$ *
=>
êê+ -
{
ëë 	
entity
íí 
.
íí 
HasKey
íí 
(
íí 
e
íí 
=>
íí 
e
íí  
.
íí  !
Id
íí! #
)
íí# $
.
íí$ %
HasName
íí% ,
(
íí, -
$str
íí- C
)
ííC D
;
ííD E
entity
îî 
.
îî 
ToTable
îî 
(
îî 
$str
îî $
,
îî$ %
$str
îî& 6
)
îî6 7
;
îî7 8
entity
ññ 
.
ññ 
Property
ññ 
(
ññ 
e
ññ 
=>
ññ  
e
ññ! "
.
ññ" #
Id
ññ# %
)
ññ% &
.
óó  
HasDefaultValueSql
óó #
(
óó# $
$str
óó$ I
)
óóI J
.
òò 
HasColumnName
òò 
(
òò 
$str
òò #
)
òò# $
;
òò$ %
entity
ôô 
.
ôô 
Property
ôô 
(
ôô 
e
ôô 
=>
ôô  
e
ôô! "
.
ôô" #
AdminUserName
ôô# 0
)
ôô0 1
.
ôô1 2
HasColumnName
ôô2 ?
(
ôô? @
$str
ôô@ Q
)
ôôQ R
;
ôôR S
entity
öö 
.
öö 
Property
öö 
(
öö 
e
öö 
=>
öö  
e
öö! "
.
öö" #
AffiliateId
öö# .
)
öö. /
.
öö/ 0
HasColumnName
öö0 =
(
öö= >
$str
öö> L
)
ööL M
;
ööM N
entity
õõ 
.
õõ 
Property
õõ 
(
õõ 
e
õõ 
=>
õõ  
e
õõ! "
.
õõ" #
AffiliateUserName
õõ# 4
)
õõ4 5
.
õõ5 6
HasColumnName
õõ6 C
(
õõC D
$str
õõD Y
)
õõY Z
;
õõZ [
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
BrandId
úú# *
)
úú* +
.
úú+ ,
HasColumnName
úú, 9
(
úú9 :
$str
úú: D
)
úúD E
;
úúE F
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #
Compression
ùù# .
)
ùù. /
.
ûû  
HasDefaultValueSql
ûû #
(
ûû# $
$str
ûû$ +
)
ûû+ ,
.
üü 
HasColumnName
üü 
(
üü 
$str
üü ,
)
üü, -
;
üü- .
entity
†† 
.
†† 
Property
†† 
(
†† 
e
†† 
=>
††  
e
††! "
.
††" #
Concept
††# *
)
††* +
.
††+ ,
HasColumnName
††, 9
(
††9 :
$str
††: C
)
††C D
;
††D E
entity
°° 
.
°° 
Property
°° 
(
°° 
e
°° 
=>
°°  
e
°°! "
.
°°" #
ConceptType
°°# .
)
°°. /
.
°°/ 0
HasColumnName
°°0 =
(
°°= >
$str
°°> L
)
°°L M
;
°°M N
entity
¢¢ 
.
¢¢ 
Property
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢  
e
¢¢! "
.
¢¢" #
	CreatedAt
¢¢# ,
)
¢¢, -
.
¢¢- .
HasColumnName
¢¢. ;
(
¢¢; <
$str
¢¢< H
)
¢¢H I
;
¢¢I J
entity
££ 
.
££ 
Property
££ 
(
££ 
e
££ 
=>
££  
e
££! "
.
££" #
Credit
££# )
)
££) *
.
§§  
HasDefaultValueSql
§§ #
(
§§# $
$str
§§$ )
)
§§) *
.
•• 
HasColumnName
•• 
(
•• 
$str
•• '
)
••' (
;
••( )
entity
¶¶ 
.
¶¶ 
Property
¶¶ 
(
¶¶ 
e
¶¶ 
=>
¶¶  
e
¶¶! "
.
¶¶" #
Date
¶¶# '
)
¶¶' (
.
¶¶( )
HasColumnName
¶¶) 6
(
¶¶6 7
$str
¶¶7 =
)
¶¶= >
;
¶¶> ?
entity
ßß 
.
ßß 
Property
ßß 
(
ßß 
e
ßß 
=>
ßß  
e
ßß! "
.
ßß" #
Debit
ßß# (
)
ßß( )
.
®®  
HasDefaultValueSql
®® #
(
®®# $
$str
®®$ )
)
®®) *
.
©© 
HasColumnName
©© 
(
©© 
$str
©© &
)
©©& '
;
©©' (
entity
™™ 
.
™™ 
Property
™™ 
(
™™ 
e
™™ 
=>
™™  
e
™™! "
.
™™" #
Deferred
™™# +
)
™™+ ,
.
™™, -
HasColumnName
™™- :
(
™™: ;
$str
™™; E
)
™™E F
;
™™F G
entity
´´ 
.
´´ 
Property
´´ 
(
´´ 
e
´´ 
=>
´´  
e
´´! "
.
´´" #
	DeletedAt
´´# ,
)
´´, -
.
´´- .
HasColumnName
´´. ;
(
´´; <
$str
´´< H
)
´´H I
;
´´I J
entity
¨¨ 
.
¨¨ 
Property
¨¨ 
(
¨¨ 
e
¨¨ 
=>
¨¨  
e
¨¨! "
.
¨¨" #
Detail
¨¨# )
)
¨¨) *
.
¨¨* +
HasColumnName
¨¨+ 8
(
¨¨8 9
$str
¨¨9 A
)
¨¨A B
;
¨¨B C
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #
Status
≠≠# )
)
≠≠) *
.
ÆÆ  
HasDefaultValueSql
ÆÆ #
(
ÆÆ# $
$str
ÆÆ$ *
)
ÆÆ* +
.
ØØ 
HasColumnName
ØØ 
(
ØØ 
$str
ØØ '
)
ØØ' (
;
ØØ( )
entity
∞∞ 
.
∞∞ 
Property
∞∞ 
(
∞∞ 
e
∞∞ 
=>
∞∞  
e
∞∞! "
.
∞∞" #
Support
∞∞# *
)
∞∞* +
.
∞∞+ ,
HasColumnName
∞∞, 9
(
∞∞9 :
$str
∞∞: C
)
∞∞C D
;
∞∞D E
entity
±± 
.
±± 
Property
±± 
(
±± 
e
±± 
=>
±±  
e
±±! "
.
±±" #
	UpdatedAt
±±# ,
)
±±, -
.
±±- .
HasColumnName
±±. ;
(
±±; <
$str
±±< H
)
±±H I
;
±±I J
entity
≤≤ 
.
≤≤ 
Property
≤≤ 
(
≤≤ 
e
≤≤ 
=>
≤≤  
e
≤≤! "
.
≤≤" #
UserId
≤≤# )
)
≤≤) *
.
≤≤* +
HasColumnName
≤≤+ 8
(
≤≤8 9
$str
≤≤9 B
)
≤≤B C
;
≤≤C D
entity
¥¥ 
.
¥¥ 
HasOne
¥¥ 
(
¥¥ 
d
¥¥ 
=>
¥¥ 
d
¥¥  
.
¥¥  !
Brand
¥¥! &
)
¥¥& '
.
¥¥' (
WithMany
¥¥( 0
(
¥¥0 1
p
¥¥1 2
=>
¥¥3 5
p
¥¥6 7
.
¥¥7 8
Wallets
¥¥8 ?
)
¥¥? @
.
µµ 
HasForeignKey
µµ 
(
µµ 
d
µµ  
=>
µµ! #
d
µµ$ %
.
µµ% &
BrandId
µµ& -
)
µµ- .
.
∂∂ 
HasConstraintName
∂∂ "
(
∂∂" #
$str
∂∂# 5
)
∂∂5 6
;
∂∂6 7
entity
∏∏ 
.
∏∏ 
HasQueryFilter
∏∏ !
(
∏∏! "
e
∏∏" #
=>
∏∏$ &
!
∏∏' (
e
∏∏( )
.
∏∏) *
	DeletedAt
∏∏* 3
.
∏∏3 4
HasValue
∏∏4 <
)
∏∏< =
;
∏∏= >
}
ππ 	
)
ππ	 

;
ππ
 
modelBuilder
ªª 
.
ªª 
Entity
ªª 
<
ªª 
WalletsHistory
ªª *
>
ªª* +
(
ªª+ ,
entity
ªª, 2
=>
ªª3 5
{
ºº 	
entity
ΩΩ 
.
ΩΩ 
HasKey
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ 
e
ΩΩ  
.
ΩΩ  !
Id
ΩΩ! #
)
ΩΩ# $
.
ΩΩ$ %
HasName
ΩΩ% ,
(
ΩΩ, -
$str
ΩΩ- L
)
ΩΩL M
;
ΩΩM N
entity
øø 
.
øø 
ToTable
øø 
(
øø 
$str
øø .
,
øø. /
$str
øø0 @
)
øø@ A
;
øøA B
entity
¡¡ 
.
¡¡ 
Property
¡¡ 
(
¡¡ 
e
¡¡ 
=>
¡¡  
e
¡¡! "
.
¡¡" #
Id
¡¡# %
)
¡¡% &
.
¬¬  
HasDefaultValueSql
¬¬ #
(
¬¬# $
$str
¬¬$ R
)
¬¬R S
.
√√ 
HasColumnName
√√ 
(
√√ 
$str
√√ #
)
√√# $
;
√√$ %
entity
ƒƒ 
.
ƒƒ 
Property
ƒƒ 
(
ƒƒ 
e
ƒƒ 
=>
ƒƒ  
e
ƒƒ! "
.
ƒƒ" #
AffiliateId
ƒƒ# .
)
ƒƒ. /
.
ƒƒ/ 0
HasColumnName
ƒƒ0 =
(
ƒƒ= >
$str
ƒƒ> L
)
ƒƒL M
;
ƒƒM N
entity
≈≈ 
.
≈≈ 
Property
≈≈ 
(
≈≈ 
e
≈≈ 
=>
≈≈  
e
≈≈! "
.
≈≈" #
Compression
≈≈# .
)
≈≈. /
.
≈≈/ 0
HasColumnName
≈≈0 =
(
≈≈= >
$str
≈≈> K
)
≈≈K L
;
≈≈L M
entity
∆∆ 
.
∆∆ 
Property
∆∆ 
(
∆∆ 
e
∆∆ 
=>
∆∆  
e
∆∆! "
.
∆∆" #
Concept
∆∆# *
)
∆∆* +
.
∆∆+ ,
HasColumnName
∆∆, 9
(
∆∆9 :
$str
∆∆: C
)
∆∆C D
;
∆∆D E
entity
«« 
.
«« 
Property
«« 
(
«« 
e
«« 
=>
««  
e
««! "
.
««" #
	CreatedAt
««# ,
)
««, -
.
««- .
HasColumnName
««. ;
(
««; <
$str
««< H
)
««H I
;
««I J
entity
»» 
.
»» 
Property
»» 
(
»» 
e
»» 
=>
»»  
e
»»! "
.
»»" #
Credit
»»# )
)
»») *
.
……  
HasDefaultValueSql
…… #
(
……# $
$str
……$ *
)
……* +
.
   
HasColumnName
   
(
   
$str
   '
)
  ' (
;
  ( )
entity
ÀÀ 
.
ÀÀ 
Property
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  
e
ÀÀ! "
.
ÀÀ" #
Date
ÀÀ# '
)
ÀÀ' (
.
ÀÀ( )
HasColumnName
ÀÀ) 6
(
ÀÀ6 7
$str
ÀÀ7 =
)
ÀÀ= >
;
ÀÀ> ?
entity
ÃÃ 
.
ÃÃ 
Property
ÃÃ 
(
ÃÃ 
e
ÃÃ 
=>
ÃÃ  
e
ÃÃ! "
.
ÃÃ" #
Debit
ÃÃ# (
)
ÃÃ( )
.
ÕÕ  
HasDefaultValueSql
ÕÕ #
(
ÕÕ# $
$str
ÕÕ$ *
)
ÕÕ* +
.
ŒŒ 
HasColumnName
ŒŒ 
(
ŒŒ 
$str
ŒŒ &
)
ŒŒ& '
;
ŒŒ' (
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
Deferred
œœ# +
)
œœ+ ,
.
œœ, -
HasColumnName
œœ- :
(
œœ: ;
$str
œœ; E
)
œœE F
;
œœF G
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #
	DeletedAt
––# ,
)
––, -
.
––- .
HasColumnName
––. ;
(
––; <
$str
––< H
)
––H I
;
––I J
entity
—— 
.
—— 
Property
—— 
(
—— 
e
—— 
=>
——  
e
——! "
.
——" #
Status
——# )
)
——) *
.
——* +
HasColumnName
——+ 8
(
——8 9
$str
——9 A
)
——A B
;
——B C
entity
““ 
.
““ 
Property
““ 
(
““ 
e
““ 
=>
““  
e
““! "
.
““" #
Support
““# *
)
““* +
.
““+ ,
HasColumnName
““, 9
(
““9 :
$str
““: C
)
““C D
;
““D E
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #
	UpdatedAt
””# ,
)
””, -
.
””- .
HasColumnName
””. ;
(
””; <
$str
””< H
)
””H I
;
””I J
entity
‘‘ 
.
‘‘ 
Property
‘‘ 
(
‘‘ 
e
‘‘ 
=>
‘‘  
e
‘‘! "
.
‘‘" #
UserId
‘‘# )
)
‘‘) *
.
‘‘* +
HasColumnName
‘‘+ 8
(
‘‘8 9
$str
‘‘9 B
)
‘‘B C
;
‘‘C D
entity
÷÷ 
.
÷÷ 
HasQueryFilter
÷÷ !
(
÷÷! "
e
÷÷" #
=>
÷÷$ &
!
÷÷' (
e
÷÷( )
.
÷÷) *
	DeletedAt
÷÷* 3
.
÷÷3 4
HasValue
÷÷4 <
)
÷÷< =
;
÷÷= >
}
◊◊ 	
)
◊◊	 

;
◊◊
 
modelBuilder
ŸŸ 
.
ŸŸ 
Entity
ŸŸ 
<
ŸŸ 
WalletsModel1a
ŸŸ *
>
ŸŸ* +
(
ŸŸ+ ,
entity
ŸŸ, 2
=>
ŸŸ3 5
{
⁄⁄ 	
entity
€€ 
.
€€ 
HasKey
€€ 
(
€€ 
e
€€ 
=>
€€ 
e
€€  
.
€€  !
Id
€€! #
)
€€# $
.
€€$ %
HasName
€€% ,
(
€€, -
$str
€€- W
)
€€W X
;
€€X Y
entity
›› 
.
›› 
ToTable
›› 
(
›› 
$str
›› -
,
››- .
$str
››/ ?
)
››? @
;
››@ A
entity
ﬂﬂ 
.
ﬂﬂ 
Property
ﬂﬂ 
(
ﬂﬂ 
e
ﬂﬂ 
=>
ﬂﬂ  
e
ﬂﬂ! "
.
ﬂﬂ" #
Id
ﬂﬂ# %
)
ﬂﬂ% &
.
‡‡  
HasDefaultValueSql
‡‡ #
(
‡‡# $
$str
‡‡$ P
)
‡‡P Q
.
·· 
HasColumnName
·· 
(
·· 
$str
·· #
)
··# $
;
··$ %
entity
‚‚ 
.
‚‚ 
Property
‚‚ 
(
‚‚ 
e
‚‚ 
=>
‚‚  
e
‚‚! "
.
‚‚" #
AdminUserName
‚‚# 0
)
‚‚0 1
.
‚‚1 2
HasColumnName
‚‚2 ?
(
‚‚? @
$str
‚‚@ Q
)
‚‚Q R
;
‚‚R S
entity
„„ 
.
„„ 
Property
„„ 
(
„„ 
e
„„ 
=>
„„  
e
„„! "
.
„„" #
AffiliateId
„„# .
)
„„. /
.
„„/ 0
HasColumnName
„„0 =
(
„„= >
$str
„„> L
)
„„L M
;
„„M N
entity
‰‰ 
.
‰‰ 
Property
‰‰ 
(
‰‰ 
e
‰‰ 
=>
‰‰  
e
‰‰! "
.
‰‰" #
AffiliateUserName
‰‰# 4
)
‰‰4 5
.
‰‰5 6
HasColumnName
‰‰6 C
(
‰‰C D
$str
‰‰D Y
)
‰‰Y Z
;
‰‰Z [
entity
ÂÂ 
.
ÂÂ 
Property
ÂÂ 
(
ÂÂ 
e
ÂÂ 
=>
ÂÂ  
e
ÂÂ! "
.
ÂÂ" #
Compression
ÂÂ# .
)
ÂÂ. /
.
ÂÂ/ 0
HasColumnName
ÂÂ0 =
(
ÂÂ= >
$str
ÂÂ> K
)
ÂÂK L
;
ÂÂL M
entity
ÊÊ 
.
ÊÊ 
Property
ÊÊ 
(
ÊÊ 
e
ÊÊ 
=>
ÊÊ  
e
ÊÊ! "
.
ÊÊ" #
Concept
ÊÊ# *
)
ÊÊ* +
.
ÊÊ+ ,
HasColumnName
ÊÊ, 9
(
ÊÊ9 :
$str
ÊÊ: C
)
ÊÊC D
;
ÊÊD E
entity
ÁÁ 
.
ÁÁ 
Property
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ  
e
ÁÁ! "
.
ÁÁ" #
ConceptType
ÁÁ# .
)
ÁÁ. /
.
ÁÁ/ 0
HasColumnName
ÁÁ0 =
(
ÁÁ= >
$str
ÁÁ> L
)
ÁÁL M
;
ÁÁM N
entity
ËË 
.
ËË 
Property
ËË 
(
ËË 
e
ËË 
=>
ËË  
e
ËË! "
.
ËË" #
	CreatedAt
ËË# ,
)
ËË, -
.
ËË- .
HasColumnName
ËË. ;
(
ËË; <
$str
ËË< H
)
ËËH I
;
ËËI J
entity
ÈÈ 
.
ÈÈ 
Property
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ  
e
ÈÈ! "
.
ÈÈ" #
Credit
ÈÈ# )
)
ÈÈ) *
.
ÈÈ* +
HasColumnName
ÈÈ+ 8
(
ÈÈ8 9
$str
ÈÈ9 A
)
ÈÈA B
;
ÈÈB C
entity
ÍÍ 
.
ÍÍ 
Property
ÍÍ 
(
ÍÍ 
e
ÍÍ 
=>
ÍÍ  
e
ÍÍ! "
.
ÍÍ" #
Date
ÍÍ# '
)
ÍÍ' (
.
ÍÍ( )
HasColumnName
ÍÍ) 6
(
ÍÍ6 7
$str
ÍÍ7 =
)
ÍÍ= >
;
ÍÍ> ?
entity
ÎÎ 
.
ÎÎ 
Property
ÎÎ 
(
ÎÎ 
e
ÎÎ 
=>
ÎÎ  
e
ÎÎ! "
.
ÎÎ" #
Debit
ÎÎ# (
)
ÎÎ( )
.
ÎÎ) *
HasColumnName
ÎÎ* 7
(
ÎÎ7 8
$str
ÎÎ8 ?
)
ÎÎ? @
;
ÎÎ@ A
entity
ÏÏ 
.
ÏÏ 
Property
ÏÏ 
(
ÏÏ 
e
ÏÏ 
=>
ÏÏ  
e
ÏÏ! "
.
ÏÏ" #
Deferred
ÏÏ# +
)
ÏÏ+ ,
.
ÏÏ, -
HasColumnName
ÏÏ- :
(
ÏÏ: ;
$str
ÏÏ; E
)
ÏÏE F
;
ÏÏF G
entity
ÌÌ 
.
ÌÌ 
Property
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
	DeletedAt
ÌÌ# ,
)
ÌÌ, -
.
ÌÌ- .
HasColumnName
ÌÌ. ;
(
ÌÌ; <
$str
ÌÌ< H
)
ÌÌH I
;
ÌÌI J
entity
ÓÓ 
.
ÓÓ 
Property
ÓÓ 
(
ÓÓ 
e
ÓÓ 
=>
ÓÓ  
e
ÓÓ! "
.
ÓÓ" #
Detail
ÓÓ# )
)
ÓÓ) *
.
ÓÓ* +
HasColumnName
ÓÓ+ 8
(
ÓÓ8 9
$str
ÓÓ9 A
)
ÓÓA B
;
ÓÓB C
entity
ÔÔ 
.
ÔÔ 
Property
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ  
e
ÔÔ! "
.
ÔÔ" #
Status
ÔÔ# )
)
ÔÔ) *
.
ÔÔ* +
HasColumnName
ÔÔ+ 8
(
ÔÔ8 9
$str
ÔÔ9 A
)
ÔÔA B
;
ÔÔB C
entity
 
.
 
Property
 
(
 
e
 
=>
  
e
! "
.
" #
Support
# *
)
* +
.
+ ,
HasColumnName
, 9
(
9 :
$str
: C
)
C D
;
D E
entity
ÒÒ 
.
ÒÒ 
Property
ÒÒ 
(
ÒÒ 
e
ÒÒ 
=>
ÒÒ  
e
ÒÒ! "
.
ÒÒ" #
	UpdatedAt
ÒÒ# ,
)
ÒÒ, -
.
ÒÒ- .
HasColumnName
ÒÒ. ;
(
ÒÒ; <
$str
ÒÒ< H
)
ÒÒH I
;
ÒÒI J
entity
ÚÚ 
.
ÚÚ 
Property
ÚÚ 
(
ÚÚ 
e
ÚÚ 
=>
ÚÚ  
e
ÚÚ! "
.
ÚÚ" #
UserId
ÚÚ# )
)
ÚÚ) *
.
ÚÚ* +
HasColumnName
ÚÚ+ 8
(
ÚÚ8 9
$str
ÚÚ9 B
)
ÚÚB C
;
ÚÚC D
entity
ÙÙ 
.
ÙÙ 
HasQueryFilter
ÙÙ !
(
ÙÙ! "
e
ÙÙ" #
=>
ÙÙ$ &
!
ÙÙ' (
e
ÙÙ( )
.
ÙÙ) *
	DeletedAt
ÙÙ* 3
.
ÙÙ3 4
HasValue
ÙÙ4 <
)
ÙÙ< =
;
ÙÙ= >
}
ıı 	
)
ıı	 

;
ıı
 
modelBuilder
˜˜ 
.
˜˜ 
Entity
˜˜ 
<
˜˜ 
WalletsModel1b
˜˜ *
>
˜˜* +
(
˜˜+ ,
entity
˜˜, 2
=>
˜˜3 5
{
¯¯ 	
entity
˘˘ 
.
˘˘ 
HasKey
˘˘ 
(
˘˘ 
e
˘˘ 
=>
˘˘ 
e
˘˘  
.
˘˘  !
Id
˘˘! #
)
˘˘# $
.
˘˘$ %
HasName
˘˘% ,
(
˘˘, -
$str
˘˘- W
)
˘˘W X
;
˘˘X Y
entity
˚˚ 
.
˚˚ 
ToTable
˚˚ 
(
˚˚ 
$str
˚˚ -
,
˚˚- .
$str
˚˚/ ?
)
˚˚? @
;
˚˚@ A
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #
Id
˝˝# %
)
˝˝% &
.
˛˛  
HasDefaultValueSql
˛˛ #
(
˛˛# $
$str
˛˛$ P
)
˛˛P Q
.
ˇˇ 
HasColumnName
ˇˇ 
(
ˇˇ 
$str
ˇˇ #
)
ˇˇ# $
;
ˇˇ$ %
entity
ÄÄ 
.
ÄÄ 
Property
ÄÄ 
(
ÄÄ 
e
ÄÄ 
=>
ÄÄ  
e
ÄÄ! "
.
ÄÄ" #
AdminUserName
ÄÄ# 0
)
ÄÄ0 1
.
ÄÄ1 2
HasColumnName
ÄÄ2 ?
(
ÄÄ? @
$str
ÄÄ@ Q
)
ÄÄQ R
;
ÄÄR S
entity
ÅÅ 
.
ÅÅ 
Property
ÅÅ 
(
ÅÅ 
e
ÅÅ 
=>
ÅÅ  
e
ÅÅ! "
.
ÅÅ" #
AffiliateId
ÅÅ# .
)
ÅÅ. /
.
ÅÅ/ 0
HasColumnName
ÅÅ0 =
(
ÅÅ= >
$str
ÅÅ> L
)
ÅÅL M
;
ÅÅM N
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
AffiliateUserName
ÇÇ# 4
)
ÇÇ4 5
.
ÇÇ5 6
HasColumnName
ÇÇ6 C
(
ÇÇC D
$str
ÇÇD Y
)
ÇÇY Z
;
ÇÇZ [
entity
ÉÉ 
.
ÉÉ 
Property
ÉÉ 
(
ÉÉ 
e
ÉÉ 
=>
ÉÉ  
e
ÉÉ! "
.
ÉÉ" #
Compression
ÉÉ# .
)
ÉÉ. /
.
ÉÉ/ 0
HasColumnName
ÉÉ0 =
(
ÉÉ= >
$str
ÉÉ> K
)
ÉÉK L
;
ÉÉL M
entity
ÑÑ 
.
ÑÑ 
Property
ÑÑ 
(
ÑÑ 
e
ÑÑ 
=>
ÑÑ  
e
ÑÑ! "
.
ÑÑ" #
Concept
ÑÑ# *
)
ÑÑ* +
.
ÑÑ+ ,
HasColumnName
ÑÑ, 9
(
ÑÑ9 :
$str
ÑÑ: C
)
ÑÑC D
;
ÑÑD E
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
ConceptType
ÖÖ# .
)
ÖÖ. /
.
ÖÖ/ 0
HasColumnName
ÖÖ0 =
(
ÖÖ= >
$str
ÖÖ> L
)
ÖÖL M
;
ÖÖM N
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #
	CreatedAt
ÜÜ# ,
)
ÜÜ, -
.
ÜÜ- .
HasColumnName
ÜÜ. ;
(
ÜÜ; <
$str
ÜÜ< H
)
ÜÜH I
;
ÜÜI J
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
Credit
áá# )
)
áá) *
.
áá* +
HasColumnName
áá+ 8
(
áá8 9
$str
áá9 A
)
ááA B
;
ááB C
entity
àà 
.
àà 
Property
àà 
(
àà 
e
àà 
=>
àà  
e
àà! "
.
àà" #
Date
àà# '
)
àà' (
.
àà( )
HasColumnName
àà) 6
(
àà6 7
$str
àà7 =
)
àà= >
;
àà> ?
entity
ââ 
.
ââ 
Property
ââ 
(
ââ 
e
ââ 
=>
ââ  
e
ââ! "
.
ââ" #
Debit
ââ# (
)
ââ( )
.
ââ) *
HasColumnName
ââ* 7
(
ââ7 8
$str
ââ8 ?
)
ââ? @
;
ââ@ A
entity
ää 
.
ää 
Property
ää 
(
ää 
e
ää 
=>
ää  
e
ää! "
.
ää" #
Deferred
ää# +
)
ää+ ,
.
ää, -
HasColumnName
ää- :
(
ää: ;
$str
ää; E
)
ääE F
;
ääF G
entity
ãã 
.
ãã 
Property
ãã 
(
ãã 
e
ãã 
=>
ãã  
e
ãã! "
.
ãã" #
	DeletedAt
ãã# ,
)
ãã, -
.
ãã- .
HasColumnName
ãã. ;
(
ãã; <
$str
ãã< H
)
ããH I
;
ããI J
entity
åå 
.
åå 
Property
åå 
(
åå 
e
åå 
=>
åå  
e
åå! "
.
åå" #
Detail
åå# )
)
åå) *
.
åå* +
HasColumnName
åå+ 8
(
åå8 9
$str
åå9 A
)
ååA B
;
ååB C
entity
çç 
.
çç 
Property
çç 
(
çç 
e
çç 
=>
çç  
e
çç! "
.
çç" #
Status
çç# )
)
çç) *
.
çç* +
HasColumnName
çç+ 8
(
çç8 9
$str
çç9 A
)
ççA B
;
ççB C
entity
éé 
.
éé 
Property
éé 
(
éé 
e
éé 
=>
éé  
e
éé! "
.
éé" #
Support
éé# *
)
éé* +
.
éé+ ,
HasColumnName
éé, 9
(
éé9 :
$str
éé: C
)
ééC D
;
ééD E
entity
èè 
.
èè 
Property
èè 
(
èè 
e
èè 
=>
èè  
e
èè! "
.
èè" #
	UpdatedAt
èè# ,
)
èè, -
.
èè- .
HasColumnName
èè. ;
(
èè; <
$str
èè< H
)
èèH I
;
èèI J
entity
êê 
.
êê 
Property
êê 
(
êê 
e
êê 
=>
êê  
e
êê! "
.
êê" #
UserId
êê# )
)
êê) *
.
êê* +
HasColumnName
êê+ 8
(
êê8 9
$str
êê9 B
)
êêB C
;
êêC D
entity
íí 
.
íí 
HasQueryFilter
íí !
(
íí! "
e
íí" #
=>
íí$ &
!
íí' (
e
íí( )
.
íí) *
	DeletedAt
íí* 3
.
íí3 4
HasValue
íí4 <
)
íí< =
;
íí= >
}
ìì 	
)
ìì	 

;
ìì
 
modelBuilder
ïï 
.
ïï 
Entity
ïï 
<
ïï 
WalletsPeriod
ïï )
>
ïï) *
(
ïï* +
entity
ïï+ 1
=>
ïï2 4
{
ññ 	
entity
óó 
.
óó 
HasKey
óó 
(
óó 
e
óó 
=>
óó 
e
óó  
.
óó  !
Id
óó! #
)
óó# $
.
óó$ %
HasName
óó% ,
(
óó, -
$str
óó- J
)
óóJ K
;
óóK L
entity
ôô 
.
ôô 
ToTable
ôô 
(
ôô 
$str
ôô ,
,
ôô, -
$str
ôô. >
)
ôô> ?
;
ôô? @
entity
õõ 
.
õõ 
Property
õõ 
(
õõ 
e
õõ 
=>
õõ  
e
õõ! "
.
õõ" #
Id
õõ# %
)
õõ% &
.
úú  
HasDefaultValueSql
úú #
(
úú# $
$str
úú$ P
)
úúP Q
.
ùù 
HasColumnName
ùù 
(
ùù 
$str
ùù #
)
ùù# $
;
ùù$ %
entity
ûû 
.
ûû 
Property
ûû 
(
ûû 
e
ûû 
=>
ûû  
e
ûû! "
.
ûû" #
	CreatedAt
ûû# ,
)
ûû, -
.
ûû- .
HasColumnName
ûû. ;
(
ûû; <
$str
ûû< H
)
ûûH I
;
ûûI J
entity
üü 
.
üü 
Property
üü 
(
üü 
e
üü 
=>
üü  
e
üü! "
.
üü" #
Date
üü# '
)
üü' (
.
üü( )
HasColumnName
üü) 6
(
üü6 7
$str
üü7 =
)
üü= >
;
üü> ?
entity
†† 
.
†† 
Property
†† 
(
†† 
e
†† 
=>
††  
e
††! "
.
††" #
	DeletedAt
††# ,
)
††, -
.
††- .
HasColumnName
††. ;
(
††; <
$str
††< H
)
††H I
;
††I J
entity
°° 
.
°° 
Property
°° 
(
°° 
e
°° 
=>
°°  
e
°°! "
.
°°" #
Status
°°# )
)
°°) *
.
°°* +
HasColumnName
°°+ 8
(
°°8 9
$str
°°9 A
)
°°A B
;
°°B C
entity
¢¢ 
.
¢¢ 
Property
¢¢ 
(
¢¢ 
e
¢¢ 
=>
¢¢  
e
¢¢! "
.
¢¢" #
	UpdatedAt
¢¢# ,
)
¢¢, -
.
¢¢- .
HasColumnName
¢¢. ;
(
¢¢; <
$str
¢¢< H
)
¢¢H I
;
¢¢I J
entity
§§ 
.
§§ 
HasQueryFilter
§§ !
(
§§! "
e
§§" #
=>
§§$ &
!
§§' (
e
§§( )
.
§§) *
	DeletedAt
§§* 3
.
§§3 4
HasValue
§§4 <
)
§§< =
;
§§= >
}
•• 	
)
••	 

;
••
 
modelBuilder
ßß 
.
ßß 
Entity
ßß 
<
ßß 
WalletsRequest
ßß *
>
ßß* +
(
ßß+ ,
entity
ßß, 2
=>
ßß3 5
{
®® 	
entity
©© 
.
©© 
HasKey
©© 
(
©© 
e
©© 
=>
©© 
e
©©  
.
©©  !
Id
©©! #
)
©©# $
.
©©$ %
HasName
©©% ,
(
©©, -
$str
©©- K
)
©©K L
;
©©L M
entity
´´ 
.
´´ 
ToTable
´´ 
(
´´ 
$str
´´ -
,
´´- .
$str
´´/ ?
)
´´? @
;
´´@ A
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #
Id
≠≠# %
)
≠≠% &
.
ÆÆ  
HasDefaultValueSql
ÆÆ #
(
ÆÆ# $
$str
ÆÆ$ Q
)
ÆÆQ R
.
ØØ 
HasColumnName
ØØ 
(
ØØ 
$str
ØØ #
)
ØØ# $
;
ØØ$ %
entity
∞∞ 
.
∞∞ 
Property
∞∞ 
(
∞∞ 
e
∞∞ 
=>
∞∞  
e
∞∞! "
.
∞∞" #
AdminUserName
∞∞# 0
)
∞∞0 1
.
∞∞1 2
HasColumnName
∞∞2 ?
(
∞∞? @
$str
∞∞@ Q
)
∞∞Q R
;
∞∞R S
entity
±± 
.
±± 
Property
±± 
(
±± 
e
±± 
=>
±±  
e
±±! "
.
±±" #
AffiliateId
±±# .
)
±±. /
.
±±/ 0
HasColumnName
±±0 =
(
±±= >
$str
±±> L
)
±±L M
;
±±M N
entity
≤≤ 
.
≤≤ 
Property
≤≤ 
(
≤≤ 
e
≤≤ 
=>
≤≤  
e
≤≤! "
.
≤≤" #
Amount
≤≤# )
)
≤≤) *
.
≤≤* +
HasColumnName
≤≤+ 8
(
≤≤8 9
$str
≤≤9 A
)
≤≤A B
;
≤≤B C
entity
≥≥ 
.
≥≥ 
Property
≥≥ 
(
≥≥ 
e
≥≥ 
=>
≥≥  
e
≥≥! "
.
≥≥" #
AttentionDate
≥≥# 0
)
≥≥0 1
.
≥≥1 2
HasColumnName
≥≥2 ?
(
≥≥? @
$str
≥≥@ P
)
≥≥P Q
;
≥≥Q R
entity
¥¥ 
.
¥¥ 
Property
¥¥ 
(
¥¥ 
e
¥¥ 
=>
¥¥  
e
¥¥! "
.
¥¥" #
BrandId
¥¥# *
)
¥¥* +
.
¥¥+ ,
HasColumnName
¥¥, 9
(
¥¥9 :
$str
¥¥: D
)
¥¥D E
;
¥¥E F
entity
µµ 
.
µµ 
Property
µµ 
(
µµ 
e
µµ 
=>
µµ  
e
µµ! "
.
µµ" #
Concept
µµ# *
)
µµ* +
.
µµ+ ,
HasColumnName
µµ, 9
(
µµ9 :
$str
µµ: C
)
µµC D
;
µµD E
entity
∂∂ 
.
∂∂ 
Property
∂∂ 
(
∂∂ 
e
∂∂ 
=>
∂∂  
e
∂∂! "
.
∂∂" #
	CreatedAt
∂∂# ,
)
∂∂, -
.
∂∂- .
HasColumnName
∂∂. ;
(
∂∂; <
$str
∂∂< H
)
∂∂H I
;
∂∂I J
entity
∑∑ 
.
∑∑ 
Property
∑∑ 
(
∑∑ 
e
∑∑ 
=>
∑∑  
e
∑∑! "
.
∑∑" #
CreationDate
∑∑# /
)
∑∑/ 0
.
∑∑0 1
HasColumnName
∑∑1 >
(
∑∑> ?
$str
∑∑? N
)
∑∑N O
;
∑∑O P
entity
∏∏ 
.
∏∏ 
Property
∏∏ 
(
∏∏ 
e
∏∏ 
=>
∏∏  
e
∏∏! "
.
∏∏" #
	DeletedAt
∏∏# ,
)
∏∏, -
.
∏∏- .
HasColumnName
∏∏. ;
(
∏∏; <
$str
∏∏< H
)
∏∏H I
;
∏∏I J
entity
ππ 
.
ππ 
Property
ππ 
(
ππ 
e
ππ 
=>
ππ  
e
ππ! "
.
ππ" #
InvoiceNumber
ππ# 0
)
ππ0 1
.
ππ1 2
HasColumnName
ππ2 ?
(
ππ? @
$str
ππ@ P
)
ππP Q
;
ππQ R
entity
∫∫ 
.
∫∫ 
Property
∫∫ 
(
∫∫ 
e
∫∫ 
=>
∫∫  
e
∫∫! "
.
∫∫" #
OrderNumber
∫∫# .
)
∫∫. /
.
∫∫/ 0
HasColumnName
∫∫0 =
(
∫∫= >
$str
∫∫> L
)
∫∫L M
;
∫∫M N
entity
ªª 
.
ªª 
Property
ªª 
(
ªª 
e
ªª 
=>
ªª  
e
ªª! "
.
ªª" # 
PaymentAffiliateId
ªª# 5
)
ªª5 6
.
ªª6 7
HasColumnName
ªª7 D
(
ªªD E
$str
ªªE [
)
ªª[ \
;
ªª\ ]
entity
ºº 
.
ºº 
Property
ºº 
(
ºº 
e
ºº 
=>
ºº  
e
ºº! "
.
ºº" #
Status
ºº# )
)
ºº) *
.
ºº* +
HasColumnName
ºº+ 8
(
ºº8 9
$str
ºº9 A
)
ººA B
;
ººB C
entity
ΩΩ 
.
ΩΩ 
Property
ΩΩ 
(
ΩΩ 
e
ΩΩ 
=>
ΩΩ  
e
ΩΩ! "
.
ΩΩ" #
Type
ΩΩ# '
)
ΩΩ' (
.
ΩΩ( )
HasColumnName
ΩΩ) 6
(
ΩΩ6 7
$str
ΩΩ7 =
)
ΩΩ= >
;
ΩΩ> ?
entity
ææ 
.
ææ 
Property
ææ 
(
ææ 
e
ææ 
=>
ææ  
e
ææ! "
.
ææ" #
	UpdatedAt
ææ# ,
)
ææ, -
.
ææ- .
HasColumnName
ææ. ;
(
ææ; <
$str
ææ< H
)
ææH I
;
ææI J
entity
¿¿ 
.
¿¿ 
HasOne
¿¿ 
(
¿¿ 
d
¿¿ 
=>
¿¿ 
d
¿¿  
.
¿¿  !
Brand
¿¿! &
)
¿¿& '
.
¿¿' (
WithMany
¿¿( 0
(
¿¿0 1
p
¿¿1 2
=>
¿¿3 5
p
¿¿6 7
.
¿¿7 8
WalletsRequests
¿¿8 G
)
¿¿G H
.
¡¡ 
HasForeignKey
¡¡ 
(
¡¡ 
d
¡¡  
=>
¡¡! #
d
¡¡$ %
.
¡¡% &
BrandId
¡¡& -
)
¡¡- .
.
¬¬ 
HasConstraintName
¬¬ "
(
¬¬" #
$str
¬¬# =
)
¬¬= >
;
¬¬> ?
entity
ƒƒ 
.
ƒƒ 
HasQueryFilter
ƒƒ !
(
ƒƒ! "
e
ƒƒ" #
=>
ƒƒ$ &
!
ƒƒ' (
e
ƒƒ( )
.
ƒƒ) *
	DeletedAt
ƒƒ* 3
.
ƒƒ3 4
HasValue
ƒƒ4 <
)
ƒƒ< =
;
ƒƒ= >
}
≈≈ 	
)
≈≈	 

;
≈≈
 
modelBuilder
«« 
.
«« 
Entity
«« 
<
«« %
WalletsRetentionsConfig
«« 3
>
««3 4
(
««4 5
entity
««5 ;
=>
««< >
{
»» 	
entity
…… 
.
…… 
HasKey
…… 
(
…… 
e
…… 
=>
…… 
e
……  
.
……  !
Id
……! #
)
……# $
.
……$ %
HasName
……% ,
(
……, -
$str
……- T
)
……T U
;
……U V
entity
ÀÀ 
.
ÀÀ 
ToTable
ÀÀ 
(
ÀÀ 
$str
ÀÀ 7
,
ÀÀ7 8
$str
ÀÀ9 I
)
ÀÀI J
;
ÀÀJ K
entity
ÕÕ 
.
ÕÕ 
Property
ÕÕ 
(
ÕÕ 
e
ÕÕ 
=>
ÕÕ  
e
ÕÕ! "
.
ÕÕ" #
Id
ÕÕ# %
)
ÕÕ% &
.
ŒŒ  
HasDefaultValueSql
ŒŒ #
(
ŒŒ# $
$str
ŒŒ$ Z
)
ŒŒZ [
.
œœ 
HasColumnName
œœ 
(
œœ 
$str
œœ #
)
œœ# $
;
œœ$ %
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #
	CreatedAt
––# ,
)
––, -
.
––- .
HasColumnName
––. ;
(
––; <
$str
––< H
)
––H I
;
––I J
entity
—— 
.
—— 
Property
—— 
(
—— 
e
—— 
=>
——  
e
——! "
.
——" #
Date
——# '
)
——' (
.
——( )
HasColumnName
——) 6
(
——6 7
$str
——7 =
)
——= >
;
——> ?
entity
““ 
.
““ 
Property
““ 
(
““ 
e
““ 
=>
““  
e
““! "
.
““" #
	DeletedAt
““# ,
)
““, -
.
““- .
HasColumnName
““. ;
(
““; <
$str
““< H
)
““H I
;
““I J
entity
”” 
.
”” 
Property
”” 
(
”” 
e
”” 
=>
””  
e
””! "
.
””" #
DisableDate
””# .
)
””. /
.
””/ 0
HasColumnName
””0 =
(
””= >
$str
””> L
)
””L M
;
””M N
entity
‘‘ 
.
‘‘ 
Property
‘‘ 
(
‘‘ 
e
‘‘ 
=>
‘‘  
e
‘‘! "
.
‘‘" #

Percentage
‘‘# -
)
‘‘- .
.
‘‘. /
HasColumnName
‘‘/ <
(
‘‘< =
$str
‘‘= I
)
‘‘I J
;
‘‘J K
entity
’’ 
.
’’ 
Property
’’ 
(
’’ 
e
’’ 
=>
’’  
e
’’! "
.
’’" #
Status
’’# )
)
’’) *
.
’’* +
HasColumnName
’’+ 8
(
’’8 9
$str
’’9 A
)
’’A B
;
’’B C
entity
÷÷ 
.
÷÷ 
Property
÷÷ 
(
÷÷ 
e
÷÷ 
=>
÷÷  
e
÷÷! "
.
÷÷" #
	UpdatedAt
÷÷# ,
)
÷÷, -
.
÷÷- .
HasColumnName
÷÷. ;
(
÷÷; <
$str
÷÷< H
)
÷÷H I
;
÷÷I J
entity
◊◊ 
.
◊◊ 
Property
◊◊ 
(
◊◊ 
e
◊◊ 
=>
◊◊  
e
◊◊! "
.
◊◊" #
WithdrawalFrom
◊◊# 1
)
◊◊1 2
.
◊◊2 3
HasColumnName
◊◊3 @
(
◊◊@ A
$str
◊◊A R
)
◊◊R S
;
◊◊S T
entity
ÿÿ 
.
ÿÿ 
Property
ÿÿ 
(
ÿÿ 
e
ÿÿ 
=>
ÿÿ  
e
ÿÿ! "
.
ÿÿ" #
WithdrawalTo
ÿÿ# /
)
ÿÿ/ 0
.
ÿÿ0 1
HasColumnName
ÿÿ1 >
(
ÿÿ> ?
$str
ÿÿ? N
)
ÿÿN O
;
ÿÿO P
entity
⁄⁄ 
.
⁄⁄ 
HasQueryFilter
⁄⁄ !
(
⁄⁄! "
e
⁄⁄" #
=>
⁄⁄$ &
!
⁄⁄' (
e
⁄⁄( )
.
⁄⁄) *
	DeletedAt
⁄⁄* 3
.
⁄⁄3 4
HasValue
⁄⁄4 <
)
⁄⁄< =
;
⁄⁄= >
}
€€ 	
)
€€	 

;
€€
 
modelBuilder
›› 
.
›› 
Entity
›› 
<
›› #
WalletsServiceModel1a
›› 1
>
››1 2
(
››2 3
entity
››3 9
=>
››: <
{
ﬁﬁ 	
entity
ﬂﬂ 
.
ﬂﬂ 
HasKey
ﬂﬂ 
(
ﬂﬂ 
e
ﬂﬂ 
=>
ﬂﬂ 
e
ﬂﬂ  
.
ﬂﬂ  !
Id
ﬂﬂ! #
)
ﬂﬂ# $
.
ﬂﬂ$ %
HasName
ﬂﬂ% ,
(
ﬂﬂ, -
$str
ﬂﬂ- W
)
ﬂﬂW X
;
ﬂﬂX Y
entity
·· 
.
·· 
ToTable
·· 
(
·· 
$str
·· 5
,
··5 6
$str
··7 G
)
··G H
;
··H I
entity
„„ 
.
„„ 
Property
„„ 
(
„„ 
e
„„ 
=>
„„  
e
„„! "
.
„„" #
Id
„„# %
)
„„% &
.
‰‰  
HasDefaultValueSql
‰‰ #
(
‰‰# $
$str
‰‰$ W
)
‰‰W X
.
ÂÂ 
HasColumnName
ÂÂ 
(
ÂÂ 
$str
ÂÂ #
)
ÂÂ# $
;
ÂÂ$ %
entity
ÊÊ 
.
ÊÊ 
Property
ÊÊ 
(
ÊÊ 
e
ÊÊ 
=>
ÊÊ  
e
ÊÊ! "
.
ÊÊ" #
AffiliateId
ÊÊ# .
)
ÊÊ. /
.
ÊÊ/ 0
HasColumnName
ÊÊ0 =
(
ÊÊ= >
$str
ÊÊ> L
)
ÊÊL M
;
ÊÊM N
entity
ÁÁ 
.
ÁÁ 
Property
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ  
e
ÁÁ! "
.
ÁÁ" #
AffiliateUserName
ÁÁ# 4
)
ÁÁ4 5
.
ÁÁ5 6
HasColumnName
ÁÁ6 C
(
ÁÁC D
$str
ÁÁD Y
)
ÁÁY Z
;
ÁÁZ [
entity
ËË 
.
ËË 
Property
ËË 
(
ËË 
e
ËË 
=>
ËË  
e
ËË! "
.
ËË" #
Concept
ËË# *
)
ËË* +
.
ËË+ ,
HasColumnName
ËË, 9
(
ËË9 :
$str
ËË: C
)
ËËC D
;
ËËD E
entity
ÈÈ 
.
ÈÈ 
Property
ÈÈ 
(
ÈÈ 
e
ÈÈ 
=>
ÈÈ  
e
ÈÈ! "
.
ÈÈ" #
	CreatedAt
ÈÈ# ,
)
ÈÈ, -
.
ÈÈ- .
HasColumnName
ÈÈ. ;
(
ÈÈ; <
$str
ÈÈ< H
)
ÈÈH I
;
ÈÈI J
entity
ÍÍ 
.
ÍÍ 
Property
ÍÍ 
(
ÍÍ 
e
ÍÍ 
=>
ÍÍ  
e
ÍÍ! "
.
ÍÍ" #
Credit
ÍÍ# )
)
ÍÍ) *
.
ÍÍ* +
HasColumnName
ÍÍ+ 8
(
ÍÍ8 9
$str
ÍÍ9 A
)
ÍÍA B
;
ÍÍB C
entity
ÎÎ 
.
ÎÎ 
Property
ÎÎ 
(
ÎÎ 
e
ÎÎ 
=>
ÎÎ  
e
ÎÎ! "
.
ÎÎ" #
Debit
ÎÎ# (
)
ÎÎ( )
.
ÎÎ) *
HasColumnName
ÎÎ* 7
(
ÎÎ7 8
$str
ÎÎ8 ?
)
ÎÎ? @
;
ÎÎ@ A
entity
ÏÏ 
.
ÏÏ 
Property
ÏÏ 
(
ÏÏ 
e
ÏÏ 
=>
ÏÏ  
e
ÏÏ! "
.
ÏÏ" #
	DeletedAt
ÏÏ# ,
)
ÏÏ, -
.
ÏÏ- .
HasColumnName
ÏÏ. ;
(
ÏÏ; <
$str
ÏÏ< H
)
ÏÏH I
;
ÏÏI J
entity
ÌÌ 
.
ÌÌ 
Property
ÌÌ 
(
ÌÌ 
e
ÌÌ 
=>
ÌÌ  
e
ÌÌ! "
.
ÌÌ" #
Status
ÌÌ# )
)
ÌÌ) *
.
ÌÌ* +
HasColumnName
ÌÌ+ 8
(
ÌÌ8 9
$str
ÌÌ9 A
)
ÌÌA B
;
ÌÌB C
entity
ÓÓ 
.
ÓÓ 
Property
ÓÓ 
(
ÓÓ 
e
ÓÓ 
=>
ÓÓ  
e
ÓÓ! "
.
ÓÓ" #
	UpdatedAt
ÓÓ# ,
)
ÓÓ, -
.
ÓÓ- .
HasColumnName
ÓÓ. ;
(
ÓÓ; <
$str
ÓÓ< H
)
ÓÓH I
;
ÓÓI J
entity
ÔÔ 
.
ÔÔ 
Property
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ  
e
ÔÔ! "
.
ÔÔ" #
UserId
ÔÔ# )
)
ÔÔ) *
.
ÔÔ* +
HasColumnName
ÔÔ+ 8
(
ÔÔ8 9
$str
ÔÔ9 B
)
ÔÔB C
;
ÔÔC D
entity
ÒÒ 
.
ÒÒ 
HasQueryFilter
ÒÒ !
(
ÒÒ! "
e
ÒÒ" #
=>
ÒÒ$ &
!
ÒÒ' (
e
ÒÒ( )
.
ÒÒ) *
	DeletedAt
ÒÒ* 3
.
ÒÒ3 4
HasValue
ÒÒ4 <
)
ÒÒ< =
;
ÒÒ= >
}
ÚÚ 	
)
ÚÚ	 

;
ÚÚ
 
modelBuilder
ÙÙ 
.
ÙÙ 
Entity
ÙÙ 
<
ÙÙ #
WalletsServiceModel1b
ÙÙ 1
>
ÙÙ1 2
(
ÙÙ2 3
entity
ÙÙ3 9
=>
ÙÙ: <
{
ıı 	
entity
ˆˆ 
.
ˆˆ 
HasKey
ˆˆ 
(
ˆˆ 
e
ˆˆ 
=>
ˆˆ 
e
ˆˆ  
.
ˆˆ  !
Id
ˆˆ! #
)
ˆˆ# $
.
ˆˆ$ %
HasName
ˆˆ% ,
(
ˆˆ, -
$str
ˆˆ- W
)
ˆˆW X
;
ˆˆX Y
entity
¯¯ 
.
¯¯ 
ToTable
¯¯ 
(
¯¯ 
$str
¯¯ 5
,
¯¯5 6
$str
¯¯7 G
)
¯¯G H
;
¯¯H I
entity
˙˙ 
.
˙˙ 
Property
˙˙ 
(
˙˙ 
e
˙˙ 
=>
˙˙  
e
˙˙! "
.
˙˙" #
Id
˙˙# %
)
˙˙% &
.
˚˚  
HasDefaultValueSql
˚˚ #
(
˚˚# $
$str
˚˚$ W
)
˚˚W X
.
¸¸ 
HasColumnName
¸¸ 
(
¸¸ 
$str
¸¸ #
)
¸¸# $
;
¸¸$ %
entity
˝˝ 
.
˝˝ 
Property
˝˝ 
(
˝˝ 
e
˝˝ 
=>
˝˝  
e
˝˝! "
.
˝˝" #
AffiliateId
˝˝# .
)
˝˝. /
.
˝˝/ 0
HasColumnName
˝˝0 =
(
˝˝= >
$str
˝˝> L
)
˝˝L M
;
˝˝M N
entity
˛˛ 
.
˛˛ 
Property
˛˛ 
(
˛˛ 
e
˛˛ 
=>
˛˛  
e
˛˛! "
.
˛˛" #
AffiliateUserName
˛˛# 4
)
˛˛4 5
.
˛˛5 6
HasColumnName
˛˛6 C
(
˛˛C D
$str
˛˛D Y
)
˛˛Y Z
;
˛˛Z [
entity
ˇˇ 
.
ˇˇ 
Property
ˇˇ 
(
ˇˇ 
e
ˇˇ 
=>
ˇˇ  
e
ˇˇ! "
.
ˇˇ" #
Concept
ˇˇ# *
)
ˇˇ* +
.
ˇˇ+ ,
HasColumnName
ˇˇ, 9
(
ˇˇ9 :
$str
ˇˇ: C
)
ˇˇC D
;
ˇˇD E
entity
Ä	Ä	 
.
Ä	Ä	 
Property
Ä	Ä	 
(
Ä	Ä	 
e
Ä	Ä	 
=>
Ä	Ä	  
e
Ä	Ä	! "
.
Ä	Ä	" #
	CreatedAt
Ä	Ä	# ,
)
Ä	Ä	, -
.
Ä	Ä	- .
HasColumnName
Ä	Ä	. ;
(
Ä	Ä	; <
$str
Ä	Ä	< H
)
Ä	Ä	H I
;
Ä	Ä	I J
entity
Å	Å	 
.
Å	Å	 
Property
Å	Å	 
(
Å	Å	 
e
Å	Å	 
=>
Å	Å	  
e
Å	Å	! "
.
Å	Å	" #
Credit
Å	Å	# )
)
Å	Å	) *
.
Å	Å	* +
HasColumnName
Å	Å	+ 8
(
Å	Å	8 9
$str
Å	Å	9 A
)
Å	Å	A B
;
Å	Å	B C
entity
Ç	Ç	 
.
Ç	Ç	 
Property
Ç	Ç	 
(
Ç	Ç	 
e
Ç	Ç	 
=>
Ç	Ç	  
e
Ç	Ç	! "
.
Ç	Ç	" #
Debit
Ç	Ç	# (
)
Ç	Ç	( )
.
Ç	Ç	) *
HasColumnName
Ç	Ç	* 7
(
Ç	Ç	7 8
$str
Ç	Ç	8 ?
)
Ç	Ç	? @
;
Ç	Ç	@ A
entity
É	É	 
.
É	É	 
Property
É	É	 
(
É	É	 
e
É	É	 
=>
É	É	  
e
É	É	! "
.
É	É	" #
	DeletedAt
É	É	# ,
)
É	É	, -
.
É	É	- .
HasColumnName
É	É	. ;
(
É	É	; <
$str
É	É	< H
)
É	É	H I
;
É	É	I J
entity
Ñ	Ñ	 
.
Ñ	Ñ	 
Property
Ñ	Ñ	 
(
Ñ	Ñ	 
e
Ñ	Ñ	 
=>
Ñ	Ñ	  
e
Ñ	Ñ	! "
.
Ñ	Ñ	" #
Status
Ñ	Ñ	# )
)
Ñ	Ñ	) *
.
Ñ	Ñ	* +
HasColumnName
Ñ	Ñ	+ 8
(
Ñ	Ñ	8 9
$str
Ñ	Ñ	9 A
)
Ñ	Ñ	A B
;
Ñ	Ñ	B C
entity
Ö	Ö	 
.
Ö	Ö	 
Property
Ö	Ö	 
(
Ö	Ö	 
e
Ö	Ö	 
=>
Ö	Ö	  
e
Ö	Ö	! "
.
Ö	Ö	" #
	UpdatedAt
Ö	Ö	# ,
)
Ö	Ö	, -
.
Ö	Ö	- .
HasColumnName
Ö	Ö	. ;
(
Ö	Ö	; <
$str
Ö	Ö	< H
)
Ö	Ö	H I
;
Ö	Ö	I J
entity
Ü	Ü	 
.
Ü	Ü	 
Property
Ü	Ü	 
(
Ü	Ü	 
e
Ü	Ü	 
=>
Ü	Ü	  
e
Ü	Ü	! "
.
Ü	Ü	" #
UserId
Ü	Ü	# )
)
Ü	Ü	) *
.
Ü	Ü	* +
HasColumnName
Ü	Ü	+ 8
(
Ü	Ü	8 9
$str
Ü	Ü	9 B
)
Ü	Ü	B C
;
Ü	Ü	C D
entity
à	à	 
.
à	à	 
HasQueryFilter
à	à	 !
(
à	à	! "
e
à	à	" #
=>
à	à	$ &
!
à	à	' (
e
à	à	( )
.
à	à	) *
	DeletedAt
à	à	* 3
.
à	à	3 4
HasValue
à	à	4 <
)
à	à	< =
;
à	à	= >
}
â	â	 	
)
â	â		 

;
â	â	
 
modelBuilder
ã	ã	 
.
ã	ã	 
Entity
ã	ã	 
<
ã	ã	 "
WalletsServiceModel2
ã	ã	 0
>
ã	ã	0 1
(
ã	ã	1 2
entity
ã	ã	2 8
=>
ã	ã	9 ;
{
å	å	 	
entity
ç	ç	 
.
ç	ç	 
HasKey
ç	ç	 
(
ç	ç	 
e
ç	ç	 
=>
ç	ç	 
e
ç	ç	  
.
ç	ç	  !
Id
ç	ç	! #
)
ç	ç	# $
.
ç	ç	$ %
HasName
ç	ç	% ,
(
ç	ç	, -
$str
ç	ç	- W
)
ç	ç	W X
;
ç	ç	X Y
entity
è	è	 
.
è	è	 
ToTable
è	è	 
(
è	è	 
$str
è	è	 3
,
è	è	3 4
$str
è	è	5 E
)
è	è	E F
;
è	è	F G
entity
ë	ë	 
.
ë	ë	 
Property
ë	ë	 
(
ë	ë	 
e
ë	ë	 
=>
ë	ë	  
e
ë	ë	! "
.
ë	ë	" #
Id
ë	ë	# %
)
ë	ë	% &
.
í	í	  
HasDefaultValueSql
í	í	 #
(
í	í	# $
$str
í	í	$ V
)
í	í	V W
.
ì	ì	 
HasColumnName
ì	ì	 
(
ì	ì	 
$str
ì	ì	 #
)
ì	ì	# $
;
ì	ì	$ %
entity
î	î	 
.
î	î	 
Property
î	î	 
(
î	î	 
e
î	î	 
=>
î	î	  
e
î	î	! "
.
î	î	" #
AffiliateId
î	î	# .
)
î	î	. /
.
î	î	/ 0
HasColumnName
î	î	0 =
(
î	î	= >
$str
î	î	> L
)
î	î	L M
;
î	î	M N
entity
ï	ï	 
.
ï	ï	 
Property
ï	ï	 
(
ï	ï	 
e
ï	ï	 
=>
ï	ï	  
e
ï	ï	! "
.
ï	ï	" #
AffiliateUserName
ï	ï	# 4
)
ï	ï	4 5
.
ï	ï	5 6
HasColumnName
ï	ï	6 C
(
ï	ï	C D
$str
ï	ï	D Y
)
ï	ï	Y Z
;
ï	ï	Z [
entity
ñ	ñ	 
.
ñ	ñ	 
Property
ñ	ñ	 
(
ñ	ñ	 
e
ñ	ñ	 
=>
ñ	ñ	  
e
ñ	ñ	! "
.
ñ	ñ	" #
BrandId
ñ	ñ	# *
)
ñ	ñ	* +
.
ñ	ñ	+ ,
HasColumnName
ñ	ñ	, 9
(
ñ	ñ	9 :
$str
ñ	ñ	: D
)
ñ	ñ	D E
;
ñ	ñ	E F
entity
ó	ó	 
.
ó	ó	 
Property
ó	ó	 
(
ó	ó	 
e
ó	ó	 
=>
ó	ó	  
e
ó	ó	! "
.
ó	ó	" #
Concept
ó	ó	# *
)
ó	ó	* +
.
ó	ó	+ ,
HasColumnName
ó	ó	, 9
(
ó	ó	9 :
$str
ó	ó	: C
)
ó	ó	C D
;
ó	ó	D E
entity
ò	ò	 
.
ò	ò	 
Property
ò	ò	 
(
ò	ò	 
e
ò	ò	 
=>
ò	ò	  
e
ò	ò	! "
.
ò	ò	" #
	CreatedAt
ò	ò	# ,
)
ò	ò	, -
.
ò	ò	- .
HasColumnName
ò	ò	. ;
(
ò	ò	; <
$str
ò	ò	< H
)
ò	ò	H I
;
ò	ò	I J
entity
ô	ô	 
.
ô	ô	 
Property
ô	ô	 
(
ô	ô	 
e
ô	ô	 
=>
ô	ô	  
e
ô	ô	! "
.
ô	ô	" #
Credit
ô	ô	# )
)
ô	ô	) *
.
ô	ô	* +
HasColumnName
ô	ô	+ 8
(
ô	ô	8 9
$str
ô	ô	9 A
)
ô	ô	A B
;
ô	ô	B C
entity
ö	ö	 
.
ö	ö	 
Property
ö	ö	 
(
ö	ö	 
e
ö	ö	 
=>
ö	ö	  
e
ö	ö	! "
.
ö	ö	" #
Debit
ö	ö	# (
)
ö	ö	( )
.
ö	ö	) *
HasColumnName
ö	ö	* 7
(
ö	ö	7 8
$str
ö	ö	8 ?
)
ö	ö	? @
;
ö	ö	@ A
entity
õ	õ	 
.
õ	õ	 
Property
õ	õ	 
(
õ	õ	 
e
õ	õ	 
=>
õ	õ	  
e
õ	õ	! "
.
õ	õ	" #
	DeletedAt
õ	õ	# ,
)
õ	õ	, -
.
õ	õ	- .
HasColumnName
õ	õ	. ;
(
õ	õ	; <
$str
õ	õ	< H
)
õ	õ	H I
;
õ	õ	I J
entity
ú	ú	 
.
ú	ú	 
Property
ú	ú	 
(
ú	ú	 
e
ú	ú	 
=>
ú	ú	  
e
ú	ú	! "
.
ú	ú	" #
Status
ú	ú	# )
)
ú	ú	) *
.
ú	ú	* +
HasColumnName
ú	ú	+ 8
(
ú	ú	8 9
$str
ú	ú	9 A
)
ú	ú	A B
;
ú	ú	B C
entity
ù	ù	 
.
ù	ù	 
Property
ù	ù	 
(
ù	ù	 
e
ù	ù	 
=>
ù	ù	  
e
ù	ù	! "
.
ù	ù	" #
	UpdatedAt
ù	ù	# ,
)
ù	ù	, -
.
ù	ù	- .
HasColumnName
ù	ù	. ;
(
ù	ù	; <
$str
ù	ù	< H
)
ù	ù	H I
;
ù	ù	I J
entity
û	û	 
.
û	û	 
Property
û	û	 
(
û	û	 
e
û	û	 
=>
û	û	  
e
û	û	! "
.
û	û	" #
UserId
û	û	# )
)
û	û	) *
.
û	û	* +
HasColumnName
û	û	+ 8
(
û	û	8 9
$str
û	û	9 B
)
û	û	B C
;
û	û	C D
entity
†	†	 
.
†	†	 
HasOne
†	†	 
(
†	†	 
d
†	†	 
=>
†	†	 
d
†	†	  
.
†	†	  !
Brand
†	†	! &
)
†	†	& '
.
†	†	' (
WithMany
†	†	( 0
(
†	†	0 1
p
†	†	1 2
=>
†	†	3 5
p
†	†	6 7
.
†	†	7 8#
WalletsServiceModel2s
†	†	8 M
)
†	†	M N
.
°	°	 
HasForeignKey
°	°	 
(
°	°	 
d
°	°	  
=>
°	°	! #
d
°	°	$ %
.
°	°	% &
BrandId
°	°	& -
)
°	°	- .
.
¢	¢	 
HasConstraintName
¢	¢	 "
(
¢	¢	" #
$str
¢	¢	# B
)
¢	¢	B C
;
¢	¢	C D
entity
§	§	 
.
§	§	 
HasQueryFilter
§	§	 !
(
§	§	! "
e
§	§	" #
=>
§	§	$ &
!
§	§	' (
e
§	§	( )
.
§	§	) *
	DeletedAt
§	§	* 3
.
§	§	3 4
HasValue
§	§	4 <
)
§	§	< =
;
§	§	= >
}
•	•	 	
)
•	•		 

;
•	•	
 
modelBuilder
ß	ß	 
.
ß	ß	 
Entity
ß	ß	 
<
ß	ß	 
WalletsWait
ß	ß	 '
>
ß	ß	' (
(
ß	ß	( )
entity
ß	ß	) /
=>
ß	ß	0 2
{
®	®	 	
entity
©	©	 
.
©	©	 
HasKey
©	©	 
(
©	©	 
e
©	©	 
=>
©	©	 
e
©	©	  
.
©	©	  !
Id
©	©	! #
)
©	©	# $
.
©	©	$ %
HasName
©	©	% ,
(
©	©	, -
$str
©	©	- H
)
©	©	H I
;
©	©	I J
entity
´	´	 
.
´	´	 
ToTable
´	´	 
(
´	´	 
$str
´	´	 *
,
´	´	* +
$str
´	´	, <
)
´	´	< =
;
´	´	= >
entity
≠	≠	 
.
≠	≠	 
Property
≠	≠	 
(
≠	≠	 
e
≠	≠	 
=>
≠	≠	  
e
≠	≠	! "
.
≠	≠	" #
Id
≠	≠	# %
)
≠	≠	% &
.
Æ	Æ	  
HasDefaultValueSql
Æ	Æ	 #
(
Æ	Æ	# $
$str
Æ	Æ	$ N
)
Æ	Æ	N O
.
Ø	Ø	 
HasColumnName
Ø	Ø	 
(
Ø	Ø	 
$str
Ø	Ø	 #
)
Ø	Ø	# $
;
Ø	Ø	$ %
entity
∞	∞	 
.
∞	∞	 
Property
∞	∞	 
(
∞	∞	 
e
∞	∞	 
=>
∞	∞	  
e
∞	∞	! "
.
∞	∞	" #
AffiliateId
∞	∞	# .
)
∞	∞	. /
.
∞	∞	/ 0
HasColumnName
∞	∞	0 =
(
∞	∞	= >
$str
∞	∞	> L
)
∞	∞	L M
;
∞	∞	M N
entity
±	±	 
.
±	±	 
Property
±	±	 
(
±	±	 
e
±	±	 
=>
±	±	  
e
±	±	! "
.
±	±	" #
Attended
±	±	# +
)
±	±	+ ,
.
≤	≤	  
HasDefaultValueSql
≤	≤	 #
(
≤	≤	# $
$str
≤	≤	$ +
)
≤	≤	+ ,
.
≥	≥	 
HasColumnName
≥	≥	 
(
≥	≥	 
$str
≥	≥	 )
)
≥	≥	) *
;
≥	≥	* +
entity
¥	¥	 
.
¥	¥	 
Property
¥	¥	 
(
¥	¥	 
e
¥	¥	 
=>
¥	¥	  
e
¥	¥	! "
.
¥	¥	" #
Bank
¥	¥	# '
)
¥	¥	' (
.
¥	¥	( )
HasColumnName
¥	¥	) 6
(
¥	¥	6 7
$str
¥	¥	7 =
)
¥	¥	= >
;
¥	¥	> ?
entity
µ	µ	 
.
µ	µ	 
Property
µ	µ	 
(
µ	µ	 
e
µ	µ	 
=>
µ	µ	  
e
µ	µ	! "
.
µ	µ	" #
	CreatedAt
µ	µ	# ,
)
µ	µ	, -
.
µ	µ	- .
HasColumnName
µ	µ	. ;
(
µ	µ	; <
$str
µ	µ	< H
)
µ	µ	H I
;
µ	µ	I J
entity
∂	∂	 
.
∂	∂	 
Property
∂	∂	 
(
∂	∂	 
e
∂	∂	 
=>
∂	∂	  
e
∂	∂	! "
.
∂	∂	" #
Credit
∂	∂	# )
)
∂	∂	) *
.
∂	∂	* +
HasColumnName
∂	∂	+ 8
(
∂	∂	8 9
$str
∂	∂	9 A
)
∂	∂	A B
;
∂	∂	B C
entity
∑	∑	 
.
∑	∑	 
Property
∑	∑	 
(
∑	∑	 
e
∑	∑	 
=>
∑	∑	  
e
∑	∑	! "
.
∑	∑	" #
Date
∑	∑	# '
)
∑	∑	' (
.
∑	∑	( )
HasColumnName
∑	∑	) 6
(
∑	∑	6 7
$str
∑	∑	7 =
)
∑	∑	= >
;
∑	∑	> ?
entity
∏	∏	 
.
∏	∏	 
Property
∏	∏	 
(
∏	∏	 
e
∏	∏	 
=>
∏	∏	  
e
∏	∏	! "
.
∏	∏	" #
	DeletedAt
∏	∏	# ,
)
∏	∏	, -
.
∏	∏	- .
HasColumnName
∏	∏	. ;
(
∏	∏	; <
$str
∏	∏	< H
)
∏	∏	H I
;
∏	∏	I J
entity
π	π	 
.
π	π	 
Property
π	π	 
(
π	π	 
e
π	π	 
=>
π	π	  
e
π	π	! "
.
π	π	" #
DepositDate
π	π	# .
)
π	π	. /
.
π	π	/ 0
HasColumnName
π	π	0 =
(
π	π	= >
$str
π	π	> L
)
π	π	L M
;
π	π	M N
entity
∫	∫	 
.
∫	∫	 
Property
∫	∫	 
(
∫	∫	 
e
∫	∫	 
=>
∫	∫	  
e
∫	∫	! "
.
∫	∫	" #
Order
∫	∫	# (
)
∫	∫	( )
.
∫	∫	) *
HasColumnName
∫	∫	* 7
(
∫	∫	7 8
$str
∫	∫	8 ?
)
∫	∫	? @
;
∫	∫	@ A
entity
ª	ª	 
.
ª	ª	 
Property
ª	ª	 
(
ª	ª	 
e
ª	ª	 
=>
ª	ª	  
e
ª	ª	! "
.
ª	ª	" #
PaymentMethod
ª	ª	# 0
)
ª	ª	0 1
.
ª	ª	1 2
HasColumnName
ª	ª	2 ?
(
ª	ª	? @
$str
ª	ª	@ P
)
ª	ª	P Q
;
ª	ª	Q R
entity
º	º	 
.
º	º	 
Property
º	º	 
(
º	º	 
e
º	º	 
=>
º	º	  
e
º	º	! "
.
º	º	" #
Status
º	º	# )
)
º	º	) *
.
Ω	Ω	  
HasDefaultValueSql
Ω	Ω	 #
(
Ω	Ω	# $
$str
Ω	Ω	$ +
)
Ω	Ω	+ ,
.
æ	æ	 
HasColumnName
æ	æ	 
(
æ	æ	 
$str
æ	æ	 '
)
æ	æ	' (
;
æ	æ	( )
entity
ø	ø	 
.
ø	ø	 
Property
ø	ø	 
(
ø	ø	 
e
ø	ø	 
=>
ø	ø	  
e
ø	ø	! "
.
ø	ø	" #
Support
ø	ø	# *
)
ø	ø	* +
.
ø	ø	+ ,
HasColumnName
ø	ø	, 9
(
ø	ø	9 :
$str
ø	ø	: C
)
ø	ø	C D
;
ø	ø	D E
entity
¿	¿	 
.
¿	¿	 
Property
¿	¿	 
(
¿	¿	 
e
¿	¿	 
=>
¿	¿	  
e
¿	¿	! "
.
¿	¿	" #
	UpdatedAt
¿	¿	# ,
)
¿	¿	, -
.
¿	¿	- .
HasColumnName
¿	¿	. ;
(
¿	¿	; <
$str
¿	¿	< H
)
¿	¿	H I
;
¿	¿	I J
entity
¬	¬	 
.
¬	¬	 
HasQueryFilter
¬	¬	 !
(
¬	¬	! "
e
¬	¬	" #
=>
¬	¬	$ &
!
¬	¬	' (
e
¬	¬	( )
.
¬	¬	) *
	DeletedAt
¬	¬	* 3
.
¬	¬	3 4
HasValue
¬	¬	4 <
)
¬	¬	< =
;
¬	¬	= >
}
√	√	 	
)
√	√		 

;
√	√	
 
modelBuilder
≈	≈	 
.
≈	≈	 
Entity
≈	≈	 
<
≈	≈	 
WalletsWithdrawal
≈	≈	 -
>
≈	≈	- .
(
≈	≈	. /
entity
≈	≈	/ 5
=>
≈	≈	6 8
{
∆	∆	 	
entity
«	«	 
.
«	«	 
HasKey
«	«	 
(
«	«	 
e
«	«	 
=>
«	«	 
e
«	«	  
.
«	«	  !
Id
«	«	! #
)
«	«	# $
.
«	«	$ %
HasName
«	«	% ,
(
«	«	, -
$str
«	«	- N
)
«	«	N O
;
«	«	O P
entity
…	…	 
.
…	…	 
ToTable
…	…	 
(
…	…	 
$str
…	…	 0
,
…	…	0 1
$str
…	…	2 B
)
…	…	B C
;
…	…	C D
entity
À	À	 
.
À	À	 
Property
À	À	 
(
À	À	 
e
À	À	 
=>
À	À	  
e
À	À	! "
.
À	À	" #
Id
À	À	# %
)
À	À	% &
.
Ã	Ã	  
HasDefaultValueSql
Ã	Ã	 #
(
Ã	Ã	# $
$str
Ã	Ã	$ T
)
Ã	Ã	T U
.
Õ	Õ	 
HasColumnName
Õ	Õ	 
(
Õ	Õ	 
$str
Õ	Õ	 #
)
Õ	Õ	# $
;
Õ	Õ	$ %
entity
Œ	Œ	 
.
Œ	Œ	 
Property
Œ	Œ	 
(
Œ	Œ	 
e
Œ	Œ	 
=>
Œ	Œ	  
e
Œ	Œ	! "
.
Œ	Œ	" #
AdminObservation
Œ	Œ	# 3
)
Œ	Œ	3 4
.
Œ	Œ	4 5
HasColumnName
Œ	Œ	5 B
(
Œ	Œ	B C
$str
Œ	Œ	C V
)
Œ	Œ	V W
;
Œ	Œ	W X
entity
œ	œ	 
.
œ	œ	 
Property
œ	œ	 
(
œ	œ	 
e
œ	œ	 
=>
œ	œ	  
e
œ	œ	! "
.
œ	œ	" #
AffiliateId
œ	œ	# .
)
œ	œ	. /
.
œ	œ	/ 0
HasColumnName
œ	œ	0 =
(
œ	œ	= >
$str
œ	œ	> L
)
œ	œ	L M
;
œ	œ	M N
entity
–	–	 
.
–	–	 
Property
–	–	 
(
–	–	 
e
–	–	 
=>
–	–	  
e
–	–	! "
.
–	–	" #
AffiliateUserName
–	–	# 4
)
–	–	4 5
.
–	–	5 6
HasColumnName
–	–	6 C
(
–	–	C D
$str
–	–	D Y
)
–	–	Y Z
;
–	–	Z [
entity
—	—	 
.
—	—	 
Property
—	—	 
(
—	—	 
e
—	—	 
=>
—	—	  
e
—	—	! "
.
—	—	" #
Amount
—	—	# )
)
—	—	) *
.
—	—	* +
HasColumnName
—	—	+ 8
(
—	—	8 9
$str
—	—	9 A
)
—	—	A B
;
—	—	B C
entity
“	“	 
.
“	“	 
Property
“	“	 
(
“	“	 
e
“	“	 
=>
“	“	  
e
“	“	! "
.
“	“	" #
	CreatedAt
“	“	# ,
)
“	“	, -
.
“	“	- .
HasColumnName
“	“	. ;
(
“	“	; <
$str
“	“	< H
)
“	“	H I
;
“	“	I J
entity
”	”	 
.
”	”	 
Property
”	”	 
(
”	”	 
e
”	”	 
=>
”	”	  
e
”	”	! "
.
”	”	" #
Date
”	”	# '
)
”	”	' (
.
”	”	( )
HasColumnName
”	”	) 6
(
”	”	6 7
$str
”	”	7 =
)
”	”	= >
;
”	”	> ?
entity
‘	‘	 
.
‘	‘	 
Property
‘	‘	 
(
‘	‘	 
e
‘	‘	 
=>
‘	‘	  
e
‘	‘	! "
.
‘	‘	" #
	DeletedAt
‘	‘	# ,
)
‘	‘	, -
.
‘	‘	- .
HasColumnName
‘	‘	. ;
(
‘	‘	; <
$str
‘	‘	< H
)
‘	‘	H I
;
‘	‘	I J
entity
’	’	 
.
’	’	 
Property
’	’	 
(
’	’	 
e
’	’	 
=>
’	’	  
e
’	’	! "
.
’	’	" #
IsProcessed
’	’	# .
)
’	’	. /
.
’	’	/ 0
HasColumnName
’	’	0 =
(
’	’	= >
$str
’	’	> L
)
’	’	L M
;
’	’	M N
entity
÷	÷	 
.
÷	÷	 
Property
÷	÷	 
(
÷	÷	 
e
÷	÷	 
=>
÷	÷	  
e
÷	÷	! "
.
÷	÷	" #
Observation
÷	÷	# .
)
÷	÷	. /
.
÷	÷	/ 0
HasColumnName
÷	÷	0 =
(
÷	÷	= >
$str
÷	÷	> K
)
÷	÷	K L
;
÷	÷	L M
entity
◊	◊	 
.
◊	◊	 
Property
◊	◊	 
(
◊	◊	 
e
◊	◊	 
=>
◊	◊	  
e
◊	◊	! "
.
◊	◊	" #
ResponseDate
◊	◊	# /
)
◊	◊	/ 0
.
◊	◊	0 1
HasColumnName
◊	◊	1 >
(
◊	◊	> ?
$str
◊	◊	? N
)
◊	◊	N O
;
◊	◊	O P
entity
ÿ	ÿ	 
.
ÿ	ÿ	 
Property
ÿ	ÿ	 
(
ÿ	ÿ	 
e
ÿ	ÿ	 
=>
ÿ	ÿ	  
e
ÿ	ÿ	! "
.
ÿ	ÿ	" #!
RetentionPercentage
ÿ	ÿ	# 6
)
ÿ	ÿ	6 7
.
ÿ	ÿ	7 8
HasColumnName
ÿ	ÿ	8 E
(
ÿ	ÿ	E F
$str
ÿ	ÿ	F \
)
ÿ	ÿ	\ ]
;
ÿ	ÿ	] ^
entity
Ÿ	Ÿ	 
.
Ÿ	Ÿ	 
Property
Ÿ	Ÿ	 
(
Ÿ	Ÿ	 
e
Ÿ	Ÿ	 
=>
Ÿ	Ÿ	  
e
Ÿ	Ÿ	! "
.
Ÿ	Ÿ	" #
Status
Ÿ	Ÿ	# )
)
Ÿ	Ÿ	) *
.
Ÿ	Ÿ	* +
HasColumnName
Ÿ	Ÿ	+ 8
(
Ÿ	Ÿ	8 9
$str
Ÿ	Ÿ	9 A
)
Ÿ	Ÿ	A B
;
Ÿ	Ÿ	B C
entity
⁄	⁄	 
.
⁄	⁄	 
Property
⁄	⁄	 
(
⁄	⁄	 
e
⁄	⁄	 
=>
⁄	⁄	  
e
⁄	⁄	! "
.
⁄	⁄	" #
	UpdatedAt
⁄	⁄	# ,
)
⁄	⁄	, -
.
⁄	⁄	- .
HasColumnName
⁄	⁄	. ;
(
⁄	⁄	; <
$str
⁄	⁄	< H
)
⁄	⁄	H I
;
⁄	⁄	I J
entity
‹	‹	 
.
‹	‹	 
HasQueryFilter
‹	‹	 !
(
‹	‹	! "
e
‹	‹	" #
=>
‹	‹	$ &
!
‹	‹	' (
e
‹	‹	( )
.
‹	‹	) *
	DeletedAt
‹	‹	* 3
.
‹	‹	3 4
HasValue
‹	‹	4 <
)
‹	‹	< =
;
‹	‹	= >
}
›	›	 	
)
›	›		 

;
›	›	
 
modelBuilder
ﬂ	ﬂ	 
.
ﬂ	ﬂ	 
Entity
ﬂ	ﬂ	 
<
ﬂ	ﬂ	  
InvoicesSpResponse
ﬂ	ﬂ	 .
>
ﬂ	ﬂ	. /
(
ﬂ	ﬂ	/ 0
entity
ﬂ	ﬂ	0 6
=>
ﬂ	ﬂ	7 9
{
‡	‡	 	
entity
·	·	 
.
·	·	 
HasNoKey
·	·	 
(
·	·	 
)
·	·	 
;
·	·	 
entity
‚	‚	 
.
‚	‚	 
ToTable
‚	‚	 
(
‚	‚	 
$str
‚	‚	 5
,
‚	‚	5 6
$str
‚	‚	7 G
)
‚	‚	G H
;
‚	‚	H I
}
„	„	 	
)
„	„		 

;
„	„	
 
modelBuilder
Â	Â	 
.
Â	Â	 
Entity
Â	Â	 
<
Â	Â	 
PurchasesPerMonth
Â	Â	 -
>
Â	Â	- .
(
Â	Â	. /
)
Â	Â	/ 0
.
Â	Â	0 1
HasNoKey
Â	Â	1 9
(
Â	Â	9 :
)
Â	Â	: ;
;
Â	Â	; <$
OnModelCreatingPartial
Ê	Ê	 
(
Ê	Ê	 
modelBuilder
Ê	Ê	 +
)
Ê	Ê	+ ,
;
Ê	Ê	, -
}
Á	Á	 
partial
È	È	 
void
È	È	 $
OnModelCreatingPartial
È	È	 '
(
È	È	' (
ModelBuilder
È	È	( 4
modelBuilder
È	È	5 A
)
È	È	A B
;
È	È	B C
}Í	Í	 ·
RC:\HeroSystem\walletService\WalletService.Data\Repositories\ApiClientRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class 
ApiClientRepository  
:! "
BaseRepository# 1
,1 2 
IApiClientRepository3 G
{ 
public		 

ApiClientRepository		 
(		 "
WalletServiceDbContext		 5
context		6 =
)		= >
:		? @
base		A E
(		E F
context		F M
)		M N
{		O P
}		Q R
public 

Task 
< 
bool 
> 
ValidateApiClient '
(' (
string( .
token/ 4
)4 5
=> 

Context 
. 
	ApiClient 
. 
AnyAsync %
(% &
x& '
=>( *
x+ ,
., -
Token- 2
==3 5
token6 ;
); <
;< =
} ä
MC:\HeroSystem\walletService\WalletService.Data\Repositories\BaseRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class 
BaseRepository 
{ 
	protected 
readonly "
WalletServiceDbContext -
Context. 5
;5 6
	protected		 
BaseRepository		 
(		 "
WalletServiceDbContext		 3
context		4 ;
)		; <
=>

 

Context

 
=

 
context

 
;

 
} ⁄
NC:\HeroSystem\walletService\WalletService.Data\Repositories\BonusRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class 
BonusRepository 
: 
BaseRepository -
,- .
IBonusRepository/ ?
{		 
public

 

BonusRepository

 
(

 "
WalletServiceDbContext

 1
context

2 9
)

9 :
:

; <
base

= A
(

A B
context

B I
)

I J
{ 
} 
public 

async 
Task 
< 
int 
> 
CreateBonus &
(& '
BonusRequest' 3
request4 ;
); <
{ 
var 
result 
= 
await 
Context "
." #
Database# +
.+ ,'
ExecuteSqlInterpolatedAsync, G
(G H
$" 
$str 1
{1 2
request2 9
.9 :
	InvoiceId: C
}C D
$strD F
{F G
requestG N
.N O
AffiliateIdO Z
}Z [
$str[ ]
{] ^
request^ e
.e f
Amountf l
}l m
$strm o
{o p
requestp w
.w x
Commentx 
}	 Ä
$str
Ä Ç
"
Ç É
)
É Ñ
;
Ñ Ö
return 
result 
; 
} 
public 

async 
Task 
< 
decimal 
> '
GetBonusAmountByAffiliateId :
(: ;
int; >
affiliateId? J
)J K
{ 
var 
amount 
= 
await 
Context "
." #
Bonuses# *
. 
Where 
( 
x 
=> 
x 
. 
AffiliateId %
==& (
affiliateId) 4
)4 5
. 
Select 
( 
x 
=> 
x 
. 
CurrentAmount (
)( )
. 
FirstOrDefaultAsync  
(  !
)! "
;" #
return 
amount 
; 
} 
}   Ù
NC:\HeroSystem\walletService\WalletService.Data\Repositories\BrandRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class 
BrandRepository 
: 
BaseRepository -
,- .
IBrandRepository/ ?
{		 
public

 

BrandRepository

 
(

 "
WalletServiceDbContext

 1
context

2 9
)

9 :
:

; <
base

= A
(

A B
context

B I
)

I J
{ 
} 
public 

Task 
< 
Brand 
? 
> 
GetBrandByIdAsync )
() *
string* 0
	secretKey1 :
): ;
=> 

Context 
. 
Brand 
. 
FirstOrDefaultAsync ,
(, -
x- .
=>/ 1
x2 3
.3 4
	SecretKey4 =
==> @
	secretKeyA J
)J K
;K L
} ˜G
_C:\HeroSystem\walletService\WalletService.Data\Repositories\CoinPaymentTransactionRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public

 
class

 ,
 CoinPaymentTransactionRepository

 -
:

. /
BaseRepository

0 >
,

> ?-
!ICoinPaymentTransactionRepository

@ a
{ 
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
public 
,
 CoinPaymentTransactionRepository +
(+ ,
IOptions, 4
<4 5$
ApplicationConfiguration5 M
>M N
appSettingsO Z
,Z ["
WalletServiceDbContext 
context &
)& '
:( )
base* .
(. /
context/ 6
)6 7
=> 

_appSettings 
= 
appSettings %
.% &
Value& +
;+ ,
public 

Task 
< 
List 
< "
CoinpaymentTransaction +
>+ ,
>, -(
GetAllCoinPaymentTransaction. J
(J K
longK O
brandIdP W
)W X
=> 

Context 
. 
PaymentTransaction %
.% &
Where& +
(+ ,
x, -
=>. 0
x1 2
.2 3
BrandId3 :
==; =
brandId> E
)E F
.F G
AsNoTrackingG S
(S T
)T U
.U V
ToListAsyncV a
(a b
)b c
;c d
public 

Task 
< "
CoinpaymentTransaction &
?& '
>' (4
(GetCoinPaymentTransactionByIdTransaction) Q
(Q R
stringR X
idTransactionY f
,f g
longh l
brandIdm t
)t u
=> 

Context 
. 
PaymentTransaction %
.% &
FirstOrDefaultAsync& 9
(9 :
e: ;
=>< >
e 
. 
IdTransaction 
== 
idTransaction ,
&&- /
(0 1
brandId1 8
==9 ;
$num< =
||> @
eA B
.B C
BrandIdC J
==K M
brandIdN U
)U V
)V W
;W X
public 

Task 
< "
CoinpaymentTransaction &
?& '
>' (!
GetTransactionByTxnId) >
(> ?
string? E
idTransactionF S
)S T
=> 

Context 
. 
PaymentTransaction %
.% &
FirstOrDefaultAsync& 9
(9 :
e: ;
=>< >
e 
. 
IdTransaction 
== 
idTransaction ,
), -
;- .
public 

async 
Task 
< "
CoinpaymentTransaction ,
?, -
>- .(
CreateCoinPaymentTransaction/ K
(K L"
CoinpaymentTransactionL b
requestc j
)j k
{ 
var 
today 
= 
DateTime 
. 
Now  
;  !
request 
. 
	CreatedAt 
= 
today !
;! "
request   
.   
	UpdatedAt   
=   
today   !
;  ! "
await"" 
Context"" 
."" 
AddAsync"" 
("" 
request"" &
)""& '
;""' (
await## 
Context## 
.## 
SaveChangesAsync## &
(##& '
)##' (
;##( )
return%% 
request%% 
;%% 
}&& 
public(( 

async(( 
Task(( 
<(( 
int(( 
>((  
GetLastTransactionId(( /
(((/ 0
long((0 4
brandId((5 <
)((< =
{)) 
var** 
lastTransaction** 
=** 
await** #
Context**$ +
.**+ ,
PaymentTransaction**, >
.++ 
Where++ 
(++ 
x++ 
=>++ 
x++ 
.++ 
PaymentMethod++ '
==++( *
$str+++ 4
&&++5 7
x++8 9
.++9 :
BrandId++: A
==++B D
brandId++E L
)++L M
.,, 
OrderByDescending,, 
(,, 
t,,  
=>,,! #
t,,$ %
.,,% &
Id,,& (
),,( )
.,,) *
FirstOrDefaultAsync,,* =
(,,= >
),,> ?
;,,? @
return-- 
lastTransaction-- 
!=-- !
null--" &
?--' (
int--) ,
.--, -
Parse--- 2
(--2 3
lastTransaction--3 B
.--B C
IdTransaction--C P
)--P Q
:--R S
$num--T U
;--U V
}.. 
public00 

async00 
Task00 
<00 "
CoinpaymentTransaction00 ,
?00, -
>00- .-
!UpdateCoinPaymentTransactionAsync00/ P
(00P Q"
CoinpaymentTransaction00Q g
request00h o
)00o p
{11 
var22 
today22 
=22 
DateTime22 
.22 
Now22  
;22  !
request33 
.33 
	UpdatedAt33 
=33 
today33 !
;33! "
Context44 
.44 
PaymentTransaction44 "
.44" #
Update44# )
(44) *
request44* 1
)441 2
;442 3
await55 
Context55 
.55 
SaveChangesAsync55 &
(55& '
)55' (
;55( )
return77 
request77 
;77 
}88 
public:: 

Task:: 
<:: 
List:: 
<:: "
CoinpaymentTransaction:: +
>::+ ,
>::, -1
%GetAllUnconfirmedOrUnpaidTransactions::. S
(::S T
long::T X
brandId::Y `
)::` a
{;; 
return<< 
Context<< 
.<< 
PaymentTransaction<< )
.== 
Where== 
(== 
e== 
=>== 
e== 
.== 
Status==  
!===! #
$num==$ '
&&==( *
DateTime==+ 3
.==3 4
Now==4 7
>==8 9
e==: ;
.==; <
	CreatedAt==< E
.==E F
AddHours==F N
(==N O
$num==O P
)==P Q
&&==R T
e==U V
.==V W
BrandId==W ^
====_ a
brandId==b i
)==i j
.>> 
AsNoTracking>> 
(>> 
)>> 
.?? 
ToListAsync?? 
(?? 
)?? 
;?? 
}@@ 
publicBB 

TaskBB 
<BB 
ListBB 
<BB "
CoinpaymentTransactionBB +
>BB+ ,
>BB, -
GetAllWireTransferBB. @
(BB@ A
longBBA E
brandIdBBF M
)BBM N
=>CC 

ContextCC 
.CC 
PaymentTransactionCC %
.CC% &
WhereCC& +
(CC+ ,
xCC, -
=>CC. 0
xCC1 2
.CC2 3
PaymentMethodCC3 @
==CCA C
$strCCD S
&&CCT V
xCCW X
.CCX Y
BrandIdCCY `
==CCa c
brandIdCCd k
)CCk l
.DD 
AsNoTrackingDD 
(DD 
)DD 
.DD 
ToListAsyncDD '
(DD' (
)DD( )
;DD) *
publicFF 

TaskFF 
<FF "
CoinpaymentTransactionFF &
?FF& '
>FF' (%
GetPaymentTransactionByIdFF) B
(FFB C
intFFC F
idFFG I
,FFI J
longFFK O
brandIdFFP W
)FFW X
=>GG 

ContextGG 
.GG 
PaymentTransactionGG %
.GG% &
FirstOrDefaultAsyncGG& 9
(GG9 :
xGG: ;
=>GG< >
xGG? @
.GG@ A
IdGGA C
==GGD F
idGGG I
&&GGJ L
xGGM N
.GGN O
BrandIdGGO V
==GGW Y
brandIdGGZ a
)GGa b
;GGb c
publicII 

TaskII 
<II "
CoinpaymentTransactionII &
?II& '
>II' (%
GetTransactionByReferenceII) B
(IIB C
stringIIC I
	referenceIIJ S
)IIS T
=>JJ 

ContextJJ 
.JJ 
PaymentTransactionJJ %
.JJ% &
FirstOrDefaultAsyncJJ& 9
(JJ9 :
eJJ: ;
=>JJ< >
eJJ? @
.JJ@ A
	ReferenceJJA J
==JJK M
	referenceJJN W
)JJW X
;JJX Y
}KK √
OC:\HeroSystem\walletService\WalletService.Data\Repositories\CreditRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public		 
class		 
CreditRepository		 
(		 
IOptions		 &
<		& '$
ApplicationConfiguration		' ?
>		? @
appSettings		A L
,		L M"
WalletServiceDbContext		N d
context		e l
)		l m
:		n o
BaseRepository		p ~
(		~ 
context			 Ü
)
		Ü á
,
		á à
ICreditRepository
		â ö
{

 
public 

async 
Task 
< 
Credit 
> 
CreateCredit *
(* +
Credit+ 1
credit2 8
)8 9
{ 
var 
today 
= 
DateTime 
. 
Now  
;  !
credit 
. 
	CreatedAt 
= 
today  
;  !
credit 
. 
	UpdatedAt 
= 
today  
;  !
await 
Context 
. 
Credits 
. 
AddAsync &
(& '
credit' -
)- .
;. /
return 
credit 
; 
} 
} Â5
]C:\HeroSystem\walletService\WalletService.Data\Repositories\EcoPoolConfigurationRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public		 
class		 *
EcoPoolConfigurationRepository		 +
:		, -
BaseRepository		. <
,		< =+
IEcoPoolConfigurationRepository		> ]
{

 
public 
*
EcoPoolConfigurationRepository )
() *"
WalletServiceDbContext* @
contextA H
)H I
:J K
baseL P
(P Q
contextQ X
)X Y
{Z [
}\ ]
public 

Task 
< 
ModelConfiguration "
?" #
># $"
GetConfigurationByType% ;
(; <
string< B
	modelTypeC L
)L M
=> 

Context 
. 
ModelConfiguration %
.% &
Include& -
(- .
x. /
=>0 2
x3 4
.4 5$
ModelConfigurationLevels5 M
)M N
.N O
FirstOrDefaultAsyncO b
(b c
xc d
=>e g
!h i
xi j
.j k
CompletedAtk v
.v w
HasValuew 
&&
Ä Ç
x
É Ñ
.
Ñ Ö
	ModelType
Ö é
==
è ë
	modelType
í õ
)
õ ú
;
ú ù
public 

Task 
< 
ModelConfiguration "
?" #
># $
GetConfiguration% 5
(5 6
)6 7
=> 

Context 
. 
ModelConfiguration %
.% &
Include& -
(- .
x. /
=>0 2
x3 4
.4 5$
ModelConfigurationLevels5 M
)M N
.N O
FirstOrDefaultAsyncO b
(b c
xc d
=>e g
!h i
xi j
.j k
CompletedAtk v
.v w
HasValuew 
&&
Ä Ç
x
É Ñ
.
Ñ Ö
	ModelType
Ö é
==
è ë$
ModelTypeConfiguration
í ®
.
® ©
Model_2
© ∞
.
∞ ±
ToString
± π
(
π ∫
)
∫ ª
)
ª º
;
º Ω
public 

Task 
< 
ModelConfiguration "
>" #!
GetProgressPercentage$ 9
(9 :
int: =
configurationId> M
)M N
{ 
return 
Context 
. 
ModelConfiguration )
. 

FirstAsync 
( 
x 
=> 
x 
. 
Id !
==" $
configurationId% 4
)4 5
;5 6
} 
public 

async 
Task 
< 
ModelConfiguration (
>( )
CreateConfiguration* =
(= >
ModelConfiguration> P
poolConfigurationQ b
)b c
{ 
poolConfiguration 
. 
	UpdatedAt #
=$ %
DateTime& .
.. /
Now/ 2
;2 3
poolConfiguration 
. 
	CreatedAt #
=$ %
DateTime& .
.. /
Now/ 2
;2 3
await 
Context 
. 
ModelConfiguration (
.( )
AddAsync) 1
(1 2
poolConfiguration2 C
)C D
;D E
await   
Context   
.   
SaveChangesAsync   &
(  & '
)  ' (
;  ( )
return"" 
poolConfiguration""  
;""  !
}## 
public%% 

Task%% %
CreateConfigurationLevels%% )
(%%) *
IEnumerable%%* 5
<%%5 6#
ModelConfigurationLevel%%6 M
>%%M N
levels%%O U
)%%U V
{&& 
Context'' 
.'' $
ModelConfigurationLevels'' (
.''( )
AddRange'') 1
(''1 2
levels''2 8
)''8 9
;''9 :
return)) 
Context)) 
.)) 
SaveChangesAsync)) '
())' (
)))( )
;))) *
}** 
public,, 

Task,, %
UpdateConfigurationLevels,, )
(,,) *
IEnumerable,,* 5
<,,5 6#
ModelConfigurationLevel,,6 M
>,,M N
levels,,O U
),,U V
{-- 
Context.. 
... $
ModelConfigurationLevels.. (
...( )
UpdateRange..) 4
(..4 5
levels..5 ;
)..; <
;..< =
return00 
Context00 
.00 
SaveChangesAsync00 '
(00' (
)00( )
;00) *
}11 
public33 

async33 
Task33 
<33 
ModelConfiguration33 (
>33( )
UpdateConfiguration33* =
(33= >
ModelConfiguration33> P
poolConfiguration33Q b
)33b c
{44 
poolConfiguration55 
.55 
	UpdatedAt55 #
=55$ %
DateTime55& .
.55. /
Now55/ 2
;552 3
Context77 
.77 
ModelConfiguration77 "
.77" #
Update77# )
(77) *
poolConfiguration77* ;
)77; <
;77< =
await88 
Context88 
.88 
SaveChangesAsync88 &
(88& '
)88' (
;88( )
return:: 
poolConfiguration::  
;::  !
};; 
public== 

async== 
Task== (
DeleteAllLevelsConfiguration== 2
(==2 3
long==3 7
configurationId==8 G
)==G H
{>> 
var?? 
entities?? 
=?? 
await?? 
Context?? $
.??$ %$
ModelConfigurationLevels??% =
.??= >
Where??> C
(??C D
x??D E
=>??F H
x??I J
.??J K"
EcopoolConfigurationId??K a
==??b d
configurationId??e t
)??t u
.??u v
ToListAsync	??v Å
(
??Å Ç
)
??Ç É
;
??É Ñ
if@@ 

(@@ 
entities@@ 
is@@ 
{@@ 
Count@@ 
:@@  
>@@! "
$num@@# $
}@@% &
)@@& '
ContextAA 
.AA $
ModelConfigurationLevelsAA ,
.AA, -
RemoveRangeAA- 8
(AA8 9
entitiesAA9 A
)AAA B
;AAB C
}BB 
}DD Ö3
VC:\HeroSystem\walletService\WalletService.Data\Repositories\InvoiceDetailRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class #
InvoiceDetailRepository $
:% &
BaseRepository' 5
,5 6$
IInvoiceDetailRepository7 O
{		 
public

 
#
InvoiceDetailRepository

 "
(

" #"
WalletServiceDbContext

# 9
context

: A
)

A B
:

C D
base

E I
(

I J
context

J Q
)

Q R
{

S T
}

U V
public 

Task 
< 
List 
< 
InvoicesDetail #
># $
>$ %$
GetAllInvoiceDetailAsync& >
(> ?
)? @
=> 

Context 
. 
InvoicesDetails "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
	DeletedAt0 9
==: <
null= A
)A B
.B C
AsNoTrackingC O
(O P
)P Q
.Q R
ToListAsyncR ]
(] ^
)^ _
;_ `
public 

Task 
< 
List 
< 
InvoicesDetail #
># $
>$ %,
 GetInvoiceDetailByInvoiceIdAsync& F
(F G
longG K
	invoiceIdL U
)U V
=> 

Context 
. 
InvoicesDetails "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
	InvoiceId0 9
==: <
	invoiceId= F
)F G
.G H
ToListAsyncH S
(S T
)T U
;U V
public 

async 
Task 
< 
InvoicesDetail $
>$ %$
CreateInvoiceDetailAsync& >
(> ?
InvoicesDetail? M
invoiceN U
)U V
{ 
var 
today 
= 
DateTime 
. 
Now  
;  !
invoice 
. 
	CreatedAt 
= 
today !
;! "
invoice 
. 
	UpdatedAt 
= 
today !
;! "
await 
Context 
. 
AddAsync 
( 
invoice &
)& '
;' (
await 
Context 
. 
SaveChangesAsync &
(& '
)' (
;( )
return 
invoice 
; 
} 
public 

async 
Task 
< 
List 
< 
InvoicesDetail )
>) *
>* +(
CreateBulkInvoiceDetailAsync, H
(H I
ListI M
<M N
InvoicesDetailN \
>\ ]
requests^ f
)f g
{ 
const 
int 
take 
=  
$num! %
;% &
var   
packageCount   
=    
requests  ! )
.  ) *
Count  * /
/  0 1
take  2 6
;  6 7
for"" 
("" 
var"" 
i"" 
="" 
$num"" 
;"" 
i"" 
<"" 
packageCount"" (
;""( )
i""* +
++""+ -
)""- .
{## 	
var$$ 
packageList$$ 
=$$ 
requests$$ &
.$$& '
Skip$$' +
($$+ ,
i$$, -
*$$. /
take$$0 4
)$$4 5
.$$5 6
Take$$6 :
($$: ;
take$$; ?
)$$? @
.$$@ A
ToList$$A G
($$G H
)$$H I
;$$I J
Context%% 
.%% 
InvoicesDetails%% #
.%%# $
UpdateRange%%$ /
(%%/ 0
packageList%%0 ;
)%%; <
;%%< =
}&& 	
await(( 
Context(( 
.(( 
SaveChangesAsync(( &
(((& '
)((' (
;((( )
return** 
requests** 
;** 
}++ 
public,, 

async,, 
Task,, 
<,, 
List,, 
<,, 
InvoicesDetail,, )
>,,) *
>,,* +(
DeleteBulkInvoiceDetailAsync,,, H
(,,H I
List,,I M
<,,M N
InvoicesDetail,,N \
>,,\ ]
requests,,^ f
),,f g
{-- 
var.. 
today.. 
=.. 
DateTime.. 
... 
Now..  
;..  !
foreach// 
(// 
var// 
item// 
in// 
requests// %
)//% &
{00 	
item11 
.11 
	UpdatedAt11 
=11 
today11 "
;11" #
item22 
.22 
	DeletedAt22 
=22 
today22 "
;22" #
}33 	
const55 
int55 
take55 
=55  
$num55! %
;55% &
var66 
packageCount66 
=66  
requests66! )
.66) *
Count66* /
/660 1
take662 6
;666 7
for88 
(88 
var88 
i88 
=88 
$num88 
;88 
i88 
<88 
packageCount88 (
;88( )
i88* +
++88+ -
)88- .
{99 	
var:: 
packageList:: 
=:: 
requests:: &
.::& '
Skip::' +
(::+ ,
i::, -
*::. /
take::0 4
)::4 5
.::5 6
Take::6 :
(::: ;
take::; ?
)::? @
.::@ A
ToList::A G
(::G H
)::H I
;::I J
Context<< 
.<< 
InvoicesDetails<< #
.<<# $
UpdateRange<<$ /
(<</ 0
packageList<<0 ;
)<<; <
;<<< =
}== 	
await?? 
Context?? 
.?? 
SaveChangesAsync?? &
(??& '
)??' (
;??( )
returnAA 
requestsAA 
;AA 
}BB 
}DD Üé
PC:\HeroSystem\walletService\WalletService.Data\Repositories\InvoiceRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class 
InvoiceRepository 
:  
BaseRepository! /
,/ 0
IInvoiceRepository1 C
{ 
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
public 

InvoiceRepository 
( 
IOptions %
<% &$
ApplicationConfiguration& >
>> ?
appSettings@ K
,K L"
WalletServiceDbContextM c
contextd k
)k l
:m n
base 
( 
context 
) 
=> 

_appSettings 
= 
appSettings %
.% &
Value& +
;+ ,
public 

Task 
< 
int 
> &
CountDetailsByPaymentGroup /
(/ 0
int0 3
paymentGroupId4 B
,B C
intD G
userIdH N
,N O
longP T
brandIdU \
)\ ]
=> 

Context 
. 
InvoicesDetails "
." #
Where# (
(( )
x) *
=> 
! 
x 
. 
Invoice 
. 
CancellationDate *
.* +
HasValue+ 3
&&4 6
x7 8
.8 9
Invoice9 @
.@ A
StatusA G
&&H J
x   
.   
Invoice   
.   
AffiliateId   $
==  % '
userId  ( .
&&  / 1
x!! 
.!! 
PaymentGroupId!! 
==!!  "
paymentGroupId!!# 1
&&!!2 4
x!!5 6
.!!6 7
BrandId!!7 >
==!!? A
brandId!!B I
)!!I J
.!!J K

CountAsync!!K U
(!!U V
)!!V W
;!!W X
public## 

Task## 
<## 
int## 
>## ,
 CountDetailsModel3ByPaymentGroup## 5
(##5 6
int##6 9
userId##: @
,##@ A
long##B F
brandId##G N
)##N O
=>$$ 

Context$$ 
.$$ 
InvoicesDetails$$ "
.$$" #
Where$$# (
($$( )
x$$) *
=>%% 
!%% 
x%% 
.%% 
Invoice%% 
.%% 
CancellationDate%% *
.%%* +
HasValue%%+ 3
&&%%4 6
x%%7 8
.%%8 9
Invoice%%9 @
.%%@ A
Status%%A G
&&%%H J
x&& 
.&& 
Invoice&& 
.&& 
AffiliateId&& $
==&&% '
userId&&( .
&&&&/ 1
new'' 
['' 
]'' 
{'' 
$num'' 
,'' 
$num'' 
}'' 
.'' 
Contains'' &
(''& '
x''' (
.''( )
PaymentGroupId'') 7
)''7 8
&&''9 ;
x''< =
.''= >
BrandId''> E
==''F H
brandId''I P
)''P Q
.''Q R

CountAsync''R \
(''\ ]
)''] ^
;''^ _
public)) 

Task)) 
<)) 
List)) 
<)) 
ModelFourStatistic)) '
>))' (
>))( )"
Model4StatisticsByUser))* @
())@ A
int))A D
userId))E K
)))K L
=>** 

Context** 
.** 
ModelFourStatistics** &
.**& '
Where**' ,
(**, -
x**- .
=>**/ 1
x**2 3
.**3 4
AffiliateId**4 ?
==**@ B
userId**C I
)**I J
.**J K
ToListAsync**K V
(**V W
)**W X
;**X Y
public,, 

Task,, 
<,, 
List,, 
<,, 
Invoice,, 
>,, 
>,, 
GetAllInvoicesUser,, 1
(,,1 2
int,,2 5
id,,6 8
,,,8 9
long,,: >
brandId,,? F
),,F G
=>-- 

Context-- 
.-- 
Invoices-- 
.-- 
Include-- #
(--# $
x--$ %
=>--& (
x--) *
.--* +
InvoicesDetails--+ :
)--: ;
.--; <
Where--< A
(--A B
x--B C
=>--D F
x--G H
.--H I
AffiliateId--I T
==--U W
id--X Z
&&--[ ]
x--^ _
.--_ `
BrandId--` g
==--h j
brandId--k r
)--r s
... 
AsNoTracking.. 
(.. 
).. 
... 
ToListAsync.. '
(..' (
)..( )
;..) *
public00 

async00 
Task00 
<00 
PaginationDto00 #
<00# $
Invoice00$ +
>00+ ,
>00, -
GetAllInvoices00. <
(00< =
long00= A
brandId00B I
,00I J
PaginationRequest00K \
request00] d
)00d e
{11 
var22 
query22 
=22 
Context22 
.22 
Invoices22 $
.33 
Include33 
(33 
x33 
=>33 
x33 
.33 
InvoicesDetails33 +
)33+ ,
.44 
Where44 
(44 
x44 
=>44 
x44 
.44 
BrandId44 !
==44" $
brandId44% ,
)44, -
;44- .
if66 

(66 
request66 
.66 
	StartDate66 
.66 
HasValue66 &
)66& '
{77 	
query88 
=88 
query88 
.88 
Where88 
(88  
x88  !
=>88" $
x88% &
.88& '
	CreatedAt88' 0
>=881 3
request884 ;
.88; <
	StartDate88< E
.88E F
Value88F K
)88K L
;88L M
}99 	
if;; 

(;; 
request;; 
.;; 
EndDate;; 
.;; 
HasValue;; $
);;$ %
{<< 	
query== 
=== 
query== 
.== 
Where== 
(==  
x==  !
=>==" $
x==% &
.==& '
	CreatedAt==' 0
<===1 3
request==4 ;
.==; <
EndDate==< C
.==C D
Value==D I
.==I J
AddDays==J Q
(==Q R
$num==R S
)==S T
.==T U
AddTicks==U ]
(==] ^
-==^ _
$num==_ `
)==` a
)==a b
;==b c
}>> 	
var@@ 

totalCount@@ 
=@@ 
await@@ 
query@@ $
.@@$ %

CountAsync@@% /
(@@/ 0
)@@0 1
;@@1 2
varAA 
itemsAA 
=AA 
awaitAA 
queryAA 
.BB 
OrderByDescendingBB 
(BB 
xBB  
=>BB! #
xBB$ %
.BB% &
	CreatedAtBB& /
)BB/ 0
.CC 
SkipCC 
(CC 
(CC 
requestCC 
.CC 

PageNumberCC %
-CC& '
$numCC( )
)CC) *
*CC+ ,
requestCC- 4
.CC4 5
PageSizeCC5 =
)CC= >
.DD 
TakeDD 
(DD 
requestDD 
.DD 
PageSizeDD "
)DD" #
.EE 
AsNoTrackingEE 
(EE 
)EE 
.FF 
ToListAsyncFF 
(FF 
)FF 
;FF 
returnHH 
newHH 
PaginationDtoHH  
<HH  !
InvoiceHH! (
>HH( )
{II 	
CurrentPageJJ 
=JJ 
requestJJ !
.JJ! "

PageNumberJJ" ,
,JJ, -
PageSizeKK 
=KK 
requestKK 
.KK 
PageSizeKK '
,KK' (

TotalCountLL 
=LL 

totalCountLL #
,LL# $

TotalPagesMM 
=MM 
(MM 
intMM 
)MM 
MathMM "
.MM" #
CeilingMM# *
(MM* +

totalCountMM+ 5
/MM6 7
(MM8 9
doubleMM9 ?
)MM? @
requestMM@ G
.MMG H
PageSizeMMH P
)MMP Q
,MMQ R
ItemsNN 
=NN 
itemsNN 
}OO 	
;OO	 

}PP 
publicRR 

TaskRR 
<RR 
InvoiceRR 
?RR 
>RR 
GetInvoiceByIdRR (
(RR( )
longRR) -
idRR. 0
,RR0 1
longRR2 6
brandIdRR7 >
)RR> ?
=>SS 

ContextSS 
.SS 
InvoicesSS 
.SS 
IncludeSS #
(SS# $
eSS$ %
=>SS& (
eSS) *
.SS* +
InvoicesDetailsSS+ :
)SS: ;
.TT 
FirstOrDefaultAsyncTT  
(TT  !
xTT! "
=>TT# %
xTT& '
.TT' (
IdTT( *
==TT+ -
idTT. 0
&&TT1 3
xTT4 5
.TT5 6
BrandIdTT6 =
==TT> @
brandIdTTA H
)TTH I
;TTI J
publicVV 

TaskVV 
<VV 
InvoiceVV 
?VV 
>VV %
GetInvoiceByReceiptNumberVV 3
(VV3 4
stringVV4 :
receiptNumberVV; H
,VVH I
longVVJ N
brandIdVVO V
)VVV W
=>WW 

ContextWW 
.WW 
InvoicesWW 
.WW 
IncludeWW #
(WW# $
xWW$ %
=>WW& (
xWW) *
.WW* +
InvoicesDetailsWW+ :
)WW: ;
.XX 
FirstOrDefaultAsyncXX  
(XX  !
eXX! "
=>XX# %
eXX& '
.XX' (
ReceiptNumberXX( 5
==XX6 8
receiptNumberXX9 F
&&XXG I
eXXJ K
.XXK L
BrandIdXXL S
==XXT V
brandIdXXW ^
)XX^ _
;XX_ `
publicZZ 

TaskZZ 
<ZZ 
boolZZ 
>ZZ (
InvoiceExistsByReceiptNumberZZ 2
(ZZ2 3
stringZZ3 9
idTransactionZZ: G
,ZZG H
longZZI M
brandIdZZN U
)ZZU V
=>[[ 

Context[[ 
.[[ 
Invoices[[ 
.\\ 
AnyAsync\\ 
(\\ 
e\\ 
=>\\ 
e\\ 
.\\ 
ReceiptNumber\\ *
==\\+ -
idTransaction\\. ;
&&\\< >
e\\? @
.\\@ A
BrandId\\A H
==\\I K
brandId\\L S
)\\S T
;\\T U
public^^ 

async^^ 
Task^^ 
<^^ 
Invoice^^ 
>^^ 
CreateInvoiceAsync^^ 1
(^^1 2
Invoice^^2 9
invoice^^: A
)^^A B
{__ 
var`` 
today`` 
=`` 
DateTime`` 
.`` 
Now``  
;``  !
invoiceaa 
.aa 
	CreatedAtaa 
=aa 
todayaa !
;aa! "
invoicebb 
.bb 
	UpdatedAtbb 
=bb 
todaybb !
;bb! "
awaitdd 
Contextdd 
.dd 
AddAsyncdd 
(dd 
invoicedd &
)dd& '
;dd' (
awaitee 
Contextee 
.ee 
SaveChangesAsyncee &
(ee& '
)ee' (
;ee( )
returngg 
invoicegg 
;gg 
}hh 
publicjj 

asyncjj 
Taskjj 
<jj 
Invoicejj 
>jj 
DeleteInvoiceAsyncjj 1
(jj1 2
Invoicejj2 9
invoicejj: A
)jjA B
{kk 
varll 
todayll 
=ll 
DateTimell 
.ll 
Nowll  
;ll  !
invoicemm 
.mm 
	DeletedAtmm 
=mm 
todaymm !
;mm! "
invoicenn 
.nn 
	UpdatedAtnn 
=nn 
todaynn !
;nn! "
invoiceoo 
.oo 
CancellationDateoo  
=oo! "
todayoo# (
;oo( )
invoicepp 
.pp 
Statuspp 
=pp 
falsepp 
;pp 
Contextrr 
.rr 
Updaterr 
(rr 
invoicerr 
)rr 
;rr  
awaitss 
Contextss 
.ss 
SaveChangesAsyncss &
(ss& '
)ss' (
;ss( )
returnuu 
invoiceuu 
;uu 
}vv 
publicxx 

asyncxx 
Taskxx 
<xx 
Listxx 
<xx 
Invoicexx "
>xx" #
>xx# $1
%DeleteMultipleInvoicesAndDetailsAsyncxx% J
(xxJ K
longxxK O
[xxO P
]xxP Q

invoiceIdsxxR \
,xx\ ]
longxx^ b
brandIdxxc j
)xxj k
{yy 
varzz 
todayzz 
=zz 
DateTimezz 
.zz 
Nowzz  
;zz  !
var|| 
invoices|| 
=|| 
await|| 
Context|| $
.||$ %
Invoices||% -
.}} 
Include}} 
(}} 
i}} 
=>}} 
i}} 
.}} 
InvoicesDetails}} +
)}}+ ,
.~~ 
Where~~ 
(~~ 
i~~ 
=>~~ 

invoiceIds~~ "
.~~" #
Contains~~# +
(~~+ ,
i~~, -
.~~- .
Id~~. 0
)~~0 1
&&~~2 4
i~~5 6
.~~6 7
BrandId~~7 >
==~~? A
brandId~~B I
)~~I J
. 
ToListAsync 
( 
) 
; 
if
ÅÅ 

(
ÅÅ 
!
ÅÅ 
invoices
ÅÅ 
.
ÅÅ 
Any
ÅÅ 
(
ÅÅ 
)
ÅÅ 
)
ÅÅ 
{
ÇÇ 	
return
ÉÉ 
null
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
foreach
ÜÜ 
(
ÜÜ 
var
ÜÜ 
invoice
ÜÜ 
in
ÜÜ 
invoices
ÜÜ  (
)
ÜÜ( )
{
áá 	
invoice
àà 
.
àà 
	DeletedAt
àà 
=
àà 
today
àà  %
;
àà% &
invoice
ââ 
.
ââ 
	UpdatedAt
ââ 
=
ââ 
today
ââ  %
;
ââ% &
invoice
ää 
.
ää 
CancellationDate
ää $
=
ää% &
today
ää' ,
;
ää, -
invoice
ãã 
.
ãã 
Status
ãã 
=
ãã 
false
ãã "
;
ãã" #
foreach
çç 
(
çç 
var
çç 
detail
çç 
in
çç  "
invoice
çç# *
.
çç* +
InvoicesDetails
çç+ :
)
çç: ;
{
éé 
detail
èè 
.
èè 
	DeletedAt
èè  
=
èè! "
today
èè# (
;
èè( )
detail
êê 
.
êê 
	UpdatedAt
êê  
=
êê! "
today
êê# (
;
êê( )
}
ëë 
}
íí 	
await
îî 
Context
îî 
.
îî 
SaveChangesAsync
îî &
(
îî& '
)
îî' (
;
îî( )
return
ññ 
invoices
ññ 
;
ññ 
}
óó 
public
ôô 

async
ôô 
Task
ôô 
<
ôô  
InvoicesSpResponse
ôô (
?
ôô( )
>
ôô) *$
HandleDebitTransaction
ôô+ A
(
ôôA B%
DebitTransactionRequest
ôôB Y
request
ôôZ a
)
ôôa b
{
öö #
ArgumentNullException
õõ 
.
õõ 
ThrowIfNull
õõ )
(
õõ) *
request
õõ* 1
,
õõ1 2
nameof
õõ3 9
(
õõ9 :
request
õõ: A
)
õõA B
)
õõB C
;
õõC D
try
ùù 
{
ûû 	
var
üü 

parameters
üü 
=
üü 
CreateParameters
üü -
(
üü- .
request
üü. 5
)
üü5 6
;
üü6 7
const
†† 
string
†† 
sql
†† 
=
†† 
$str
†¶ 
;
¶¶ 
return
®® 
await
®® 
Context
®®  
.
®®  !!
InvoicesSpResponses
®®! 4
.
©© 

FromSqlRaw
©© 
(
©© 
sql
©© 
,
©©  

parameters
©©! +
.
©©+ ,
ToArray
©©, 3
(
©©3 4
)
©©4 5
)
©©5 6
.
™™ 
AsNoTracking
™™ 
(
™™ 
)
™™ 
.
´´ !
FirstOrDefaultAsync
´´ $
(
´´$ %
)
´´% &
;
´´& '
}
¨¨ 	
catch
≠≠ 
(
≠≠ 
	Exception
≠≠ 
ex
≠≠ 
)
≠≠ 
{
ÆÆ 	
throw
ØØ 
new
ØØ 
	Exception
ØØ 
(
ØØ  
$str
ØØ  D
,
ØØD E
ex
ØØF H
)
ØØH I
;
ØØI J
}
∞∞ 	
}
±± 
private
≥≥ 
static
≥≥ 
List
≥≥ 
<
≥≥ 
NpgsqlParameter
≥≥ '
>
≥≥' (
CreateParameters
≥≥) 9
(
≥≥9 :%
DebitTransactionRequest
≥≥: Q
request
≥≥R Y
)
≥≥Y Z
{
¥¥ 
var
µµ !
invoicesDetailsJson
µµ 
=
µµ  !
JsonConvert
µµ" -
.
µµ- .
SerializeObject
µµ. =
(
µµ= >
request
µµ> E
.
µµE F
invoices
µµF N
)
µµN O
;
µµO P
return
∑∑ 
new
∑∑ 
List
∑∑ 
<
∑∑ 
NpgsqlParameter
∑∑ '
>
∑∑' (
{
∏∏ 	
new
ππ 
(
ππ 
$str
ππ  
,
ππ  !
NpgsqlDbType
ππ" .
.
ππ. /
Integer
ππ/ 6
)
ππ6 7
{
ππ8 9
Value
ππ: ?
=
ππ@ A
request
ππB I
.
ππI J
AffiliateId
ππJ U
}
ππV W
,
ππW X
new
∫∫ 
(
∫∫ 
$str
∫∫ 
,
∫∫ 
NpgsqlDbType
∫∫ )
.
∫∫) *
Integer
∫∫* 1
)
∫∫1 2
{
∫∫3 4
Value
∫∫5 :
=
∫∫; <
request
∫∫= D
.
∫∫D E
UserId
∫∫E K
}
∫∫L M
,
∫∫M N
new
ªª 
(
ªª 
$str
ªª 
,
ªª 
NpgsqlDbType
ªª )
.
ªª) *
Varchar
ªª* 1
)
ªª1 2
{
ªª3 4
Value
ªª5 :
=
ªª; <
request
ªª= D
.
ªªD E
Concept
ªªE L
}
ªªM N
,
ªªN O
new
ºº 
(
ºº 
$str
ºº 
,
ºº 
NpgsqlDbType
ºº (
.
ºº( )
Numeric
ºº) 0
)
ºº0 1
{
ºº2 3
Value
ºº4 9
=
ºº: ;
request
ºº< C
.
ººC D
Points
ººD J
}
ººK L
,
ººL M
new
ΩΩ 
(
ΩΩ 
$str
ΩΩ "
,
ΩΩ" #
NpgsqlDbType
ΩΩ$ 0
.
ΩΩ0 1
Numeric
ΩΩ1 8
)
ΩΩ8 9
{
ΩΩ: ;
Value
ΩΩ< A
=
ΩΩB C
request
ΩΩD K
.
ΩΩK L
Commissionable
ΩΩL Z
}
ΩΩ[ \
,
ΩΩ\ ]
new
ææ 
(
ææ 
$str
ææ "
,
ææ" #
NpgsqlDbType
ææ$ 0
.
ææ0 1
Varchar
ææ1 8
)
ææ8 9
{
ææ: ;
Value
ææ< A
=
ææB C
request
ææD K
.
ææK L
PaymentMethod
ææL Y
}
ææZ [
,
ææ[ \
new
øø 
(
øø 
$str
øø 
,
øø 
NpgsqlDbType
øø (
.
øø( )
Smallint
øø) 1
)
øø1 2
{
øø3 4
Value
øø5 :
=
øø; <
request
øø= D
.
øøD E
Origin
øøE K
}
øøL M
,
øøM N
new
¿¿ 
(
¿¿ 
$str
¿¿ 
,
¿¿ 
NpgsqlDbType
¿¿ '
.
¿¿' (
Integer
¿¿( /
)
¿¿/ 0
{
¿¿1 2
Value
¿¿3 8
=
¿¿9 :
request
¿¿; B
.
¿¿B C
Level
¿¿C H
}
¿¿I J
,
¿¿J K
new
¡¡ 
(
¡¡ 
$str
¡¡ 
,
¡¡ 
NpgsqlDbType
¡¡ '
.
¡¡' (
Numeric
¡¡( /
)
¡¡/ 0
{
¡¡1 2
Value
¡¡3 8
=
¡¡9 :
request
¡¡; B
.
¡¡B C
Debit
¡¡C H
}
¡¡I J
,
¡¡J K
new
¬¬ 
(
¬¬ 
$str
¬¬ '
,
¬¬' (
NpgsqlDbType
¬¬) 5
.
¬¬5 6
Varchar
¬¬6 =
)
¬¬= >
{
¬¬? @
Value
¬¬A F
=
¬¬G H
request
¬¬I P
.
¬¬P Q
AffiliateUserName
¬¬Q b
}
¬¬c d
,
¬¬d e
new
√√ 
(
√√ 
$str
√√ #
,
√√# $
NpgsqlDbType
√√% 1
.
√√1 2
Varchar
√√2 9
)
√√9 :
{
√√; <
Value
√√= B
=
√√C D
request
√√E L
.
√√L M
AdminUserName
√√M Z
}
√√[ \
,
√√\ ]
new
ƒƒ 
(
ƒƒ 
$str
ƒƒ  
,
ƒƒ  !
NpgsqlDbType
ƒƒ" .
.
ƒƒ. /
Varchar
ƒƒ/ 6
)
ƒƒ6 7
{
ƒƒ8 9
Value
ƒƒ: ?
=
ƒƒ@ A
request
ƒƒB I
.
ƒƒI J
ConceptType
ƒƒJ U
}
ƒƒV W
,
ƒƒW X
new
≈≈ 
(
≈≈ 
$str
≈≈ $
,
≈≈$ %
NpgsqlDbType
≈≈& 2
.
≈≈2 3
Jsonb
≈≈3 8
)
≈≈8 9
{
≈≈: ;
Value
≈≈< A
=
≈≈B C!
invoicesDetailsJson
≈≈D W
}
≈≈X Y
,
≈≈Y Z
new
∆∆ 
(
∆∆ 
$str
∆∆ 
,
∆∆ 
NpgsqlDbType
∆∆ *
.
∆∆* +
Integer
∆∆+ 2
)
∆∆2 3
{
∆∆4 5
Value
∆∆6 ;
=
∆∆< =
request
∆∆> E
.
∆∆E F
BrandId
∆∆F M
}
∆∆N O
,
∆∆O P
new
«« 
(
«« 
$str
«« 
,
«« 
NpgsqlDbType
«« &
.
««& '
Varchar
««' .
)
««. /
{
««0 1
Value
««2 7
=
««8 9
request
««: A
.
««A B
Bank
««B F
??
««G I
string
««J P
.
««P Q
Empty
««Q V
}
««W X
,
««X Y
new
»» 
(
»» 
$str
»» "
,
»»" #
NpgsqlDbType
»»$ 0
.
»»0 1
Varchar
»»1 8
)
»»8 9
{
»»: ;
Value
»»< A
=
»»B C
request
»»D K
.
»»K L
ReceiptNumber
»»L Y
??
»»Z \
string
»»] c
.
»»c d
Empty
»»d i
}
»»j k
,
»»k l
new
…… 
(
…… 
$str
…… 
,
…… 
NpgsqlDbType
…… &
.
……& '
Boolean
……' .
)
……. /
{
……0 1
Value
……2 7
=
……8 9
request
……: A
.
……A B
Type
……B F
}
……G H
,
……H I
new
   
(
   
$str
   
,
   
NpgsqlDbType
    ,
.
  , -
Varchar
  - 4
)
  4 5
{
  6 7
Value
  8 =
=
  > ?
request
  @ G
.
  G H
	SecretKey
  H Q
??
  R T
string
  U [
.
  [ \
Empty
  \ a
}
  b c
,
  c d
new
ÀÀ 
(
ÀÀ 
$str
ÀÀ 
,
ÀÀ 
NpgsqlDbType
ÀÀ (
.
ÀÀ( )
Varchar
ÀÀ) 0
)
ÀÀ0 1
{
ÀÀ2 3
Value
ÀÀ4 9
=
ÀÀ: ;
request
ÀÀ< C
.
ÀÀC D
Reason
ÀÀD J
??
ÀÀK M
string
ÀÀN T
.
ÀÀT U
Empty
ÀÀU Z
}
ÀÀ[ \
}
ÃÃ 	
;
ÃÃ	 

}
ÕÕ 
private
œœ 
void
œœ '
CreateDebitListParameters
œœ *
(
œœ* +%
DebitTransactionRequest
œœ+ B
request
œœC J
,
œœJ K
	DataTable
œœL U
dataTableDetails
œœV f
,
œœf g

SqlCommand
œœh r
cmd
œœs v
)
œœv w
{
–– 
cmd
—— 
.
—— 
CommandType
—— 
=
—— 
CommandType
—— %
.
——% &
StoredProcedure
——& 5
;
——5 6
cmd
““ 
.
““ 

Parameters
““ 
.
““ 
Add
““ 
(
““ 
new
““ 
SqlParameter
““ +
(
““+ ,
$str
““, :
,
““: ;
	SqlDbType
““< E
.
““E F
Int
““F I
)
““I J
{
”” 	
Value
‘‘ 
=
‘‘ 
request
‘‘ 
.
‘‘ 
AffiliateId
‘‘ '
}
’’ 	
)
’’	 

;
’’
 
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ 
.
◊◊ 
Add
◊◊ 
(
◊◊ 
new
◊◊ 
SqlParameter
◊◊ +
(
◊◊+ ,
$str
◊◊, 5
,
◊◊5 6
	SqlDbType
◊◊7 @
.
◊◊@ A
Int
◊◊A D
)
◊◊D E
{
ÿÿ 	
Value
ŸŸ 
=
ŸŸ 
request
ŸŸ 
.
ŸŸ 
UserId
ŸŸ "
}
⁄⁄ 	
)
⁄⁄	 

;
⁄⁄
 
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
new
‹‹ 
SqlParameter
‹‹ +
(
‹‹+ ,
$str
‹‹, 6
,
‹‹6 7
	SqlDbType
‹‹8 A
.
‹‹A B
VarChar
‹‹B I
)
‹‹I J
{
›› 	
Value
ﬁﬁ 
=
ﬁﬁ 
request
ﬁﬁ 
.
ﬁﬁ 
Concept
ﬁﬁ #
,
ﬁﬁ# $
Size
ﬂﬂ 
=
ﬂﬂ 
$num
ﬂﬂ 
}
‡‡ 	
)
‡‡	 

;
‡‡
 
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ 
.
‚‚ 
Add
‚‚ 
(
‚‚ 
new
‚‚ 
SqlParameter
‚‚ +
(
‚‚+ ,
$str
‚‚, 5
,
‚‚5 6
	SqlDbType
‚‚7 @
.
‚‚@ A
Decimal
‚‚A H
)
‚‚H I
{
„„ 	
Value
‰‰ 
=
‰‰ 
request
‰‰ 
.
‰‰ 
Points
‰‰ "
}
ÂÂ 	
)
ÂÂ	 

;
ÂÂ
 
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ 
.
ÁÁ 
Add
ÁÁ 
(
ÁÁ 
new
ÁÁ 
SqlParameter
ÁÁ +
(
ÁÁ+ ,
$str
ÁÁ, =
,
ÁÁ= >
	SqlDbType
ÁÁ? H
.
ÁÁH I
Decimal
ÁÁI P
)
ÁÁP Q
{
ËË 	
Value
ÈÈ 
=
ÈÈ 
request
ÈÈ 
.
ÈÈ 
Commissionable
ÈÈ *
}
ÍÍ 	
)
ÍÍ	 

;
ÍÍ
 
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
new
ÏÏ 
SqlParameter
ÏÏ +
(
ÏÏ+ ,
$str
ÏÏ, 3
,
ÏÏ3 4
	SqlDbType
ÏÏ5 >
.
ÏÏ> ?
VarChar
ÏÏ? F
)
ÏÏF G
{
ÌÌ 	
Value
ÓÓ 
=
ÓÓ 
string
ÓÓ 
.
ÓÓ 
IsNullOrEmpty
ÓÓ (
(
ÓÓ( )
request
ÓÓ) 0
.
ÓÓ0 1
Bank
ÓÓ1 5
)
ÓÓ5 6
?
ÓÓ7 8
null
ÓÓ9 =
:
ÓÓ> ?
request
ÓÓ@ G
.
ÓÓG H
Bank
ÓÓH L
,
ÓÓL M

IsNullable
ÔÔ 
=
ÔÔ 
true
ÔÔ 
,
ÔÔ 
Size
 
=
 
$num
 
}
ÒÒ 	
)
ÒÒ	 

;
ÒÒ
 
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ 
.
ÛÛ 
Add
ÛÛ 
(
ÛÛ 
new
ÛÛ 
SqlParameter
ÛÛ +
(
ÛÛ+ ,
$str
ÛÛ, <
,
ÛÛ< =
	SqlDbType
ÛÛ> G
.
ÛÛG H
VarChar
ÛÛH O
)
ÛÛO P
{
ÙÙ 	
Value
ıı 
=
ıı 
request
ıı 
.
ıı 
PaymentMethod
ıı )
,
ıı) *
Size
ˆˆ 
=
ˆˆ 
$num
ˆˆ 
}
˜˜ 	
)
˜˜	 

;
˜˜
 
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ 
.
˘˘ 
Add
˘˘ 
(
˘˘ 
new
˘˘ 
SqlParameter
˘˘ +
(
˘˘+ ,
$str
˘˘, 5
,
˘˘5 6
	SqlDbType
˘˘7 @
.
˘˘@ A
TinyInt
˘˘A H
)
˘˘H I
{
˙˙ 	
Value
˚˚ 
=
˚˚ 
request
˚˚ 
.
˚˚ 
Origin
˚˚ "
}
¸¸ 	
)
¸¸	 

;
¸¸
 
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ 
.
˛˛ 
Add
˛˛ 
(
˛˛ 
new
˛˛ 
SqlParameter
˛˛ +
(
˛˛+ ,
$str
˛˛, 4
,
˛˛4 5
	SqlDbType
˛˛6 ?
.
˛˛? @
Int
˛˛@ C
)
˛˛C D
{
ˇˇ 	
Value
ÄÄ 
=
ÄÄ 
request
ÄÄ 
.
ÄÄ 
Level
ÄÄ !
}
ÅÅ 	
)
ÅÅ	 

;
ÅÅ
 
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ 
.
ÉÉ 
Add
ÉÉ 
(
ÉÉ 
new
ÉÉ 
SqlParameter
ÉÉ +
(
ÉÉ+ ,
$str
ÉÉ, 4
,
ÉÉ4 5
	SqlDbType
ÉÉ6 ?
.
ÉÉ? @
Decimal
ÉÉ@ G
)
ÉÉG H
{
ÑÑ 	
Value
ÖÖ 
=
ÖÖ 
request
ÖÖ 
.
ÖÖ 
Debit
ÖÖ !
}
ÜÜ 	
)
ÜÜ	 

;
ÜÜ
 
cmd
àà 
.
àà 

Parameters
àà 
.
àà 
Add
àà 
(
àà 
new
àà 
SqlParameter
àà +
(
àà+ ,
$str
àà, @
,
àà@ A
	SqlDbType
ààB K
.
ààK L
VarChar
ààL S
)
ààS T
{
ââ 	
Value
ää 
=
ää 
request
ää 
.
ää 
AffiliateUserName
ää -
,
ää- .
Size
ãã 
=
ãã 
$num
ãã 
}
åå 	
)
åå	 

;
åå
 
cmd
éé 
.
éé 

Parameters
éé 
.
éé 
Add
éé 
(
éé 
new
éé 
SqlParameter
éé +
(
éé+ ,
$str
éé, <
,
éé< =
	SqlDbType
éé> G
.
ééG H
VarChar
ééH O
)
ééO P
{
èè 	
Value
êê 
=
êê 
request
êê 
.
êê 
AdminUserName
êê )
,
êê) *
Size
ëë 
=
ëë 
$num
ëë 
}
íí 	
)
íí	 

;
íí
 
cmd
îî 
.
îî 

Parameters
îî 
.
îî 
Add
îî 
(
îî 
new
îî 
SqlParameter
îî +
(
îî+ ,
$str
îî, <
,
îî< =
	SqlDbType
îî> G
.
îîG H
VarChar
îîH O
)
îîO P
{
ïï 	
Value
ññ 
=
ññ 
string
ññ 
.
ññ 
IsNullOrEmpty
ññ (
(
ññ( )
request
ññ) 0
.
ññ0 1
ReceiptNumber
ññ1 >
)
ññ> ?
?
ññ@ A
null
ññB F
:
ññG H
request
ññI P
.
ññP Q
ReceiptNumber
ññQ ^
,
ññ^ _

IsNullable
óó 
=
óó 
true
óó 
,
óó 
Size
òò 
=
òò 
$num
òò 
}
ôô 	
)
ôô	 

;
ôô
 
cmd
õõ 
.
õõ 

Parameters
õõ 
.
õõ 
Add
õõ 
(
õõ 
new
õõ 
SqlParameter
õõ +
(
õõ+ ,
$str
õõ, 3
,
õõ3 4
	SqlDbType
õõ5 >
.
õõ> ?
Bit
õõ? B
)
õõB C
{
úú 	
Value
ùù 
=
ùù 
request
ùù 
.
ùù 
Type
ùù  
}
ûû 	
)
ûû	 

;
ûû
 
cmd
†† 
.
†† 

Parameters
†† 
.
†† 
Add
†† 
(
†† 
new
†† 
SqlParameter
†† +
(
††+ ,
$str
††, 8
,
††8 9
	SqlDbType
††: C
.
††C D
VarChar
††D K
)
††K L
{
°° 	
Value
¢¢ 
=
¢¢ 
string
¢¢ 
.
¢¢ 
IsNullOrEmpty
¢¢ (
(
¢¢( )
request
¢¢) 0
.
¢¢0 1
	SecretKey
¢¢1 :
)
¢¢: ;
?
¢¢< =
null
¢¢> B
:
¢¢C D
request
¢¢E L
.
¢¢L M
	SecretKey
¢¢M V
,
¢¢V W

IsNullable
££ 
=
££ 
true
££ 
,
££ 
Size
§§ 
=
§§ 
$num
§§ 
}
•• 	
)
••	 

;
••
 
cmd
ßß 
.
ßß 

Parameters
ßß 
.
ßß 
Add
ßß 
(
ßß 
new
ßß 
SqlParameter
ßß +
(
ßß+ ,
$str
ßß, :
,
ßß: ;
	SqlDbType
ßß< E
.
ßßE F
VarChar
ßßF M
)
ßßM N
{
®® 	
Value
©© 
=
©© 
request
©© 
.
©© 
ConceptType
©© '
,
©©' (
Size
™™ 
=
™™ 
$num
™™ 
}
´´ 	
)
´´	 

;
´´
 
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ 
.
≠≠ 
Add
≠≠ 
(
≠≠ 
new
≠≠ 
SqlParameter
≠≠ +
(
≠≠+ ,
$str
≠≠, >
,
≠≠> ?
	SqlDbType
≠≠@ I
.
≠≠I J

Structured
≠≠J T
)
≠≠T U
{
ÆÆ 	
Value
ØØ 
=
ØØ 
dataTableDetails
ØØ $
,
ØØ$ %
TypeName
∞∞ 
=
∞∞ 
$str
∞∞ 9
}
±± 	
)
±±	 

;
±±
 
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ 
.
≥≥ 
Add
≥≥ 
(
≥≥ 
new
≥≥ 
SqlParameter
≥≥ +
(
≥≥+ ,
$str
≥≥, 5
,
≥≥5 6
	SqlDbType
≥≥7 @
.
≥≥@ A
VarChar
≥≥A H
)
≥≥H I
{
¥¥ 	
Value
µµ 
=
µµ 
string
µµ 
.
µµ 
IsNullOrEmpty
µµ (
(
µµ( )
request
µµ) 0
.
µµ0 1
Reason
µµ1 7
)
µµ7 8
?
µµ9 :
null
µµ; ?
:
µµ@ A
request
µµB I
.
µµI J
Reason
µµJ P
,
µµP Q

IsNullable
∂∂ 
=
∂∂ 
true
∂∂ 
,
∂∂ 
Size
∑∑ 
=
∑∑ 
$num
∑∑ 
}
∏∏ 	
)
∏∏	 

;
∏∏
 
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ 
.
∫∫ 
Add
∫∫ 
(
∫∫ 
new
∫∫ 
SqlParameter
∫∫ +
(
∫∫+ ,
$str
∫∫, 6
,
∫∫6 7
	SqlDbType
∫∫8 A
.
∫∫A B
Int
∫∫B E
)
∫∫E F
{
ªª 	
Value
ºº 
=
ºº 
request
ºº 
.
ºº 
BrandId
ºº #
}
ΩΩ 	
)
ΩΩ	 

;
ΩΩ
 
}
ææ 
public
¿¿ 

async
¿¿ 
Task
¿¿ +
RevertCoinPaymentTransactions
¿¿ 3
(
¿¿3 4
List
¿¿4 8
<
¿¿8 9
InvoiceNumber
¿¿9 F
>
¿¿F G
invoiceNumbers
¿¿H V
)
¿¿V W
{
¡¡ 
var
¬¬ 
table
¬¬ 
=
¬¬ 
new
¬¬ 
	DataTable
¬¬ !
(
¬¬! "
)
¬¬" #
;
¬¬# $
table
√√ 
.
√√ 
Columns
√√ 
.
√√ 
Add
√√ 
(
√√ 
$str
√√ )
,
√√) *
typeof
√√+ 1
(
√√1 2
int
√√2 5
)
√√5 6
)
√√6 7
;
√√7 8
foreach
ƒƒ 
(
ƒƒ 
var
ƒƒ 
invoiceNumber
ƒƒ "
in
ƒƒ# %
invoiceNumbers
ƒƒ& 4
)
ƒƒ4 5
{
≈≈ 	
table
∆∆ 
.
∆∆ 
Rows
∆∆ 
.
∆∆ 
Add
∆∆ 
(
∆∆ 
invoiceNumber
∆∆ (
.
∆∆( ) 
InvoiceNumberValue
∆∆) ;
)
∆∆; <
;
∆∆< =
}
«« 	
var
…… 
param
…… 
=
…… 
new
…… 
SqlParameter
…… $
(
……$ %
$str
……% 6
,
……6 7
	SqlDbType
……8 A
.
……A B

Structured
……B L
)
……L M
{
   	
TypeName
ÀÀ 
=
ÀÀ 
$str
ÀÀ /
,
ÀÀ/ 0
Value
ÃÃ 
=
ÃÃ 
table
ÃÃ 
}
ÕÕ 	
;
ÕÕ	 

await
œœ 
Context
œœ 
.
œœ 
Database
œœ 
.
œœ  
ExecuteSqlRawAsync
œœ 1
(
œœ1 2
$str
–– 
+
–– 
	Constants
–– 
.
––  +
CoinPaymentRevertTransactions
––  =
+
––> ?
$str
––@ R
,
––R S
param
––T Y
)
––Y Z
;
––Z [
}
—— 
public
”” 

Task
”” 
<
”” 
List
”” 
<
”” 
Invoice
”” 
>
”” 
>
”” (
GetInvoicesByReceiptNumber
”” 9
(
””9 :
ICollection
””: E
<
””E F
string
””F L
>
””L M
transactionIds
””N \
)
””\ ]
=>
‘‘ 

Context
‘‘ 
.
‘‘ 
Invoices
‘‘ 
.
‘‘ 
Where
‘‘ !
(
‘‘! "
e
‘‘" #
=>
‘‘$ &
e
‘‘' (
.
‘‘( )
ReceiptNumber
‘‘) 6
!=
‘‘7 9
null
‘‘: >
&&
‘‘? A
transactionIds
‘‘B P
.
‘‘P Q
Contains
‘‘Q Y
(
‘‘Y Z
e
‘‘Z [
.
‘‘[ \
ReceiptNumber
‘‘\ i
)
‘‘i j
)
‘‘j k
.
’’ 
ToListAsync
’’ 
(
’’ 
)
’’ 
;
’’ 
public
◊◊ 

Task
◊◊ 
<
◊◊ 
bool
◊◊ 
>
◊◊ 3
%GetInvoicesForTradingAcademyPurchases
◊◊ ;
(
◊◊; <
int
◊◊< ?
affiliateId
◊◊@ K
)
◊◊K L
=>
ÿÿ 

Context
ÿÿ 
.
ÿÿ 
Invoices
ÿÿ 
.
ŸŸ 
Include
ŸŸ 
(
ŸŸ 
x
ŸŸ 
=>
ŸŸ 
x
ŸŸ 
.
ŸŸ 
InvoicesDetails
ŸŸ +
)
ŸŸ+ ,
.
⁄⁄ 
AnyAsync
⁄⁄ 
(
⁄⁄ 
x
⁄⁄ 
=>
⁄⁄ 
x
⁄⁄ 
.
⁄⁄ 
AffiliateId
⁄⁄ (
==
⁄⁄) +
affiliateId
⁄⁄, 7
&&
⁄⁄8 :
x
⁄⁄; <
.
⁄⁄< =
InvoicesDetails
⁄⁄= L
.
⁄⁄L M
Any
⁄⁄M P
(
⁄⁄P Q
d
⁄⁄Q R
=>
⁄⁄S U
d
⁄⁄V W
.
⁄⁄W X
PaymentGroupId
⁄⁄X f
==
⁄⁄g i
$num
⁄⁄j k
)
⁄⁄k l
)
⁄⁄l m
;
⁄⁄m n
public
‹‹ 

async
‹‹ 
Task
‹‹ 
<
‹‹ 
List
‹‹ 
<
‹‹ ,
InvoicesTradingAcademyResponse
‹‹ 9
>
‹‹9 :
?
‹‹: ;
>
‹‹; <6
(GetAllInvoicesForTradingAcademyPurchases
‹‹= e
(
‹‹e f
)
‹‹f g
{
›› 
await
ﬁﬁ 
using
ﬁﬁ 
var
ﬁﬁ 
command
ﬁﬁ 
=
ﬁﬁ  !
Context
ﬁﬁ" )
.
ﬁﬁ) *
Database
ﬁﬁ* 2
.
ﬁﬁ2 3
GetDbConnection
ﬁﬁ3 B
(
ﬁﬁB C
)
ﬁﬁC D
.
ﬁﬁD E
CreateCommand
ﬁﬁE R
(
ﬁﬁR S
)
ﬁﬁS T
;
ﬁﬁT U
command
ﬂﬂ 
.
ﬂﬂ 
CommandText
ﬂﬂ 
=
ﬂﬂ 
	Constants
ﬂﬂ '
.
ﬂﬂ' ((
GetTradingAcademyDetailsSp
ﬂﬂ( B
;
ﬂﬂB C
command
‡‡ 
.
‡‡ 
CommandType
‡‡ 
=
‡‡ 
CommandType
‡‡ )
.
‡‡) *
StoredProcedure
‡‡* 9
;
‡‡9 :
await
‚‚ 
Context
‚‚ 
.
‚‚ 
Database
‚‚ 
.
‚‚ !
OpenConnectionAsync
‚‚ 2
(
‚‚2 3
)
‚‚3 4
;
‚‚4 5
await
‰‰ 
using
‰‰ 
var
‰‰ 
result
‰‰ 
=
‰‰  
await
‰‰! &
command
‰‰' .
.
‰‰. / 
ExecuteReaderAsync
‰‰/ A
(
‰‰A B
)
‰‰B C
;
‰‰C D
var
ÂÂ  
invoiceDetailsList
ÂÂ 
=
ÂÂ  
new
ÂÂ! $
List
ÂÂ% )
<
ÂÂ) *,
InvoicesTradingAcademyResponse
ÂÂ* H
>
ÂÂH I
(
ÂÂI J
)
ÂÂJ K
;
ÂÂK L
while
ÁÁ 
(
ÁÁ 
await
ÁÁ 
result
ÁÁ 
.
ÁÁ 
	ReadAsync
ÁÁ %
(
ÁÁ% &
)
ÁÁ& '
)
ÁÁ' (
{
ËË 	 
invoiceDetailsList
ÈÈ 
.
ÈÈ 
Add
ÈÈ "
(
ÈÈ" #
new
ÈÈ# &,
InvoicesTradingAcademyResponse
ÈÈ' E
{
ÍÍ 
	ProductId
ÎÎ 
=
ÎÎ 
(
ÎÎ 
int
ÎÎ  
)
ÎÎ  !
result
ÎÎ! '
[
ÎÎ' (
$str
ÎÎ( 3
]
ÎÎ3 4
,
ÎÎ4 5
UserName
ÏÏ 
=
ÏÏ 
result
ÏÏ !
[
ÏÏ! "
$str
ÏÏ" ,
]
ÏÏ, -
.
ÏÏ- .
ToString
ÏÏ. 6
(
ÏÏ6 7
)
ÏÏ7 8
??
ÏÏ9 ;
$str
ÏÏ< >
,
ÏÏ> ?
	InvoiceId
ÌÌ 
=
ÌÌ 
(
ÌÌ 
int
ÌÌ  
)
ÌÌ  !
result
ÌÌ! '
[
ÌÌ' (
$str
ÌÌ( 3
]
ÌÌ3 4
,
ÌÌ4 5
ProductName
ÓÓ 
=
ÓÓ 
result
ÓÓ $
[
ÓÓ$ %
$str
ÓÓ% 2
]
ÓÓ2 3
.
ÓÓ3 4
ToString
ÓÓ4 <
(
ÓÓ< =
)
ÓÓ= >
??
ÓÓ? A
$str
ÓÓB D
,
ÓÓD E
ProductPrice
ÔÔ 
=
ÔÔ 
(
ÔÔ  
decimal
ÔÔ  '
)
ÔÔ' (
result
ÔÔ( .
[
ÔÔ. /
$str
ÔÔ/ =
]
ÔÔ= >
,
ÔÔ> ?
	CreatedAt
 
=
 
(
 
DateTime
 %
)
% &
result
& ,
[
, -
$str
- 8
]
8 9
}
ÒÒ 
)
ÒÒ 
;
ÒÒ 
}
ÚÚ 	
return
ÙÙ  
invoiceDetailsList
ÙÙ !
;
ÙÙ! "
}
ıı 
public
˜˜ 

async
˜˜ 
Task
˜˜ 
<
˜˜ 
List
˜˜ 
<
˜˜ +
InvoiceModelOneAndTwoResponse
˜˜ 8
>
˜˜8 9
?
˜˜9 :
>
˜˜: ;*
GetAllInvoicesModelOneAndTwo
˜˜< X
(
˜˜X Y
)
˜˜Y Z
{
¯¯ 
await
˘˘ 
using
˘˘ 
var
˘˘ 
command
˘˘ 
=
˘˘  !
Context
˘˘" )
.
˘˘) *
Database
˘˘* 2
.
˘˘2 3
GetDbConnection
˘˘3 B
(
˘˘B C
)
˘˘C D
.
˘˘D E
CreateCommand
˘˘E R
(
˘˘R S
)
˘˘S T
;
˘˘T U
command
˙˙ 
.
˙˙ 
CommandText
˙˙ 
=
˙˙ 
	Constants
˙˙ '
.
˙˙' ()
GetAllDetailsModelOneAndTwo
˙˙( C
;
˙˙C D
command
˚˚ 
.
˚˚ 
CommandType
˚˚ 
=
˚˚ 
CommandType
˚˚ )
.
˚˚) *
StoredProcedure
˚˚* 9
;
˚˚9 :
await
˝˝ 
Context
˝˝ 
.
˝˝ 
Database
˝˝ 
.
˝˝ !
OpenConnectionAsync
˝˝ 2
(
˝˝2 3
)
˝˝3 4
;
˝˝4 5
await
ˇˇ 
using
ˇˇ 
var
ˇˇ 
result
ˇˇ 
=
ˇˇ  
await
ˇˇ! &
command
ˇˇ' .
.
ˇˇ. / 
ExecuteReaderAsync
ˇˇ/ A
(
ˇˇA B
)
ˇˇB C
;
ˇˇC D
var
ÄÄ  
invoiceDetailsList
ÄÄ 
=
ÄÄ  
new
ÄÄ! $
List
ÄÄ% )
<
ÄÄ) *+
InvoiceModelOneAndTwoResponse
ÄÄ* G
>
ÄÄG H
(
ÄÄH I
)
ÄÄI J
;
ÄÄJ K
while
ÇÇ 
(
ÇÇ 
await
ÇÇ 
result
ÇÇ 
.
ÇÇ 
	ReadAsync
ÇÇ %
(
ÇÇ% &
)
ÇÇ& '
)
ÇÇ' (
{
ÉÉ 	 
invoiceDetailsList
ÑÑ 
.
ÑÑ 
Add
ÑÑ "
(
ÑÑ" #
new
ÑÑ# &+
InvoiceModelOneAndTwoResponse
ÑÑ' D
{
ÖÖ 
UserName
ÜÜ 
=
ÜÜ 
result
ÜÜ !
[
ÜÜ! "
$str
ÜÜ" ,
]
ÜÜ, -
.
ÜÜ- .
ToString
ÜÜ. 6
(
ÜÜ6 7
)
ÜÜ7 8
??
ÜÜ9 ;
$str
ÜÜ< >
,
ÜÜ> ?
	InvoiceId
áá 
=
áá 
(
áá 
int
áá  
)
áá  !
result
áá! '
[
áá' (
$str
áá( 3
]
áá3 4
,
áá4 5
ProductName
àà 
=
àà 
result
àà $
[
àà$ %
$str
àà% 2
]
àà2 3
.
àà3 4
ToString
àà4 <
(
àà< =
)
àà= >
??
àà? A
$str
ààB D
,
ààD E

BaseAmount
ââ 
=
ââ 
(
ââ 
decimal
ââ %
)
ââ% &
result
ââ& ,
[
ââ, -
$str
ââ- 9
]
ââ9 :
,
ââ: ;
PaymentGroupId
ää 
=
ää  
(
ää! "
int
ää" %
)
ää% &
result
ää& ,
[
ää, -
$str
ää- =
]
ää= >
,
ää> ?
	CreatedAt
ãã 
=
ãã 
(
ãã 
DateTime
ãã %
)
ãã% &
result
ãã& ,
[
ãã, -
$str
ãã- 8
]
ãã8 9
}
åå 
)
åå 
;
åå 
}
çç 	
return
èè  
invoiceDetailsList
èè !
;
èè! "
}
êê 
public
íí 

async
íí 
Task
íí 
<
íí 
decimal
íí 
>
íí '
GetTotalAdquisitionsAdmin
íí 8
(
íí8 9
long
íí9 =
brandId
íí> E
,
ííE F
int
ííG J
paymentGroupId
ííK Y
)
ííY Z
=>
ìì 

await
ìì 
Context
ìì 
.
ìì 
InvoicesDetails
ìì (
.
ìì( )
Where
ìì) .
(
ìì. /
x
ìì/ 0
=>
ìì1 3
!
îî 
x
îî 
.
îî 
Invoice
îî 
.
îî 
CancellationDate
îî +
.
îî+ ,
HasValue
îî, 4
&&
îî5 7
x
ïï 
.
ïï 
Invoice
ïï 
.
ïï 
Status
ïï  
&&
ïï! #
x
ññ 
.
ññ 
Invoice
ññ 
.
ññ 
BrandId
ññ !
==
ññ" $
brandId
ññ% ,
&&
ññ- /
x
óó 
.
óó 
PaymentGroupId
óó  
==
óó! #
paymentGroupId
óó$ 2
)
óó2 3
.
òò 
SumAsync
òò 
(
òò 
x
òò 
=>
òò 
x
òò 
.
òò 

BaseAmount
òò '
??
òò( *
$num
òò+ ,
)
òò, -
;
òò- .
public
öö 

async
öö 
IAsyncEnumerable
öö !
<
öö! "
List
öö" &
<
öö& '
Invoice
öö' .
>
öö. /
>
öö/ 0"
GetInvoicesInBatches
öö1 E
(
ööE F
DateTime
ööF N
?
ööN O
	startDate
ööP Y
,
ööY Z
DateTime
öö[ c
?
ööc d
endDate
ööe l
,
ööl m
int
öön q
	batchSize
öör {
,
öö{ |
longöö} Å
brandIdööÇ â
)ööâ ä
{
õõ 
int
úú 
skip
úú 
=
úú 
$num
úú 
;
úú 
List
ùù 
<
ùù 
Invoice
ùù 
>
ùù 
batch
ùù 
;
ùù 
do
üü 

{
†† 	
batch
°° 
=
°° 
await
°° 
Context
°° !
.
°°! "
Invoices
°°" *
.
¢¢ 
Include
¢¢ 
(
¢¢ 
x
¢¢ 
=>
¢¢ 
x
¢¢ 
.
¢¢  
InvoicesDetails
¢¢  /
)
¢¢/ 0
.
££ 
Where
££ 
(
££ 
x
££ 
=>
££ 
x
££ 
.
££ 
BrandId
££ %
==
££& (
brandId
££) 0
)
££0 1
.
§§ 
WhereIf
§§ 
(
§§ 
	startDate
§§ "
.
§§" #
HasValue
§§# +
,
§§+ ,
x
§§- .
=>
§§/ 1
x
§§2 3
.
§§3 4
	CreatedAt
§§4 =
>=
§§> @
	startDate
§§A J
!
§§J K
.
§§K L
Value
§§L Q
)
§§Q R
.
•• 
WhereIf
•• 
(
•• 
endDate
••  
.
••  !
HasValue
••! )
,
••) *
x
••+ ,
=>
••- /
x
••0 1
.
••1 2
	CreatedAt
••2 ;
<=
••< >
endDate
••? F
!
••F G
.
••G H
Value
••H M
)
••M N
.
¶¶ 
OrderByDescending
¶¶ "
(
¶¶" #
x
¶¶# $
=>
¶¶% '
x
¶¶( )
.
¶¶) *
	CreatedAt
¶¶* 3
)
¶¶3 4
.
ßß 
Skip
ßß 
(
ßß 
skip
ßß 
)
ßß 
.
®® 
Take
®® 
(
®® 
	batchSize
®® 
)
®®  
.
©© 
ToListAsync
©© 
(
©© 
)
©© 
;
©© 
if
´´ 
(
´´ 
batch
´´ 
.
´´ 
Any
´´ 
(
´´ 
)
´´ 
)
´´ 
{
¨¨ 
yield
≠≠ 
return
≠≠ 
batch
≠≠ "
;
≠≠" #
skip
ÆÆ 
+=
ÆÆ 
	batchSize
ÆÆ !
;
ÆÆ! "
}
ØØ 
}
∞∞ 	
while
∞∞
 
(
∞∞ 
batch
∞∞ 
.
∞∞ 
Count
∞∞ 
==
∞∞ 
	batchSize
∞∞  )
)
∞∞) *
;
∞∞* +
}
±± 
}≤≤ ∞
aC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IApiClientRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface  
IApiClientRepository %
{ 
Task 
< 	
bool	 
> 
ValidateApiClient  
(  !
string! '
token( -
)- .
;. /
} Ó
]C:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IBonusRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface 
IBonusRepository !
{ 
Task 
< 	
int	 
> 
CreateBonus 
( 
BonusRequest &
request' .
). /
;/ 0
Task		 
<		 	
decimal			 
>		 '
GetBonusAmountByAffiliateId		 -
(		- .
int		. 1
affiliateId		2 =
)		= >
;		> ?
}

 º
]C:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IBrandRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface 
IBrandRepository !
{ 
Task 
< 	
Brand	 
? 
> 
GetBrandByIdAsync "
(" #
string# )
	secretKey* 3
)3 4
;4 5
} π
nC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\ICoinPaymentTransactionRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface -
!ICoinPaymentTransactionRepository 2
{ 
Task 
< 	
List	 
< "
CoinpaymentTransaction $
>$ %
>% &(
GetAllCoinPaymentTransaction' C
(C D
longD H
brandIdI P
)P Q
;Q R
Task 
< 	"
CoinpaymentTransaction	 
?  
>  !4
(GetCoinPaymentTransactionByIdTransaction" J
(J K
stringK Q
idTransactionR _
,_ `
longa e
brandIdf m
)m n
;n o
Task		 
<		 	"
CoinpaymentTransaction			 
?		  
>		  !(
CreateCoinPaymentTransaction		" >
(		> ?"
CoinpaymentTransaction		? U
request		V ]
)		] ^
;		^ _
Task

 
<

 	"
CoinpaymentTransaction

	 
?

  
>

  !-
!UpdateCoinPaymentTransactionAsync

" C
(

C D"
CoinpaymentTransaction

D Z
request

[ b
)

b c
;

c d
Task 
< 	
List	 
< "
CoinpaymentTransaction $
>$ %
>% &1
%GetAllUnconfirmedOrUnpaidTransactions' L
(L M
longM Q
brandIdR Y
)Y Z
;Z [
Task 
< 	
List	 
< "
CoinpaymentTransaction $
>$ %
>% &
GetAllWireTransfer' 9
(9 :
long: >
brandId? F
)F G
;G H
Task 
< 	"
CoinpaymentTransaction	 
?  
>  !%
GetPaymentTransactionById" ;
(; <
int< ?
id@ B
,B C
longD H
brandIdI P
)P Q
;Q R
Task 
< 	
int	 
>  
GetLastTransactionId "
(" #
long# '
brandId( /
)/ 0
;0 1
Task 
< 	"
CoinpaymentTransaction	 
?  
>  !%
GetTransactionByReference" ;
(; <
string< B
	referenceC L
)L M
;M N
Task 
< 	"
CoinpaymentTransaction	 
?  
>  !!
GetTransactionByTxnId" 7
(7 8
string8 >
idTransaction? L
)L M
;M N
} ®
^C:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\ICreditRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface 
ICreditRepository "
{ 
Task 
< 	
Credit	 
> 
CreateCredit 
( 
Credit $
credit% +
)+ ,
;, -
} å
lC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IEcoPoolConfigurationRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface +
IEcoPoolConfigurationRepository 0
{ 
Task 
< 	
ModelConfiguration	 
? 
> "
GetConfigurationByType 4
(4 5
string5 ;
	modelType< E
)E F
;F G
Task 
< 	
ModelConfiguration	 
? 
> 
GetConfiguration .
(. /
)/ 0
;0 1
Task		 
<		 	
ModelConfiguration			 
>		 
CreateConfiguration		 0
(		0 1
ModelConfiguration		1 C
poolConfiguration		D U
)		U V
;		V W
Task

 %
CreateConfigurationLevels

	 "
(

" #
IEnumerable

# .
<

. /#
ModelConfigurationLevel

/ F
>

F G
levels

R X
)

X Y
;

Y Z
Task 
< 	
ModelConfiguration	 
> 
UpdateConfiguration 0
(0 1
ModelConfiguration1 C
poolConfigurationD U
)U V
;V W
Task (
DeleteAllLevelsConfiguration	 %
(% &
long& *
configurationIdI X
)X Y
;Y Z
Task 
< 	
ModelConfiguration	 
> !
GetProgressPercentage 2
(2 3
int3 6
configurationIdF U
)U V
;V W
} å
eC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IInvoiceDetailRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface $
IInvoiceDetailRepository )
{ 
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> $
GetAllInvoiceDetailAsync 7
(7 8
)8 9
;9 :
Task 
< 	
InvoicesDetail	 
> $
CreateInvoiceDetailAsync 1
(1 2
InvoicesDetail2 @
invoiceQ X
)X Y
;Y Z
Task		 
<		 	
List			 
<		 
InvoicesDetail		 
>		 
>		 (
CreateBulkInvoiceDetailAsync		 ;
(		; <
List		< @
<		@ A
InvoicesDetail		A O
>		O P
requests		Q Y
)		Y Z
;		Z [
Task

 
<

 	
List

	 
<

 
InvoicesDetail

 
>

 
>

 ,
 GetInvoiceDetailByInvoiceIdAsync

 ?
(

? @
long

@ D
	invoiceId

S \
)

\ ]
;

] ^
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> (
DeleteBulkInvoiceDetailAsync ;
(; <
List< @
<@ A
InvoicesDetailA O
>O P
requestsQ Y
)Y Z
;Z [
} ã*
_C:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IInvoiceRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public		 
	interface		 
IInvoiceRepository		 #
{

 
Task 
< 	
PaginationDto	 
< 
Invoice 
> 
>  
GetAllInvoices! /
(/ 0
long0 4
brandId5 <
,< =
PaginationRequest> O
requestP W
)W X
;X Y
Task 
< 	
int	 
> &
CountDetailsByPaymentGroup (
(( )
int) ,
paymentGroupId- ;
,; <
int= @
userIdA G
,G H
longI M
brandIdN U
)U V
;V W
Task 
< 	
List	 
< 
ModelFourStatistic  
>  !
>! ""
Model4StatisticsByUser# 9
(9 :
int: =
userId> D
)D E
;E F
Task 
< 	
List	 
< 
Invoice 
> 
> 
GetAllInvoicesUser *
(* +
int+ .
id/ 1
,1 2
long3 7
brandId8 ?
)? @
;@ A
Task 
< 	
Invoice	 
> 
CreateInvoiceAsync $
($ %
Invoice% ,
invoice- 4
)4 5
;5 6
Task 
< 	
Invoice	 
? 
> 
GetInvoiceById !
(! "
long" &
id' )
,) *
long+ /
brandId0 7
)7 8
;8 9
Task 
< 	
Invoice	 
> 
DeleteInvoiceAsync $
($ %
Invoice% ,
invoice- 4
)4 5
;5 6
Task 
< 	
InvoicesSpResponse	 
? 
> "
HandleDebitTransaction 4
(4 5#
DebitTransactionRequest5 L
requestM T
)T U
;U V
Task 
< 	
Invoice	 
? 
> %
GetInvoiceByReceiptNumber ,
(, -
string- 3
receiptNumber4 A
,A B
longC G
brandIdH O
)O P
;P Q
Task 
< 	
List	 
< 
Invoice 
> 
> &
GetInvoicesByReceiptNumber 2
(2 3
ICollection3 >
<> ?
string? E
>E F
transactionIdsG U
)U V
;V W
Task )
RevertCoinPaymentTransactions	 &
(& '
List' +
<+ ,
InvoiceNumber, 9
>9 :
invoiceNumbers; I
)I J
;J K
Task 
< 	
bool	 
> (
InvoiceExistsByReceiptNumber +
(+ ,
string, 2
idTransaction3 @
,@ A
longB F
brandIdG N
)N O
;O P
Task 
< 	
bool	 
> 1
%GetInvoicesForTradingAcademyPurchases 4
(4 5
int5 8
affiliateId9 D
)D E
;E F
Task 
< 	
List	 
< 
Invoice 
> 
> 1
%DeleteMultipleInvoicesAndDetailsAsync =
(= >
long> B
[B C
]C D

invoiceIdsE O
,O P
longQ U
brandIdV ]
)] ^
;^ _
Task 
< 	
List	 
< *
InvoicesTradingAcademyResponse ,
>, -
?- .
>. /4
(GetAllInvoicesForTradingAcademyPurchases0 X
(X Y
)Y Z
;Z [
Task 
< 	
List	 
< )
InvoiceModelOneAndTwoResponse +
>+ ,
?, -
>- .(
GetAllInvoicesModelOneAndTwo/ K
(K L
)L M
;M N
Task 
< 	
int	 
> ,
 CountDetailsModel3ByPaymentGroup .
(. /
int/ 2
userId3 9
,9 :
long; ?
brandId@ G
)G H
;H I
Task 
< 	
decimal	 
> %
GetTotalAdquisitionsAdmin +
(+ ,
long, 0
brandId1 8
,8 9
int: =
paymentGroupId> L
)L M
;M N
IAsyncEnumerable 
< 
List 
< 
Invoice !
>! "
>" # 
GetInvoicesInBatches$ 8
(8 9
DateTime9 A
?A B
	startDateC L
,L M
DateTimeN V
?V W
endDateX _
,_ `
inta d
	batchSizee n
,n o
longp t
brandIdu |
)| }
;} ~
} Ò
gC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\INetworkPurchaseRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface &
INetworkPurchaseRepository +
{ 
Task 
< 	
List	 
< 
NetworkPurchase 
> 
> &
GetNetworkPurchasesEcoPool  :
(: ;
DateTime; C
fromD H
,H I
DateTimeJ R
toS U
)U V
;V W
Task 
< 	
List	 
< 
( 
int 
Year 
, 
int 
Month "
," #
int$ '
TotalPurchases( 6
)6 7
>7 8
>8 9'
GetPurchasesMadeInMyNetwork: U
(U V
HashSetV ]
<] ^
int^ a
>a b
idsc f
)f g
;g h
}		 Å
fC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IResultsEcoPoolRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface %
IResultsEcoPoolRepository *
{ 
Task 
< 	
List	 
< 
ResultsModel2 
> 
>  
GetAllResultsEcoPool 2
(2 3
)3 4
;4 5
Task		 
<		 	
List			 
<		 
ResultsModel2		 
>		 
>		 %
GetResultsModel2ToPayment		 7
(		7 8
)		8 9
;		9 :
Task

 
<

 	
List

	 
<

 
ResultsModel1a

 
>

 
>

 &
GetResultsModel1AToPayment

 9
(

9 :
)

: ;
;

; <
Task 
< 	
List	 
< 
ResultsModel1b 
> 
> &
GetResultsModel1BToPayment 9
(9 :
): ;
;; <
Task 
< 	
List	 
< 
ResultsModel3 
> 
> $
GetResultsMode3ToPayment 6
(6 7
)7 8
;8 9
Task 
< 	
decimal	 
> &
SumResidualModel1AByUserId ,
(, -
int- 0
userId1 7
)7 8
;8 9
Task 
< 	
decimal	 
> %
SumPassiveModel1AByUserId +
(+ ,
int, /
userId0 6
)6 7
;7 8
Task 
< 	
decimal	 
> &
SumResidualModel1BByUserId ,
(, -
int- 0
userId1 7
)7 8
;8 9
Task 
< 	
decimal	 
> %
SumPassiveModel1BByUserId +
(+ ,
int, /
userId0 6
)6 7
;7 8
Task 
< 	
decimal	 
> %
SumResidualModel2ByUserId +
(+ ,
int, /
userId0 6
)6 7
;7 8
Task 
< 	
decimal	 
> $
SumPassiveModel2ByUserId *
(* +
int+ .
userId/ 5
)5 6
;6 7
Task 
< 	
decimal	 
> %
SumResidualModel3ByUserId +
(+ ,
int, /
userId0 6
)6 7
;7 8
Task 
< 	
decimal	 
> '
SumPercentageModel3ByUserId -
(- .
int. 1
userId2 8
)8 9
;9 :
} ù
eC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletHistoryRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface $
IWalletHistoryRepository )
{ 
Task 
< 	
List	 
< 
WalletsHistory 
> 
> '
GetAllWalletsHistoriesAsync :
(: ;
); <
;< =
Task 
< 	
WalletsHistory	 
? 
> '
GetWalletHistoriesByIdAsync 5
(5 6
int6 9
idE G
)G H
;H I
Task		 
<		 	
WalletsHistory			 
>		 &
CreateWalletHistoriesAsync		 3
(		3 4
WalletsHistory		4 B
request		C J
)		J K
;		K L
Task

 
<

 	
WalletsHistory

	 
>

 &
UpdateWalletHistoriesAsync

 3
(

3 4
WalletsHistory

4 B
request

C J
)

J K
;

K L
Task 
< 	
WalletsHistory	 
> &
DeleteWalletHistoriesAsync 3
(3 4
WalletsHistory4 B
requestC J
)J K
;K L
} Ç
eC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletModel1ARepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface $
IWalletModel1ARepository )
{ 
Task		 
<		 	
InvoicesSpResponse			 
?		 
>		 
DebitTransaction		 .
(		. /#
DebitTransactionRequest		/ F
request		G N
)		N O
;		O P
Task 
< 	
InvoicesSpResponse	 
? 
> %
DebitEcoPoolTransactionSp 7
(7 8#
DebitTransactionRequest8 O
requestP W
)W X
;X Y
Task 
< 	
bool	 
> 
CreditTransaction  
(  !$
CreditTransactionRequest! 9
request: A
)A B
;B C
Task 
< 	
decimal	 
> ,
 GetAvailableBalanceByAffiliateId 3
(3 4
int4 7
affiliateId9 D
)D E
;E F
Task 
< 	
decimal	 
? 
> -
!GetTotalAcquisitionsByAffiliateId 4
(4 5
int5 8
affiliateId9 D
)D E
;E F
Task 
< 	
decimal	 
? 
> *
GetReverseBalanceByAffiliateId 1
(1 2
int2 5
affiliateId9 D
)D E
;E F
Task 
< 	
decimal	 
? 
> "
GetTotalServiceBalance )
() *
int* -
affiliateId6 A
)A B
;B C
Task 
< 	
decimal	 
? 
> *
GetTotalCommissionsPaidBalance 1
(1 2
int2 5
affiliateId6 A
)A B
;B C
Task 
< 	
InvoicesSpResponse	 
? 
> *
DebitServiceBalanceTransaction <
(< =#
DebitTransactionRequest= T
requestU \
)\ ]
;] ^
Task 
< 	
InvoicesSpResponse	 
? 
> 3
'DebitServiceBalanceEcoPoolTransactionSp E
(E F#
DebitTransactionRequestF ]
request^ e
)e f
;f g
Task 
< 	
bool	 
> +
CreditServiceBalanceTransaction .
(. /$
CreditTransactionRequest/ G
requestH O
)O P
;P Q
} Å
dC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletModel1BRepostory.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface $
IWalletModel1BRepository )
{ 
Task		 
<		 	
InvoicesSpResponse			 
?		 
>		 
DebitTransaction		 .
(		. /#
DebitTransactionRequest		/ F
request		G N
)		N O
;		O P
Task 
< 	
InvoicesSpResponse	 
? 
> %
DebitEcoPoolTransactionSp 7
(7 8#
DebitTransactionRequest8 O
requestP W
)W X
;X Y
Task 
< 	
bool	 
> 
CreditTransaction $
($ %$
CreditTransactionRequest% =
request> E
)E F
;F G
Task 
< 	
decimal	 
> ,
 GetAvailableBalanceByAffiliateId 3
(3 4
int4 7
affiliateId> I
)I J
;J K
Task 
< 	
decimal	 
? 
> -
!GetTotalAcquisitionsByAffiliateId 4
(4 5
int5 8
affiliateId> I
)I J
;J K
Task 
< 	
decimal	 
? 
> *
GetReverseBalanceByAffiliateId 1
(1 2
int2 5
affiliateId> I
)I J
;J K
Task 
< 	
decimal	 
? 
> *
GetTotalCommissionsPaidBalance 1
(1 2
int2 5
affiliateId> I
)I J
;J K
Task 
< 	
decimal	 
? 
> "
GetTotalServiceBalance )
() *
int* -
affiliateId> I
)I J
;J K
Task 
< 	
InvoicesSpResponse	 
? 
> *
DebitServiceBalanceTransaction <
(< =#
DebitTransactionRequest= T
requestU \
)\ ]
;] ^
Task 
< 	
InvoicesSpResponse	 
? 
> 3
'DebitServiceBalanceEcoPoolTransactionSp E
(E F#
DebitTransactionRequestF ]
request^ e
)e f
;f g
Task 
< 	
bool	 
> +
CreditServiceBalanceTransaction .
(. /$
CreditTransactionRequest/ G
requestH O
)O P
;P Q
} ÿ
dC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletPeriodRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface #
IWalletPeriodRepository (
{ 
Task 
< 	
List	 
< 
WalletsPeriod 
> 
>  
GetAllWalletsPeriods 2
(2 3
)3 4
;4 5
Task 
< 	
WalletsPeriod	 
? 
> 
GetWalletPeriodById ,
(, -
int- 0
idZ \
)\ ]
;] ^
Task		 
<		 	
IEnumerable			 
<		 
WalletsPeriod		 "
>		" #
>		# $#
CreateWalletPeriodAsync		% <
(		< =
IEnumerable		= H
<		H I
WalletsPeriod		I V
>		V W
request		Y `
)		` a
;		a b
Task

 
<

 	
IEnumerable

	 
<

 
WalletsPeriod

 "
>

" #
>

# $$
UpdateWalletPeriodsAsync

% =
(

= >
IEnumerable

> I
<

I J
WalletsPeriod

J W
>

W X
request

Y `
)

` a
;

a b
Task 
< 	
WalletsPeriod	 
> #
DeleteWalletPeriodAsync /
(/ 0
WalletsPeriod0 =
requestY `
)` a
;a b
} ÎW
^C:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface 
IWalletRepository "
{ 
Task		 
<		 	
List			 
<		 
Wallet		 
>		 
>		 "
GetWalletByAffiliateId		 -
(		- .
int		. 1
affiliateId		2 =
,		= >
long		? C
brandId		D K
)		K L
;		L M
Task

 
<

 	
List

	 
<

 
InvoicesDetail

 
>

 
>

 &
GetDebitsModel2WithinMonth

 9
(

9 :
DateTime

: B
from

C G
,

G H
DateTime

I Q
to

R T
)

T U
;

U V
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> '
GetDebitsModel1AWithinMonth :
(: ;
DateTime; C
fromD H
,H I
DateTimeJ R
toS U
)U V
;V W
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> '
GetDebitsModel1BWithinMonth :
(: ;
DateTime; C
fromD H
,H I
DateTimeJ R
toS U
)U V
;V W
Task 
< 	
InvoicesSpResponse	 
? 
> %
DebitEcoPoolTransactionSp 7
(7 8#
DebitTransactionRequest8 O
requestP W
)W X
;X Y
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> '
GetDebitsModel2OutsideMonth :
(: ;
DateTime; C
dateD H
)H I
;I J
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> (
GetDebitsModel1AOutsideMonth ;
(; <
DateTime< D
dateE I
)I J
;J K
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> (
GetDebitsModel1BOutsideMonth ;
(; <
DateTime< D
dateE I
)I J
;J K
Task 
< 	
List	 
< 
InvoicesDetail 
> 
> ,
 GetInvoicesDetailsItemsForModel3 ?
(? @
DateTime@ H
fromI M
,M N
DateTimeO W
toX Z
)Z [
;[ \
Task 
< 	
List	 
< 
Wallet 
> 
> 
GetWalletByUserId (
(( )
int) ,
userId- 3
,3 4
long5 9
brandId: A
)A B
;B C
Task 
< 	
List	 
< 
Wallet 
> 
> 
GetWalletsRequest (
(( )
int) ,
userId- 3
,3 4
long5 9
brandId: A
)A B
;B C
Task 
< 	
Wallet	 
? 
> 
GetWalletById 
(  
int  #
id$ &
,& '
long( ,
brandId- 4
)4 5
;5 6
Task 
< 	
bool	 
> 
CreateModel2Sp 
( $
Model2TransactionRequest 6
request7 >
)> ?
;? @
Task 
< 	
bool	 
> 
CreateModel1ASp 
( %
Model1ATransactionRequest 8
request9 @
)@ A
;A B
Task 
< 	
bool	 
> 
CreateModel1BSp 
( %
Model1BTransactionRequest 8
request9 @
)@ A
;A B
Task 
< 	
bool	 
> 
CreateModel3Sp 
( $
Model3TransactionRequest 6
request7 >
)> ?
;? @
Task 
< 	
Wallet	 
> 
CreateWalletAsync "
(" #
Wallet# )
request* 1
)1 2
;2 3
Task 
< 	
Wallet	 
> 
UpdateWalletAsync "
(" #
Wallet# )
request* 1
)1 2
;2 3
Task 
< 	
Wallet	 
> 
DeleteWalletAsync "
(" #
Wallet# )
request* 1
)1 2
;2 3
Task 
< 	
decimal	 
> ,
 GetAvailableBalanceByAffiliateId 2
(2 3
int3 6
userId7 =
,= >
long? C
brandIdD K
)K L
;L M
Task 
< 	
decimal	 
> $
GetAvailableBalanceAdmin *
(* +
long+ /
brandId0 7
)7 8
;8 9
Task 
< 	
decimal	 
? 
> *
GetReverseBalanceByAffiliateId 1
(1 2
int2 5
userId6 <
,< =
long> B
brandIdC J
)J K
;K L
Task 
< 	
decimal	 
? 
> -
!GetTotalAcquisitionsByAffiliateId 4
(4 5
int5 8
userId9 ?
,? @
longA E
brandIdF M
)M N
;N O
Task   
<   	
InvoicesSpResponse  	 
?   
>   
DebitTransaction   .
(  . /#
DebitTransactionRequest  / F
request  G N
)  N O
;  O P
Task!! 
<!! 	
bool!!	 
>!! 
CreditTransaction!!  
(!!  !$
CreditTransactionRequest!!! 9
request!!: A
)!!A B
;!!B C
Task"" 
<"" 	
bool""	 
>"" !
CreateTransferBalance"" $
(""$ %
Wallet""% +
debitTransaction"", <
,""< =
Wallet""> D
creditTransaction""E V
)""V W
;""W X
Task## 
<## 	
List##	 
<## 
Wallet## 
>## 
>## 
GetAllWallets## $
(##$ %
long##% )
brandId##* 1
)##1 2
;##2 3
Task$$ 
<$$ 	
List$$	 
<$$ 
ModelFourStatistic$$  
>$$  !
>$$! "
GetUserModelFour$$# 3
($$3 4
int$$4 7
[$$7 8
]$$8 9
affiliateIds$$: F
)$$F G
;$$G H
Task%% 
<%% 	
decimal%%	 
?%% 
>%% #
GetTotalCommissionsPaid%% *
(%%* +
int%%+ .
affiliateId%%/ :
,%%: ;
long%%< @
brandId%%A H
)%%H I
;%%I J
Task&& 
<&& 	
decimal&&	 
?&& 
>&& "
GetTotalServiceBalance&& )
(&&) *
int&&* -
affiliateId&&. 9
,&&9 :
long&&; ?
brandId&&@ G
)&&G H
;&&H I
Task'' 
<'' 	
bool''	 
>'' .
"IsActivePoolGreaterThanOrEqualTo25'' 1
(''1 2
int''2 5
affiliateId''6 A
,''A B
long''C G
brandId''H O
)''O P
;''P Q
Task(( 
<(( 	
InvoicesSpResponse((	 
?(( 
>(( '
HandleMembershipTransaction(( 9
(((9 :#
DebitTransactionRequest((: Q
request((R Y
)((Y Z
;((Z [
Task)) 
<)) 	
InvoicesSpResponse))	 
?)) 
>)) &
MembershipDebitTransaction)) 8
())8 9#
DebitTransactionRequest))9 P
request))Q X
)))X Y
;))Y Z
Task** 
<** 	
InvoicesSpResponse**	 
?** 
>** !
AdminDebitTransaction** 3
(**3 4#
DebitTransactionRequest**4 K
request**L S
)**S T
;**T U
Task++ 
<++ 	
bool++	 
>++ .
"BulkAdministrativeDebitTransaction++ 1
(++1 2
Wallet++2 8
[++8 9
]++9 :
requests++; C
)++C D
;++D E
Task-- 
TransactionPoints--	 
(-- 
int-- 
affiliateId-- *
,--* +
decimal--, 3
	debitLeft--4 =
,--= >
decimal--? F

debitRight--G Q
,--Q R
decimal--S Z

creditLeft--[ e
,--e f
decimal.. 
creditRight.. 
).. 
;.. 
Task00 
<00 	
IEnumerable00	 
<00 
AffiliateBalance00 %
>00% &
>00& '/
#GetAllAffiliatesWithPositiveBalance00( K
(00K L
long00L P
brandId00Q X
)00X Y
;00Y Z
Task11 
<11 	
decimal11	 
>11 "
GetTotalReverseBalance11 (
(11( )
long11) -
brandId11. 5
)115 6
;116 7
Task33 
<33 	
InvoicesSpResponse33	 
?33 
>33 *
DebitServiceBalanceTransaction33 <
(33< =#
DebitTransactionRequest33= T
request33U \
)33\ ]
;33] ^
Task55 
<55 	
InvoicesSpResponse55	 
?55 
>55 3
'DebitServiceBalanceEcoPoolTransactionSp55 E
(55E F#
DebitTransactionRequest55F ]
request55^ e
)55e f
;55f g
Task77 
<77 	
bool77	 
>77 +
CreditServiceBalanceTransaction77 .
(77. /$
CreditTransactionRequest77/ G
request77H O
)77O P
;77P Q
Task88 
<88 	
bool88	 
>88 1
%DistributeCommissionsPerPurchaseAsync88 4
(884 5(
DistributeCommissionsRequest885 Q
request88R Y
)88Y Z
;88Z [
Task99 
<99 	
decimal99	 
>99 #
GetTotalCommissionsPaid99 )
(99) *
long99* .
brandId99/ 6
)996 7
;997 8
Task:: 
<:: 	
decimal::	 
>:: '
GetCommissionsForAdminAsync:: -
(::- .
long::. 2
brandId::3 :
)::: ;
;::; <
Task;; 
<;; 	
Wallet;;	 
>;; 
CreateAsync;; 
(;; 
Wallet;; #
request;;$ +
);;+ ,
;;;, -
}<< ˚
eC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletRequestRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface $
IWalletRequestRepository )
{ 
Task 
< 	
List	 
< 
WalletsRequest 
> 
> !
GetAllWalletsRequests 4
(4 5
long5 9
brandId: A
)A B
;B C
Task 
< 	
decimal	 
> '
GetTotalWalletRequestAmount  ;
(; <
long< @
brandIdA H
)H I
;I J
Task		 
<		 
List		 

<		
 
WalletsRequest		 
>		 
>		 ,
 GetAllWalletRequestByAffiliateId		 <
(		< =
int		= @
id		A C
)		C D
;		D E
Task

 
<

 	
List

	 
<

 
WalletsRequest

 
>

 
>

 "
GetWalletRequestsByIds

 5
(

5 6
List

6 :
<

: ;
long

; ?
>

? @
ids

E H
)

H I
;

I J
Task 
< 	
WalletsRequest	 
? 
> $
CreateWalletRequestAsync 2
(2 3
WalletsRequest3 A
requestD K
)K L
;L M
Task )
UpdateBulkWalletRequestsAsync	 &
(& '
List' +
<+ ,
WalletsRequest, :
>: ;
requestD K
)K L
;L M
Task 
< 	
WalletsRequest	 
> $
DeleteWalletRequestAsync 1
(1 2
WalletsRequest2 @
requestC J
)J K
;K L
Task 
< 	
decimal	 
> 4
(GetTotalWalletRequestAmountByAffiliateId :
(: ;
int; >
idE G
,G H
longI M
brandIdN U
)U V
;V W
Task 
< 	
List	 
< 
WalletsRequest 
> 
> 0
$GetAllWalletRequestRevertTransaction C
(C D
longD H
brandIdI P
)P Q
;Q R
Task 
< 	
WalletsRequest	 
? 
> ,
 GetWalletRequestsByInvoiceNumber :
(: ;
int; >
	invoiceIdC L
)L M
;M N
Task 
< 	
WalletsRequest	 
> %
UpdateWalletRequestsAsync 2
(2 3
WalletsRequest3 A
requestsB J
)J K
;K L
} Â
mC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletRetentionConfigRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface ,
 IWalletRetentionConfigRepository 1
{ 
Task 
< 	
List	 
< #
WalletsRetentionsConfig %
>% &
>& '(
GetAllWalletsRetentionConfig( D
(D E
)E F
;F G
Task 
< 	#
WalletsRetentionsConfig	  
?  !
>! "(
GetWalletRetentionConfigById# ?
(? @
int@ C
idv x
)x y
;y z
Task		 
<		 	
IEnumerable			 
<		 #
WalletsRetentionsConfig		 ,
>		, -
>		- .,
 CreateWalletRetentionConfigAsync		/ O
(		O P
IEnumerable		P [
<		[ \#
WalletsRetentionsConfig		\ s
>		s t
request		u |
)		| }
;		} ~
Task

 
<

 	
IEnumerable

	 
<

 #
WalletsRetentionsConfig

 ,
>

, -
>

- .,
 UpdateWalletRetentionConfigAsync

/ O
(

O P
IEnumerable

P [
<

[ \#
WalletsRetentionsConfig

\ s
>

s t
request

u |
)

| }
;

} ~
Task 
< 	#
WalletsRetentionsConfig	  
>  !,
 DeleteWalletRetentionConfigAsync" B
(B C#
WalletsRetentionsConfigC Z
requestt {
){ |
;| }
} ›

bC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletWaitRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface !
IWalletWaitRepository &
{ 
Task 
< 	
List	 
< 
WalletsWait 
> 
> 
GetAllWalletsWaits .
(. /
)/ 0
;0 1
Task 
< 	
WalletsWait	 
? 
> 
GetWalletWaitById (
(( )
int) ,
id9 ;
); <
;< =
Task		 
<		 	
WalletsWait			 
>		 !
CreateWalletWaitAsync		 +
(		+ ,
WalletsWait		, 7
request		8 ?
)		? @
;		@ A
Task

 
<

 	
WalletsWait

	 
>

 !
UpdateWalletWaitAsync

 +
(

+ ,
WalletsWait

, 7
request

8 ?
)

? @
;

@ A
Task 
< 	
WalletsWait	 
> !
DeleteWalletWaitAsync +
(+ ,
WalletsWait, 7
request8 ?
)? @
;@ A
} ∑
hC:\HeroSystem\walletService\WalletService.Data\Repositories\IRepositories\IWalletWithDrawalRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
.) *
IRepositories* 7
;7 8
public 
	interface '
IWalletWithDrawalRepository ,
{ 
Task 
< 	
List	 
< 
WalletsWithdrawal 
>  
>  !$
GetAllWalletsWithdrawals" :
(: ;
); <
;< =
Task 
< 	
WalletsWithdrawal	 
? 
> #
GetWalletWithdrawalById 4
(4 5
int5 8
idK M
)M N
;N O
Task		 
<		 	
WalletsWithdrawal			 
>		 '
CreateWalletWithdrawalAsync		 7
(		7 8
WalletsWithdrawal		8 I
request		J Q
)		Q R
;		R S
Task

 
<

 	
WalletsWithdrawal

	 
>

 '
UpdateWalletWithdrawalAsync

 7
(

7 8
WalletsWithdrawal

8 I
request

J Q
)

Q R
;

R S
Task 
< 	
WalletsWithdrawal	 
> '
DeleteWalletWithdrawalAsync 7
(7 8
WalletsWithdrawal8 I
requestJ Q
)Q R
;R S
} Ò
XC:\HeroSystem\walletService\WalletService.Data\Repositories\NetworkPurchaseRepository.cs
	namespace		 	
WalletService		
 
.		 
Data		 
.		 
Repositories		 )
;		) *
public 
class %
NetworkPurchaseRepository &
:' (
BaseRepository) 7
,7 8&
INetworkPurchaseRepository9 S
{ 
public 
%
NetworkPurchaseRepository $
($ %"
WalletServiceDbContext% ;
context< C
)C D
:E F
baseG K
(K L
contextL S
)S T
{U V
}W X
public 

Task 
< 
List 
< 
NetworkPurchase $
>$ %
>% &&
GetNetworkPurchasesEcoPool' A
(A B
DateTimeB J
fromK O
,O P
DateTimeQ Y
toZ \
)\ ]
=> 

Context 
. 
NetworkPurchases #
. 
Where 
( 
x 
=> 
x 
. 
	CreatedAt #
>=$ &
from' +
&&, .
x/ 0
.0 1
	CreatedAt1 :
<=; =
to> @
&&, .
x/ 0
.0 1
Origin1 7
==8 :
	Constants; D
.D E!
OriginEcoPoolPurchaseE Z
)Z [
.[ \
ToListAsync\ g
(g h
)h i
;i j
public 

async 
Task 
< 
List 
< 
( 
int 
Year  $
,$ %
int& )
Month* /
,/ 0
int1 4
TotalPurchases5 C
)C D
>D E
>E F'
GetPurchasesMadeInMyNetworkG b
(b c
HashSetc j
<j k
intk n
>n o
idsp s
)s t
{ 
if 

( 
ids 
. 
Count 
== 
$num 
) 
return 
new 
List 
< 
( 
int  
,  !
int" %
,% &
int' *
)* +
>+ ,
(, -
)- .
;. /
var 
sql 
= 
$" 
$str U
"U V
;V W
var 
	parameter 
= 
new 
NpgsqlParameter +
(+ ,
$str, 1
,1 2
NpgsqlDbType3 ?
.? @
Array@ E
|F G
NpgsqlDbTypeH T
.T U
IntegerU \
)\ ]
{ 	
Value 
= 
ids 
. 
ToArray 
(  
)  !
} 	
;	 

var   
results   
=   
await   
Context   #
.  # $
PurchasesPerMonth  $ 5
.!! 

FromSqlRaw!! 
(!! 
sql!! 
,!! 
	parameter!! &
)!!& '
."" 
ToListAsync"" 
("" 
)"" 
;"" 
return$$ 
results$$ 
.$$ 
Select$$ 
($$ 
r$$ 
=>$$  "
($$# $
r$$$ %
.$$% &
Year$$& *
,$$* +
r$$, -
.$$- .
Month$$. 3
,$$3 4
r$$5 6
.$$6 7
TotalPurchases$$7 E
)$$E F
)$$F G
.$$G H
ToList$$H N
($$N O
)$$O P
;$$P Q
}%% 
}&& ≠N
WC:\HeroSystem\walletService\WalletService.Data\Repositories\ResultsEcoPoolRepository.cs
	namespace		 	
WalletService		
 
.		 
Data		 
.		 
Repositories		 )
;		) *
public 
class $
ResultsEcoPoolRepository %
:& '
BaseRepository( 6
,6 7%
IResultsEcoPoolRepository8 Q
{ 
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
public 
$
ResultsEcoPoolRepository #
(# $
IOptions$ ,
<, -$
ApplicationConfiguration- E
>E F
appSettingsG R
,R S"
WalletServiceDbContextT j
contextk r
)r s
:t u
basev z
(z {
context	{ Ç
)
Ç É
=> 

_appSettings 
= 
appSettings %
.% &
Value& +
;+ ,
public 

Task 
< 
List 
< 
ResultsModel2 "
>" #
># $ 
GetAllResultsEcoPool% 9
(9 :
): ;
=> 

Context 
. 
ResultsModel2  
. 
Include 
( 
x 
=> 
x 
. 
ResultsModel2Levels /
)/ 0
.0 1
AsNoTracking1 =
(= >
)> ?
. 
Where 
( 
x 
=> 
x 
. 
CompletedAt %
==& (
null) -
)- .
.. /
ToListAsync/ :
(: ;
); <
;< =
public 

Task 
< 
List 
< 
ResultsModel2 "
>" #
># $%
GetResultsModel2ToPayment% >
(> ?
)? @
{ 
return 
Context 
. 
ResultsModel2 $
. 
Include 
( 
x 
=> 
x 
. 
ModelConfiguration .
). /
. 
Include 
( 
x 
=> 
x 
. 
ResultsModel2Levels /
)/ 0
. 
Where 
( 
x 
=> 
x 
. 
ModelConfiguration ,
., -
CompletedAt- 8
==9 ;
null< @
)@ A
.A B
ToListAsyncB M
(M N
)N O
;O P
} 
public 

Task 
< 
List 
< 
ResultsModel1a #
># $
>$ %&
GetResultsModel1AToPayment& @
(@ A
)A B
{ 
return   
Context   
.   
ResultsModel1A   %
.!! 
Include!! 
(!! 
x!! 
=>!! 
x!! 
.!!  
ResultsModel1aLevels!! 0
)!!0 1
.!!1 2
ToListAsync!!2 =
(!!= >
)!!> ?
;!!? @
}"" 
public$$ 

Task$$ 
<$$ 
List$$ 
<$$ 
ResultsModel1b$$ #
>$$# $
>$$$ %&
GetResultsModel1BToPayment$$& @
($$@ A
)$$A B
{%% 
return&& 
Context&& 
.&& 
ResultsModel1B&& %
.'' 
Include'' 
('' 
x'' 
=>'' 
x'' 
.''  
ResultsModel1bLevels'' 0
)''0 1
.''1 2
ToListAsync''2 =
(''= >
)''> ?
;''? @
}(( 
public** 

Task** 
<** 
List** 
<** 
ResultsModel3** "
>**" #
>**# $$
GetResultsMode3ToPayment**% =
(**= >
)**> ?
{++ 
return,, 
Context,, 
.,, 
ResultsModel3,, $
.-- 
Include-- 
(-- 
x-- 
=>-- 
x-- 
.-- 
ResultsModel3Levels-- /
)--/ 0
... 
Where.. 
(.. 
x.. 
=>.. 
x.. 
... 
CompletedAt.. %
==..& (
null..) -
)..- .
.... /
ToListAsync../ :
(..: ;
)..; <
;..< =
}// 
public11 

Task11 
<11 
decimal11 
>11 &
SumResidualModel1AByUserId11 3
(113 4
int114 7
userId118 >
)11> ?
{22 
return33 
Context33 
.33  
ResultsModel1ALevels33 +
.33+ ,
Where33, 1
(331 2
x332 3
=>334 6
x337 8
.338 9
AffiliateId339 D
==33E G
userId33H N
)33N O
.44 
SumAsync44 
(44 
s44 
=>44 
s44 
.44 
PaymentAmount44 *
)44* +
;44+ ,
}55 
public77 

Task77 
<77 
decimal77 
>77 %
SumPassiveModel1AByUserId77 2
(772 3
int773 6
userId777 =
)77= >
{88 
return99 
Context99 
.99 
ResultsModel1A99 %
.99% &
Where99& +
(99+ ,
x99, -
=>99. 0
x991 2
.992 3
AffiliateId993 >
==99? A
userId99B H
)99H I
.:: 
SumAsync:: 
(:: 
s:: 
=>:: 
s:: 
.:: 
PaymentAmount:: *
)::* +
;::+ ,
};; 
public== 

Task== 
<== 
decimal== 
>== &
SumResidualModel1BByUserId== 3
(==3 4
int==4 7
userId==8 >
)==> ?
{>> 
return?? 
Context?? 
.??  
ResultsModel1BLevels?? +
.??+ ,
Where??, 1
(??1 2
x??2 3
=>??4 6
x??7 8
.??8 9
AffiliateId??9 D
==??E G
userId??H N
)??N O
.@@ 
SumAsync@@ 
(@@ 
s@@ 
=>@@ 
s@@ 
.@@ 
PaymentAmount@@ *
)@@* +
;@@+ ,
}AA 
publicCC 

TaskCC 
<CC 
decimalCC 
>CC %
SumPassiveModel1BByUserIdCC 2
(CC2 3
intCC3 6
userIdCC7 =
)CC= >
{DD 
returnEE 
ContextEE 
.EE 
ResultsModel1BEE %
.EE% &
WhereEE& +
(EE+ ,
xEE, -
=>EE. 0
xEE1 2
.EE2 3
AffiliateIdEE3 >
==EE? A
userIdEEB H
)EEH I
.FF 
SumAsyncFF 
(FF 
sFF 
=>FF 
sFF 
.FF 
PaymentAmountFF *
)FF* +
;FF+ ,
}GG 
publicII 

TaskII 
<II 
decimalII 
>II %
SumResidualModel2ByUserIdII 2
(II2 3
intII3 6
userIdII7 =
)II= >
{JJ 
returnKK 
ContextKK 
.KK 
ResultsModel2LevelsKK *
.KK* +
WhereKK+ 0
(KK0 1
xKK1 2
=>KK3 5
xKK6 7
.KK7 8
AffiliateIdKK8 C
==KKD F
userIdKKG M
)KKM N
.LL 
SumAsyncLL 
(LL 
sLL 
=>LL 
sLL 
.LL 
PaymentAmountLL *
)LL* +
;LL+ ,
}MM 
publicOO 

TaskOO 
<OO 
decimalOO 
>OO $
SumPassiveModel2ByUserIdOO 1
(OO1 2
intOO2 5
userIdOO6 <
)OO< =
{PP 
returnQQ 
ContextQQ 
.QQ 
ResultsModel2QQ $
.QQ$ %
WhereQQ% *
(QQ* +
xQQ+ ,
=>QQ- /
xQQ0 1
.QQ1 2
AffiliateIdQQ2 =
==QQ> @
userIdQQA G
)QQG H
.RR 
SumAsyncRR 
(RR 
sRR 
=>RR 
sRR 
.RR 
PaymentAmountRR *
)RR* +
;RR+ ,
}SS 
publicUU 

TaskUU 
<UU 
decimalUU 
>UU %
SumResidualModel3ByUserIdUU 2
(UU2 3
intUU3 6
userIdUU7 =
)UU= >
{VV 
returnWW 
ContextWW 
.WW 
ResultsModel3LevelsWW *
.WW* +
WhereWW+ 0
(WW0 1
xWW1 2
=>WW3 5
xWW6 7
.WW7 8
AffiliateIdWW8 C
==WWD F
userIdWWG M
)WWM N
.XX 
SumAsyncXX 
(XX 
sXX 
=>XX 
sXX 
.XX 
PaymentAmountXX *
)XX* +
;XX+ ,
}YY 
public[[ 

Task[[ 
<[[ 
decimal[[ 
>[[ '
SumPercentageModel3ByUserId[[ 4
([[4 5
int[[5 8
userId[[9 ?
)[[? @
{\\ 
return]] 
Context]] 
.]] 
ResultsModel3]] $
.]]$ %
Where]]% *
(]]* +
x]]+ ,
=>]]- /
x]]0 1
.]]1 2
AffiliateId]]2 =
==]]> @
userId]]A G
)]]G H
.^^ 
SumAsync^^ 
(^^ 
s^^ 
=>^^ 
s^^ 
.^^ 
PaymentAmount^^ *
)^^* +
;^^+ ,
}__ 
}`` ≈ 
VC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletHistoryRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class #
WalletHistoryRepository $
:% &
BaseRepository' 5
,5 6$
IWalletHistoryRepository7 O
{		 
public

 
#
WalletHistoryRepository

 "
(

" #"
WalletServiceDbContext

# 9
context

: A
)

A B
:

C D
base

E I
(

I J
context

J Q
)

Q R
{

S T
}

U V
public 

Task 
< 
List 
< 
WalletsHistory #
># $
>$ %'
GetAllWalletsHistoriesAsync& A
(A B
)B C
=> 

Context 
. 
WalletsHistories #
.# $
AsNoTracking$ 0
(0 1
)1 2
.2 3
ToListAsync3 >
(> ?
)? @
;@ A
public 

Task 
< 
WalletsHistory 
? 
>  '
GetWalletHistoriesByIdAsync! <
(< =
int= @
idA C
)C D
=> 

Context 
. 
WalletsHistories #
.# $
FirstOrDefaultAsync$ 7
(7 8
x8 9
=>: <
x= >
.> ?
Id? A
==B D
idE G
)G H
;H I
public 

async 
Task 
< 
WalletsHistory $
>$ %&
CreateWalletHistoriesAsync& @
(@ A
WalletsHistoryA O
requestP W
)W X
{ 
var 
today 
= 
DateTime 
. 
Now  
;  !
request 
. 
	CreatedAt 
= 
today !
;! "
request 
. 
	UpdatedAt 
= 
today !
;! "
await 
Context 
. 
AddAsync 
( 
request &
)& '
;' (
await 
Context 
. 
SaveChangesAsync &
(& '
)' (
;( )
return 
request 
; 
} 
public 

async 
Task 
< 
WalletsHistory $
>$ %&
UpdateWalletHistoriesAsync& @
(@ A
WalletsHistoryA O
requestP W
)W X
{ 
var 
today 
= 
DateTime 
. 
Now  
;  !
request   
.   
	UpdatedAt   
=   
today   !
;  ! "
Context!! 
.!! 
WalletsHistories!!  
.!!  !
Update!!! '
(!!' (
request!!( /
)!!/ 0
;!!0 1
await"" 
Context"" 
."" 
SaveChangesAsync"" &
(""& '
)""' (
;""( )
return$$ 
request$$ 
;$$ 
}%% 
public'' 

async'' 
Task'' 
<'' 
WalletsHistory'' $
>''$ %&
DeleteWalletHistoriesAsync''& @
(''@ A
WalletsHistory''A O
request''P W
)''W X
{(( 
request)) 
.)) 
	DeletedAt)) 
=)) 
DateTime)) $
.))$ %
Now))% (
;))( )
Context++ 
.++ 
WalletsHistories++  
.++  !
Update++! '
(++' (
request++( /
)++/ 0
;++0 1
await,, 
Context,, 
.,, 
SaveChangesAsync,, &
(,,& '
),,' (
;,,( )
return.. 
request.. 
;.. 
}// 
}00 Òì
VC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletModel1ARepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class #
WalletModel1ARepository $
:% &
BaseRepository' 5
,5 6$
IWalletModel1ARepository7 O
{ 
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
public 
#
WalletModel1ARepository "
(" #
IOptions# +
<+ ,$
ApplicationConfiguration, D
>D E
appSettingsF Q
,Q R"
WalletServiceDbContextS i
contextj q
)q r
:s t
base 
( 
context 
) 
=> 

_appSettings 
= 
appSettings %
.% &
Value& +
;+ ,
public 

async 
Task 
< 
bool 
> 
CreditTransaction -
(- .$
CreditTransactionRequest. F
requestG N
)N O
{ 
try 
{ 	
await 
using 
var 
sql 
=  !
new" %
SqlConnection& 3
(3 4
_appSettings4 @
.@ A
ConnectionStringsA R
?R S
.S T 
PostgreSqlConnectionT h
)h i
;i j
await 
using 
var 
cmd 
=  !
new" %

SqlCommand& 0
(0 1
	Constants1 :
.: ;&
CreditTransactionSpModel1A; U
,U V
sqlW Z
)Z [
;[ \&
CreateCreditListParameters   &
(  & '
request  ' .
,  . /
cmd  0 3
)  3 4
;  4 5
await"" 
sql"" 
."" 
	OpenAsync"" 
(""  
)""  !
;""! "
await## 
cmd## 
.##  
ExecuteNonQueryAsync## *
(##* +
)##+ ,
;##, -
await$$ 
sql$$ 
.$$ 

CloseAsync$$  
($$  !
)$$! "
;$$" #
return&& 
true&& 
;&& 
}'' 	
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 	
Console** 
.** 
	WriteLine** 
(** 
e** 
)**  
;**  !
return++ 
false++ 
;++ 
},, 	
}-- 
public00 

async00 
Task00 
<00 
InvoicesSpResponse00 (
?00( )
>00) *%
DebitEcoPoolTransactionSp00+ D
(00D E#
DebitTransactionRequest00E \
request00] d
)00d e
{11 
try22 
{33 	
await44 
using44 
var44 
sql44 
=44  !
new44" %
SqlConnection44& 3
(443 4
_appSettings444 @
.44@ A
ConnectionStrings44A R
?44R S
.44S T 
PostgreSqlConnection44T h
)44h i
;44i j
await55 
using55 
var55 
cmd55 
=55  !
new55" %

SqlCommand55& 0
(550 1
	Constants551 :
.55: ;,
 DebitEcoPoolTransactionSpModel1A55; [
,55[ \
sql55] `
)55` a
;55a b,
 CreateDebitEcoPoolListParameters77 ,
(77, -
request77- 4
,774 5
cmd776 9
)779 :
;77: ;
await99 
sql99 
.99 
	OpenAsync99 
(99  
)99  !
;99! "
await:: 
using:: 
var:: 
oReader:: #
=::' (
await::) .
cmd::/ 2
.::2 3
ExecuteReaderAsync::3 E
(::E F
)::F G
;::G H
var;; 
dd;; 
=;;' (
oReader;;) 0
.;;0 1
ToDynamicList;;1 >
(;;> ?
);;? @
;;;@ A
var<< 

jsonString<< &
=<<' (
dd<<) +
.<<+ ,
FirstOrDefault<<, :
(<<: ;
)<<; <
!<<< =
.<<= >
ToJsonString<<> J
(<<J K
)<<K L
;<<L M
var== 
response== $
===' (

jsonString==) 3
.==3 4
ToJsonObject==4 @
<==@ A
InvoicesSpResponse==A S
>==S T
(==T U
)==U V
;==V W
await@@ 
sql@@ 
.@@ 

CloseAsync@@  
(@@  !
)@@! "
;@@" #
returnBB 
responseBB 
;BB 
}CC 	
catchDD 
(DD 
	ExceptionDD 
eDD 
)DD 
{EE 	
ConsoleFF 
.FF 
	WriteLineFF 
(FF 
eFF 
)FF  
;FF  !
throwGG 
;GG 
}HH 	
}II 
publicKK 

asyncKK 
TaskKK 
<KK 
InvoicesSpResponseKK (
?KK( )
>KK) *
DebitTransactionKK+ ;
(KK; <#
DebitTransactionRequestKK< S
requestKKT [
)KK[ \
{LL 
tryMM 
{NN 	
awaitOO 
usingOO 
varOO 
sqlOO 
=OO  !
newOO" %
SqlConnectionOO& 3
(OO3 4
_appSettingsOO4 @
.OO@ A
ConnectionStringsOOA R
?OOR S
.OOS T 
PostgreSqlConnectionOOT h
)OOh i
;OOi j
awaitPP 
usingPP 
varPP 
cmdPP 
=PP  !
newPP" %

SqlCommandPP& 0
(PP0 1
	ConstantsPP1 :
.PP: ;%
DebitTransactionSpModel1APP; T
,PPT U
sqlPPV Y
)PPY Z
;PPZ [
varRR 
invoicesDetailsRR 
=RR  !
CommonExtensionsRR" 2
.RR2 3
ConvertToDataTableRR3 E
(RRE F
requestRRF M
.RRM N
invoicesRRN V
)RRV W
;RRW X%
CreateDebitListParametersTT %
(TT% &
requestTT& -
,TT- .
invoicesDetailsTT/ >
,TT> ?
cmdTT@ C
)TTC D
;TTD E
awaitVV 
sqlVV 
.VV 
	OpenAsyncVV 
(VV  
)VV  !
;VV! "
awaitWW 
usingWW 
varWW 
oReaderWW #
=WW' (
awaitWW) .
cmdWW/ 2
.WW2 3
ExecuteReaderAsyncWW3 E
(WWE F
)WWF G
;WWG H
varXX 
ddXX 
=XX' (
oReaderXX) 0
.XX0 1
ToDynamicListXX1 >
(XX> ?
)XX? @
;XX@ A
varYY 

jsonStringYY &
=YY' (
ddYY) +
.YY+ ,
FirstOrDefaultYY, :
(YY: ;
)YY; <
!YY< =
.YY= >
ToJsonStringYY> J
(YYJ K
)YYK L
;YYL M
varZZ 
responseZZ $
=ZZ' (

jsonStringZZ) 3
.ZZ3 4
ToJsonObjectZZ4 @
<ZZ@ A
InvoicesSpResponseZZA S
>ZZS T
(ZZT U
)ZZU V
;ZZV W
await]] 
sql]] 
.]] 

CloseAsync]]  
(]]  !
)]]! "
;]]" #
return__ 
response__ 
;__ 
}`` 	
catchaa 
(aa 
	Exceptionaa 
eaa 
)aa 
{bb 	
Consolecc 
.cc 
	WriteLinecc 
(cc 
ecc 
)cc  
;cc  !
throwdd 
;dd 
}ee 	
}ff 
privatehh 
voidhh &
CreateCreditListParametershh +
(hh+ ,$
CreditTransactionRequesthh, D
requesthhE L
,hhL M

SqlCommandhhN X
cmdhhY \
)hh\ ]
{ii 
cmdjj 
.jj 
CommandTypejj 
=jj 
CommandTypejj %
.jj% &
StoredProcedurejj& 5
;jj5 6
cmdkk 
.kk 

Parameterskk 
.kk 
Addkk 
(kk 
newkk 
SqlParameterkk +
(kk+ ,
$strkk, :
,kk: ;
	SqlDbTypekk< E
.kkE F
IntkkF I
)kkI J
{ll 	
Valuemm 
=mm 
requestmm 
.mm 
AffiliateIdmm '
}nn 	
)nn	 

;nn
 
cmdpp 
.pp 

Parameterspp 
.pp 
Addpp 
(pp 
newpp 
SqlParameterpp +
(pp+ ,
$strpp, 5
,pp5 6
	SqlDbTypepp7 @
.pp@ A
IntppA D
)ppD E
{qq 	
Valuerr 
=rr 
requestrr 
.rr 
UserIdrr "
}ss 	
)ss	 

;ss
 
cmduu 
.uu 

Parametersuu 
.uu 
Adduu 
(uu 
newuu 
SqlParameteruu +
(uu+ ,
$struu, 6
,uu6 7
	SqlDbTypeuu8 A
.uuA B
VarCharuuB I
)uuI J
{vv 	
Valueww 
=ww 
requestww 
.ww 
Conceptww #
,ww# $
Sizexx 
=xx 
$numxx 
}yy 	
)yy	 

;yy
 
cmd{{ 
.{{ 

Parameters{{ 
.{{ 
Add{{ 
({{ 
new{{ 
SqlParameter{{ +
({{+ ,
$str{{, 5
,{{5 6
	SqlDbType{{7 @
.{{@ A
Decimal{{A H
){{H I
{|| 	
Value}} 
=}} 
request}} 
.}} 
Credit}} "
}~~ 	
)~~	 

;~~
 
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ 
.
ÄÄ 
Add
ÄÄ 
(
ÄÄ 
new
ÄÄ 
SqlParameter
ÄÄ +
(
ÄÄ+ ,
$str
ÄÄ, @
,
ÄÄ@ A
	SqlDbType
ÄÄB K
.
ÄÄK L
VarChar
ÄÄL S
)
ÄÄS T
{
ÅÅ 	
Value
ÇÇ 
=
ÇÇ 
request
ÇÇ 
.
ÇÇ 
AffiliateUserName
ÇÇ -
,
ÇÇ- .
Size
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
}
ÑÑ 	
)
ÑÑ	 

;
ÑÑ
 
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
new
ÜÜ 
SqlParameter
ÜÜ +
(
ÜÜ+ ,
$str
ÜÜ, <
,
ÜÜ< =
	SqlDbType
ÜÜ> G
.
ÜÜG H
VarChar
ÜÜH O
)
ÜÜO P
{
áá 	
Value
àà 
=
àà 
request
àà 
.
àà 
AdminUserName
àà )
,
àà) *
Size
ââ 
=
ââ 
$num
ââ 
}
ää 	
)
ää	 

;
ää
 
cmd
åå 
.
åå 

Parameters
åå 
.
åå 
Add
åå 
(
åå 
new
åå 
SqlParameter
åå +
(
åå+ ,
$str
åå, :
,
åå: ;
	SqlDbType
åå< E
.
ååE F
VarChar
ååF M
)
ååM N
{
çç 	
Value
éé 
=
éé 
request
éé 
.
éé 
ConceptType
éé '
,
éé' (
Size
èè 
=
èè 
$num
èè 
}
êê 	
)
êê	 

;
êê
 
}
ëë 
private
îî 
void
îî .
 CreateDebitEcoPoolListParameters
îî 1
(
îî1 2%
DebitTransactionRequest
îî2 I
request
îîJ Q
,
îîQ R

SqlCommand
îîS ]
cmd
îî^ a
)
îîa b
{
ïï 
cmd
ññ 
.
ññ 
CommandType
ññ 
=
ññ 
CommandType
ññ %
.
ññ% &
StoredProcedure
ññ& 5
;
ññ5 6
cmd
óó 
.
óó 

Parameters
óó 
.
óó 
Add
óó 
(
óó 
new
óó 
SqlParameter
óó +
(
óó+ ,
$str
óó, :
,
óó: ;
	SqlDbType
óó< E
.
óóE F
Int
óóF I
)
óóI J
{
òò 	
Value
ôô 
=
ôô 
request
ôô 
.
ôô 
AffiliateId
ôô '
}
öö 	
)
öö	 

;
öö
 
cmd
úú 
.
úú 

Parameters
úú 
.
úú 
Add
úú 
(
úú 
new
úú 
SqlParameter
úú +
(
úú+ ,
$str
úú, 5
,
úú5 6
	SqlDbType
úú7 @
.
úú@ A
Int
úúA D
)
úúD E
{
ùù 	
Value
ûû 
=
ûû 
request
ûû 
.
ûû 
UserId
ûû "
}
üü 	
)
üü	 

;
üü
 
cmd
°° 
.
°° 

Parameters
°° 
.
°° 
Add
°° 
(
°° 
new
°° 
SqlParameter
°° +
(
°°+ ,
$str
°°, 6
,
°°6 7
	SqlDbType
°°8 A
.
°°A B
VarChar
°°B I
)
°°I J
{
¢¢ 	
Value
££ 
=
££ 
request
££ 
.
££ 
Concept
££ #
,
££# $
Size
§§ 
=
§§ 
$num
§§ 
}
•• 	
)
••	 

;
••
 
cmd
ßß 
.
ßß 

Parameters
ßß 
.
ßß 
Add
ßß 
(
ßß 
new
ßß 
SqlParameter
ßß +
(
ßß+ ,
$str
ßß, 5
,
ßß5 6
	SqlDbType
ßß7 @
.
ßß@ A
Decimal
ßßA H
)
ßßH I
{
®® 	
Value
©© 
=
©© 
request
©© 
.
©© 
Points
©© "
}
™™ 	
)
™™	 

;
™™
 
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ 
.
¨¨ 
Add
¨¨ 
(
¨¨ 
new
¨¨ 
SqlParameter
¨¨ +
(
¨¨+ ,
$str
¨¨, =
,
¨¨= >
	SqlDbType
¨¨? H
.
¨¨H I
Decimal
¨¨I P
)
¨¨P Q
{
≠≠ 	
Value
ÆÆ 
=
ÆÆ 
request
ÆÆ 
.
ÆÆ 
Commissionable
ÆÆ *
}
ØØ 	
)
ØØ	 

;
ØØ
 
cmd
±± 
.
±± 

Parameters
±± 
.
±± 
Add
±± 
(
±± 
new
±± 
SqlParameter
±± +
(
±±+ ,
$str
±±, 3
,
±±3 4
	SqlDbType
±±5 >
.
±±> ?
VarChar
±±? F
)
±±F G
{
≤≤ 	
Value
≥≥ 
=
≥≥ 
string
≥≥ 
.
≥≥  
IsNullOrEmpty
≥≥  -
(
≥≥- .
request
≥≥. 5
.
≥≥5 6
Bank
≥≥6 :
)
≥≥: ;
?
≥≥< =
null
≥≥> B
:
≥≥C D
request
≥≥E L
.
≥≥L M
Bank
≥≥M Q
,
≥≥Q R

IsNullable
¥¥ 
=
¥¥ 
true
¥¥ 
,
¥¥ 
Size
µµ 
=
µµ 
$num
µµ 
}
∂∂ 	
)
∂∂	 

;
∂∂
 
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ 
.
∏∏ 
Add
∏∏ 
(
∏∏ 
new
∏∏ 
SqlParameter
∏∏ +
(
∏∏+ ,
$str
∏∏, <
,
∏∏< =
	SqlDbType
∏∏> G
.
∏∏G H
VarChar
∏∏H O
)
∏∏O P
{
ππ 	
Value
∫∫ 
=
∫∫ 
request
∫∫ 
.
∫∫ 
PaymentMethod
∫∫ )
,
∫∫) *
Size
ªª 
=
ªª 
$num
ªª 
}
ºº 	
)
ºº	 

;
ºº
 
cmd
ææ 
.
ææ 

Parameters
ææ 
.
ææ 
Add
ææ 
(
ææ 
new
ææ 
SqlParameter
ææ +
(
ææ+ ,
$str
ææ, 5
,
ææ5 6
	SqlDbType
ææ7 @
.
ææ@ A
TinyInt
ææA H
)
ææH I
{
øø 	
Value
¿¿ 
=
¿¿ 
request
¿¿ 
.
¿¿ 
Origin
¿¿ "
}
¡¡ 	
)
¡¡	 

;
¡¡
 
cmd
√√ 
.
√√ 

Parameters
√√ 
.
√√ 
Add
√√ 
(
√√ 
new
√√ 
SqlParameter
√√ +
(
√√+ ,
$str
√√, 4
,
√√4 5
	SqlDbType
√√6 ?
.
√√? @
Int
√√@ C
)
√√C D
{
ƒƒ 	
Value
≈≈ 
=
≈≈ 
request
≈≈ 
.
≈≈ 
Level
≈≈ !
}
∆∆ 	
)
∆∆	 

;
∆∆
 
cmd
»» 
.
»» 

Parameters
»» 
.
»» 
Add
»» 
(
»» 
new
»» 
SqlParameter
»» +
(
»»+ ,
$str
»», 4
,
»»4 5
	SqlDbType
»»6 ?
.
»»? @
Decimal
»»@ G
)
»»G H
{
…… 	
Value
   
=
   
request
   
.
   
Debit
   !
}
ÀÀ 	
)
ÀÀ	 

;
ÀÀ
 
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ 
.
ÕÕ 
Add
ÕÕ 
(
ÕÕ 
new
ÕÕ 
SqlParameter
ÕÕ +
(
ÕÕ+ ,
$str
ÕÕ, @
,
ÕÕ@ A
	SqlDbType
ÕÕB K
.
ÕÕK L
VarChar
ÕÕL S
)
ÕÕS T
{
ŒŒ 	
Value
œœ 
=
œœ 
request
œœ 
.
œœ 
AffiliateUserName
œœ -
,
œœ- .
Size
–– 
=
–– 
$num
–– 
}
—— 	
)
——	 

;
——
 
cmd
”” 
.
”” 

Parameters
”” 
.
”” 
Add
”” 
(
”” 
new
”” 
SqlParameter
”” +
(
””+ ,
$str
””, <
,
””< =
	SqlDbType
””> G
.
””G H
VarChar
””H O
)
””O P
{
‘‘ 	
Value
’’ 
=
’’ 
request
’’ 
.
’’ 
AdminUserName
’’ )
,
’’) *
Size
÷÷ 
=
÷÷ 
$num
÷÷ 
}
◊◊ 	
)
◊◊	 

;
◊◊
 
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ 
.
ŸŸ 
Add
ŸŸ 
(
ŸŸ 
new
ŸŸ 
SqlParameter
ŸŸ +
(
ŸŸ+ ,
$str
ŸŸ, <
,
ŸŸ< =
	SqlDbType
ŸŸ> G
.
ŸŸG H
VarChar
ŸŸH O
)
ŸŸO P
{
⁄⁄ 	
Value
€€ 
=
€€ 
string
€€ 
.
€€  
IsNullOrEmpty
€€  -
(
€€- .
request
€€. 5
.
€€5 6
ReceiptNumber
€€6 C
)
€€C D
?
€€E F
null
€€G K
:
€€L M
request
€€N U
.
€€U V
ReceiptNumber
€€V c
,
€€c d

IsNullable
‹‹ 
=
‹‹ 
true
‹‹ 
,
‹‹ 
Size
›› 
=
›› 
$num
›› 
}
ﬁﬁ 	
)
ﬁﬁ	 

;
ﬁﬁ
 
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ 
.
‡‡ 
Add
‡‡ 
(
‡‡ 
new
‡‡ 
SqlParameter
‡‡ +
(
‡‡+ ,
$str
‡‡, 3
,
‡‡3 4
	SqlDbType
‡‡5 >
.
‡‡> ?
Bit
‡‡? B
)
‡‡B C
{
·· 	
Value
‚‚ 
=
‚‚ 
request
‚‚ 
.
‚‚ 
Type
‚‚  
}
„„ 	
)
„„	 

;
„„
 
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ 
.
ÂÂ 
Add
ÂÂ 
(
ÂÂ 
new
ÂÂ 
SqlParameter
ÂÂ +
(
ÂÂ+ ,
$str
ÂÂ, 8
,
ÂÂ8 9
	SqlDbType
ÂÂ: C
.
ÂÂC D
VarChar
ÂÂD K
)
ÂÂK L
{
ÊÊ 	
Value
ÁÁ 
=
ÁÁ 
string
ÁÁ 
.
ÁÁ  
IsNullOrEmpty
ÁÁ  -
(
ÁÁ- .
request
ÁÁ. 5
.
ÁÁ5 6
	SecretKey
ÁÁ6 ?
)
ÁÁ? @
?
ÁÁA B
null
ÁÁC G
:
ÁÁH I
request
ÁÁJ Q
.
ÁÁQ R
	SecretKey
ÁÁR [
,
ÁÁ[ \

IsNullable
ËË 
=
ËË 
true
ËË 
,
ËË 
Size
ÈÈ 
=
ÈÈ 
$num
ÈÈ 
}
ÍÍ 	
)
ÍÍ	 

;
ÍÍ
 
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
new
ÏÏ 
SqlParameter
ÏÏ +
(
ÏÏ+ ,
$str
ÏÏ, :
,
ÏÏ: ;
	SqlDbType
ÏÏ< E
.
ÏÏE F
VarChar
ÏÏF M
)
ÏÏM N
{
ÌÌ 	
Value
ÓÓ 
=
ÓÓ 
request
ÓÓ 
.
ÓÓ 
ConceptType
ÓÓ '
,
ÓÓ' (
Size
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
}
 	
)
	 

;

 
}
ÒÒ 
private
ÚÚ 
void
ÚÚ 5
'CreateDebitServiceBalanceListParameters
ÚÚ 8
(
ÚÚ8 9%
DebitTransactionRequest
ÚÚ9 P
request
ÚÚQ X
,
ÚÚX Y
	DataTable
ÚÚZ c
dataTableDetails
ÚÚd t
,
ÚÚt u

SqlCommandÚÚv Ä
cmdÚÚÅ Ñ
)ÚÚÑ Ö
{
ÛÛ 
cmd
ÙÙ 
.
ÙÙ 
CommandType
ÙÙ 
=
ÙÙ 
CommandType
ÙÙ %
.
ÙÙ% &
StoredProcedure
ÙÙ& 5
;
ÙÙ5 6
cmd
ıı 
.
ıı 

Parameters
ıı 
.
ıı 
Add
ıı 
(
ıı 
new
ıı 
SqlParameter
ıı +
(
ıı+ ,
$str
ıı, :
,
ıı: ;
	SqlDbType
ıı< E
.
ııE F
Int
ııF I
)
ııI J
{
ˆˆ 	
Value
˜˜ 
=
˜˜ 
request
˜˜ 
.
˜˜ 
AffiliateId
˜˜ '
}
¯¯ 	
)
¯¯	 

;
¯¯
 
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ 
.
˙˙ 
Add
˙˙ 
(
˙˙ 
new
˙˙ 
SqlParameter
˙˙ +
(
˙˙+ ,
$str
˙˙, 5
,
˙˙5 6
	SqlDbType
˙˙7 @
.
˙˙@ A
Int
˙˙A D
)
˙˙D E
{
˚˚ 	
Value
¸¸ 
=
¸¸ 
request
¸¸ 
.
¸¸ 
UserId
¸¸ "
}
˝˝ 	
)
˝˝	 

;
˝˝
 
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ 
.
ˇˇ 
Add
ˇˇ 
(
ˇˇ 
new
ˇˇ 
SqlParameter
ˇˇ +
(
ˇˇ+ ,
$str
ˇˇ, 6
,
ˇˇ6 7
	SqlDbType
ˇˇ8 A
.
ˇˇA B
VarChar
ˇˇB I
)
ˇˇI J
{
ÄÄ 	
Value
ÅÅ 
=
ÅÅ 
request
ÅÅ 
.
ÅÅ 
Concept
ÅÅ #
,
ÅÅ# $
Size
ÇÇ 
=
ÇÇ 
$num
ÇÇ 
}
ÉÉ 	
)
ÉÉ	 

;
ÉÉ
 
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ 
.
ÖÖ 
Add
ÖÖ 
(
ÖÖ 
new
ÖÖ 
SqlParameter
ÖÖ +
(
ÖÖ+ ,
$str
ÖÖ, 5
,
ÖÖ5 6
	SqlDbType
ÖÖ7 @
.
ÖÖ@ A
Decimal
ÖÖA H
)
ÖÖH I
{
ÜÜ 	
Value
áá 
=
áá 
request
áá 
.
áá 
Points
áá "
}
àà 	
)
àà	 

;
àà
 
cmd
ää 
.
ää 

Parameters
ää 
.
ää 
Add
ää 
(
ää 
new
ää 
SqlParameter
ää +
(
ää+ ,
$str
ää, =
,
ää= >
	SqlDbType
ää? H
.
ääH I
Decimal
ääI P
)
ääP Q
{
ãã 	
Value
åå 
=
åå 
request
åå 
.
åå 
Commissionable
åå *
}
çç 	
)
çç	 

;
çç
 
cmd
èè 
.
èè 

Parameters
èè 
.
èè 
Add
èè 
(
èè 
new
èè 
SqlParameter
èè +
(
èè+ ,
$str
èè, 3
,
èè3 4
	SqlDbType
èè5 >
.
èè> ?
VarChar
èè? F
)
èèF G
{
êê 	
Value
ëë 
=
ëë 
string
ëë 
.
ëë  
IsNullOrEmpty
ëë  -
(
ëë- .
request
ëë. 5
.
ëë5 6
Bank
ëë6 :
)
ëë: ;
?
ëë< =
null
ëë> B
:
ëëC D
request
ëëE L
.
ëëL M
Bank
ëëM Q
,
ëëQ R

IsNullable
íí 
=
íí 
true
íí 
,
íí 
Size
ìì 
=
ìì 
$num
ìì 
}
îî 	
)
îî	 

;
îî
 
cmd
ññ 
.
ññ 

Parameters
ññ 
.
ññ 
Add
ññ 
(
ññ 
new
ññ 
SqlParameter
ññ +
(
ññ+ ,
$str
ññ, <
,
ññ< =
	SqlDbType
ññ> G
.
ññG H
VarChar
ññH O
)
ññO P
{
óó 	
Value
òò 
=
òò 
request
òò 
.
òò 
PaymentMethod
òò )
,
òò) *
Size
ôô 
=
ôô 
$num
ôô 
}
öö 	
)
öö	 

;
öö
 
cmd
úú 
.
úú 

Parameters
úú 
.
úú 
Add
úú 
(
úú 
new
úú 
SqlParameter
úú +
(
úú+ ,
$str
úú, 4
,
úú4 5
	SqlDbType
úú6 ?
.
úú? @
Decimal
úú@ G
)
úúG H
{
ùù 	
Value
ûû 
=
ûû 
request
ûû 
.
ûû 
Debit
ûû !
}
üü 	
)
üü	 

;
üü
 
cmd
°° 
.
°° 

Parameters
°° 
.
°° 
Add
°° 
(
°° 
new
°° 
SqlParameter
°° +
(
°°+ ,
$str
°°, @
,
°°@ A
	SqlDbType
°°B K
.
°°K L
VarChar
°°L S
)
°°S T
{
¢¢ 	
Value
££ 
=
££ 
request
££ 
.
££ 
AffiliateUserName
££ -
,
££- .
Size
§§ 
=
§§ 
$num
§§ 
}
•• 	
)
••	 

;
••
 
cmd
®® 
.
®® 

Parameters
®® 
.
®® 
Add
®® 
(
®® 
new
®® 
SqlParameter
®® +
(
®®+ ,
$str
®®, <
,
®®< =
	SqlDbType
®®> G
.
®®G H
VarChar
®®H O
)
®®O P
{
©© 	
Value
™™ 
=
™™ 
string
™™ 
.
™™  
IsNullOrEmpty
™™  -
(
™™- .
request
™™. 5
.
™™5 6
ReceiptNumber
™™6 C
)
™™C D
?
™™E F
null
™™G K
:
™™L M
request
™™N U
.
™™U V
ReceiptNumber
™™V c
,
™™c d

IsNullable
´´ 
=
´´ 
true
´´ 
,
´´ 
Size
¨¨ 
=
¨¨ 
$num
¨¨ 
}
≠≠ 	
)
≠≠	 

;
≠≠
 
cmd
ØØ 
.
ØØ 

Parameters
ØØ 
.
ØØ 
Add
ØØ 
(
ØØ 
new
ØØ 
SqlParameter
ØØ +
(
ØØ+ ,
$str
ØØ, 3
,
ØØ3 4
	SqlDbType
ØØ5 >
.
ØØ> ?
Bit
ØØ? B
)
ØØB C
{
∞∞ 	
Value
±± 
=
±± 
request
±± 
.
±± 
Type
±±  
}
≤≤ 	
)
≤≤	 

;
≤≤
 
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ 
.
¥¥ 
Add
¥¥ 
(
¥¥ 
new
¥¥ 
SqlParameter
¥¥ +
(
¥¥+ ,
$str
¥¥, 8
,
¥¥8 9
	SqlDbType
¥¥: C
.
¥¥C D
VarChar
¥¥D K
)
¥¥K L
{
µµ 	
Value
∂∂ 
=
∂∂ 
string
∂∂ 
.
∂∂  
IsNullOrEmpty
∂∂  -
(
∂∂- .
request
∂∂. 5
.
∂∂5 6
	SecretKey
∂∂6 ?
)
∂∂? @
?
∂∂A B
null
∂∂C G
:
∂∂H I
request
∂∂J Q
.
∂∂Q R
	SecretKey
∂∂R [
,
∂∂[ \

IsNullable
∑∑ 
=
∑∑ 
true
∑∑ 
,
∑∑ 
Size
∏∏ 
=
∏∏ 
$num
∏∏ 
}
ππ 	
)
ππ	 

;
ππ
 
cmd
ªª 
.
ªª 

Parameters
ªª 
.
ªª 
Add
ªª 
(
ªª 
new
ªª 
SqlParameter
ªª +
(
ªª+ ,
$str
ªª, >
,
ªª> ?
	SqlDbType
ªª@ I
.
ªªI J

Structured
ªªJ T
)
ªªT U
{
ºº 	
Value
ΩΩ 
=
ΩΩ 
dataTableDetails
ΩΩ '
,
ΩΩ' (
TypeName
ææ 
=
ææ 
$str
ææ 0
}
øø 	
)
øø	 

;
øø
 
}
¿¿ 
private
√√ 
void
√√ '
CreateDebitListParameters
√√ *
(
√√* +%
DebitTransactionRequest
√√+ B
request
√√C J
,
√√J K
	DataTable
√√L U
dataTableDetails
√√V f
,
√√f g

SqlCommand
√√h r
cmd
√√s v
)
√√v w
{
ƒƒ 
cmd
≈≈ 
.
≈≈ 
CommandType
≈≈ 
=
≈≈ 
CommandType
≈≈ %
.
≈≈% &
StoredProcedure
≈≈& 5
;
≈≈5 6
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ 
.
∆∆ 
Add
∆∆ 
(
∆∆ 
new
∆∆ 
SqlParameter
∆∆ +
(
∆∆+ ,
$str
∆∆, :
,
∆∆: ;
	SqlDbType
∆∆< E
.
∆∆E F
Int
∆∆F I
)
∆∆I J
{
«« 	
Value
»» 
=
»» 
request
»» 
.
»» 
AffiliateId
»» '
}
…… 	
)
……	 

;
……
 
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ 
.
ÀÀ 
Add
ÀÀ 
(
ÀÀ 
new
ÀÀ 
SqlParameter
ÀÀ +
(
ÀÀ+ ,
$str
ÀÀ, 5
,
ÀÀ5 6
	SqlDbType
ÀÀ7 @
.
ÀÀ@ A
Int
ÀÀA D
)
ÀÀD E
{
ÃÃ 	
Value
ÕÕ 
=
ÕÕ 
request
ÕÕ 
.
ÕÕ 
UserId
ÕÕ "
}
ŒŒ 	
)
ŒŒ	 

;
ŒŒ
 
cmd
–– 
.
–– 

Parameters
–– 
.
–– 
Add
–– 
(
–– 
new
–– 
SqlParameter
–– +
(
––+ ,
$str
––, 6
,
––6 7
	SqlDbType
––8 A
.
––A B
VarChar
––B I
)
––I J
{
—— 	
Value
““ 
=
““ 
request
““ 
.
““ 
Concept
““ #
,
““# $
Size
”” 
=
”” 
$num
”” 
}
‘‘ 	
)
‘‘	 

;
‘‘
 
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ 
.
÷÷ 
Add
÷÷ 
(
÷÷ 
new
÷÷ 
SqlParameter
÷÷ +
(
÷÷+ ,
$str
÷÷, 5
,
÷÷5 6
	SqlDbType
÷÷7 @
.
÷÷@ A
Decimal
÷÷A H
)
÷÷H I
{
◊◊ 	
Value
ÿÿ 
=
ÿÿ 
request
ÿÿ 
.
ÿÿ 
Points
ÿÿ "
}
ŸŸ 	
)
ŸŸ	 

;
ŸŸ
 
cmd
€€ 
.
€€ 

Parameters
€€ 
.
€€ 
Add
€€ 
(
€€ 
new
€€ 
SqlParameter
€€ +
(
€€+ ,
$str
€€, =
,
€€= >
	SqlDbType
€€? H
.
€€H I
Decimal
€€I P
)
€€P Q
{
‹‹ 	
Value
›› 
=
›› 
request
›› 
.
›› 
Commissionable
›› *
}
ﬁﬁ 	
)
ﬁﬁ	 

;
ﬁﬁ
 
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ 
.
‡‡ 
Add
‡‡ 
(
‡‡ 
new
‡‡ 
SqlParameter
‡‡ +
(
‡‡+ ,
$str
‡‡, 3
,
‡‡3 4
	SqlDbType
‡‡5 >
.
‡‡> ?
VarChar
‡‡? F
)
‡‡F G
{
·· 	
Value
‚‚ 
=
‚‚ 
string
‚‚ 
.
‚‚  
IsNullOrEmpty
‚‚  -
(
‚‚- .
request
‚‚. 5
.
‚‚5 6
Bank
‚‚6 :
)
‚‚: ;
?
‚‚< =
null
‚‚> B
:
‚‚C D
request
‚‚E L
.
‚‚L M
Bank
‚‚M Q
,
‚‚Q R

IsNullable
„„ 
=
„„ 
true
„„ 
,
„„ 
Size
‰‰ 
=
‰‰ 
$num
‰‰ 
}
ÂÂ 	
)
ÂÂ	 

;
ÂÂ
 
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ 
.
ÁÁ 
Add
ÁÁ 
(
ÁÁ 
new
ÁÁ 
SqlParameter
ÁÁ +
(
ÁÁ+ ,
$str
ÁÁ, <
,
ÁÁ< =
	SqlDbType
ÁÁ> G
.
ÁÁG H
VarChar
ÁÁH O
)
ÁÁO P
{
ËË 	
Value
ÈÈ 
=
ÈÈ 
request
ÈÈ 
.
ÈÈ 
PaymentMethod
ÈÈ )
,
ÈÈ) *
Size
ÍÍ 
=
ÍÍ 
$num
ÍÍ 
}
ÎÎ 	
)
ÎÎ	 

;
ÎÎ
 
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ 
.
ÌÌ 
Add
ÌÌ 
(
ÌÌ 
new
ÌÌ 
SqlParameter
ÌÌ +
(
ÌÌ+ ,
$str
ÌÌ, 5
,
ÌÌ5 6
	SqlDbType
ÌÌ7 @
.
ÌÌ@ A
TinyInt
ÌÌA H
)
ÌÌH I
{
ÓÓ 	
Value
ÔÔ 
=
ÔÔ 
request
ÔÔ 
.
ÔÔ 
Origin
ÔÔ "
}
 	
)
	 

;

 
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ 
.
ÚÚ 
Add
ÚÚ 
(
ÚÚ 
new
ÚÚ 
SqlParameter
ÚÚ +
(
ÚÚ+ ,
$str
ÚÚ, 4
,
ÚÚ4 5
	SqlDbType
ÚÚ6 ?
.
ÚÚ? @
Int
ÚÚ@ C
)
ÚÚC D
{
ÛÛ 	
Value
ÙÙ 
=
ÙÙ 
request
ÙÙ 
.
ÙÙ 
Level
ÙÙ !
}
ıı 	
)
ıı	 

;
ıı
 
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ 
.
˜˜ 
Add
˜˜ 
(
˜˜ 
new
˜˜ 
SqlParameter
˜˜ +
(
˜˜+ ,
$str
˜˜, 4
,
˜˜4 5
	SqlDbType
˜˜6 ?
.
˜˜? @
Decimal
˜˜@ G
)
˜˜G H
{
¯¯ 	
Value
˘˘ 
=
˘˘ 
request
˘˘ 
.
˘˘ 
Debit
˘˘ !
}
˙˙ 	
)
˙˙	 

;
˙˙
 
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ 
.
¸¸ 
Add
¸¸ 
(
¸¸ 
new
¸¸ 
SqlParameter
¸¸ +
(
¸¸+ ,
$str
¸¸, @
,
¸¸@ A
	SqlDbType
¸¸B K
.
¸¸K L
VarChar
¸¸L S
)
¸¸S T
{
˝˝ 	
Value
˛˛ 
=
˛˛ 
request
˛˛ 
.
˛˛ 
AffiliateUserName
˛˛ -
,
˛˛- .
Size
ˇˇ 
=
ˇˇ 
$num
ˇˇ 
}
ÄÄ 	
)
ÄÄ	 

;
ÄÄ
 
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ 
.
ÇÇ 
Add
ÇÇ 
(
ÇÇ 
new
ÇÇ 
SqlParameter
ÇÇ +
(
ÇÇ+ ,
$str
ÇÇ, <
,
ÇÇ< =
	SqlDbType
ÇÇ> G
.
ÇÇG H
VarChar
ÇÇH O
)
ÇÇO P
{
ÉÉ 	
Value
ÑÑ 
=
ÑÑ 
request
ÑÑ 
.
ÑÑ 
AdminUserName
ÑÑ )
,
ÑÑ) *
Size
ÖÖ 
=
ÖÖ 
$num
ÖÖ 
}
ÜÜ 	
)
ÜÜ	 

;
ÜÜ
 
cmd
àà 
.
àà 

Parameters
àà 
.
àà 
Add
àà 
(
àà 
new
àà 
SqlParameter
àà +
(
àà+ ,
$str
àà, <
,
àà< =
	SqlDbType
àà> G
.
ààG H
VarChar
ààH O
)
ààO P
{
ââ 	
Value
ää 
=
ää 
string
ää 
.
ää  
IsNullOrEmpty
ää  -
(
ää- .
request
ää. 5
.
ää5 6
ReceiptNumber
ää6 C
)
ääC D
?
ääE F
null
ääG K
:
ääL M
request
ääN U
.
ääU V
ReceiptNumber
ääV c
,
ääc d

IsNullable
ãã 
=
ãã 
true
ãã 
,
ãã 
Size
åå 
=
åå 
$num
åå 
}
çç 	
)
çç	 

;
çç
 
cmd
èè 
.
èè 

Parameters
èè 
.
èè 
Add
èè 
(
èè 
new
èè 
SqlParameter
èè +
(
èè+ ,
$str
èè, 3
,
èè3 4
	SqlDbType
èè5 >
.
èè> ?
Bit
èè? B
)
èèB C
{
êê 	
Value
ëë 
=
ëë 
request
ëë 
.
ëë 
Type
ëë  
}
íí 	
)
íí	 

;
íí
 
cmd
îî 
.
îî 

Parameters
îî 
.
îî 
Add
îî 
(
îî 
new
îî 
SqlParameter
îî +
(
îî+ ,
$str
îî, 8
,
îî8 9
	SqlDbType
îî: C
.
îîC D
VarChar
îîD K
)
îîK L
{
ïï 	
Value
ññ 
=
ññ 
string
ññ 
.
ññ  
IsNullOrEmpty
ññ  -
(
ññ- .
request
ññ. 5
.
ññ5 6
	SecretKey
ññ6 ?
)
ññ? @
?
ññA B
null
ññC G
:
ññH I
request
ññJ Q
.
ññQ R
	SecretKey
ññR [
,
ññ[ \

IsNullable
óó 
=
óó 
true
óó 
,
óó 
Size
òò 
=
òò 
$num
òò 
}
ôô 	
)
ôô	 

;
ôô
 
cmd
õõ 
.
õõ 

Parameters
õõ 
.
õõ 
Add
õõ 
(
õõ 
new
õõ 
SqlParameter
õõ +
(
õõ+ ,
$str
õõ, :
,
õõ: ;
	SqlDbType
õõ< E
.
õõE F
VarChar
õõF M
)
õõM N
{
úú 	
Value
ùù 
=
ùù 
request
ùù 
.
ùù 
ConceptType
ùù '
,
ùù' (
Size
ûû 
=
ûû 
$num
ûû 
}
üü 	
)
üü	 

;
üü
 
cmd
°° 
.
°° 

Parameters
°° 
.
°° 
Add
°° 
(
°° 
new
°° 
SqlParameter
°° +
(
°°+ ,
$str
°°, >
,
°°> ?
	SqlDbType
°°@ I
.
°°I J

Structured
°°J T
)
°°T U
{
¢¢ 	
Value
££ 
=
££ 
dataTableDetails
££ '
,
££' (
TypeName
§§ 
=
§§ 
$str
§§ 0
}
•• 	
)
••	 

;
••
 
}
¶¶ 
public
®® 

async
®® 
Task
®® 
<
®® 
decimal
®® 
>
®® .
 GetAvailableBalanceByAffiliateId
®® ?
(
®®? @
int
®®@ C
affiliateId
®®D O
)
®®O P
{
©© 
var
™™ 
list
™™ 
=
™™ 
await
™™ 
Context
™™  
.
™™  !
WalletsModel1A
™™! /
.
´´ 
Where
´´ 
(
´´ 
x
´´ 
=>
´´  "
x
´´# $
.
´´$ %
AffiliateId
´´% 0
==
´´1 3
affiliateId
´´4 ?
&&
´´@ B
x
´´C D
.
´´D E
Status
´´E K
==
´´L N
true
´´O S
)
´´S T
.
´´T U
ToListAsync
´´U `
(
´´` a
)
´´a b
;
´´b c
var
≠≠ 
result
≠≠ 
=
≠≠ 
list
≠≠ 
.
≠≠ 
Sum
≠≠ 
(
≠≠ 
x
≠≠ 
=>
≠≠  "
x
≠≠# $
.
≠≠$ %
Credit
≠≠% +
-
≠≠, -
x
≠≠. /
.
≠≠/ 0
Debit
≠≠0 5
)
≠≠5 6
;
≠≠6 7
return
ÆÆ 
result
ÆÆ 
.
ÆÆ 
	ToDecimal
ÆÆ 
(
ÆÆ  
)
ÆÆ  !
;
ÆÆ! "
}
ØØ 
public
±± 

Task
±± 
<
±± 
decimal
±± 
?
±± 
>
±± /
!GetTotalAcquisitionsByAffiliateId
±± ;
(
±±; <
int
±±< ?
affiliateId
±±@ K
)
±±K L
=>
≤≤ 

Context
≤≤ 
.
≤≤ 
InvoicesDetails
≤≤ "
.
≥≥ 
Include
≥≥ 
(
≥≥ 
x
≥≥ 
=>
≥≥ 
x
≥≥ 
.
≥≥ 
Invoice
≥≥ #
)
≥≥# $
.
¥¥ 
AsNoTracking
¥¥ 
(
¥¥ 
)
¥¥ 
.
µµ 
Where
µµ 
(
µµ 
x
µµ 
=>
µµ 
x
µµ 
.
µµ 
Invoice
µµ !
.
µµ! "
AffiliateId
µµ" -
==
µµ. 0
affiliateId
µµ1 <
&&
µµ= ?
x
µµ@ A
.
µµA B
PaymentGroupId
µµB P
==
µµQ S
$num
µµT U
)
µµU V
.
∂∂ 
Select
∂∂ 
(
∂∂ 
s
∂∂ 
=>
∂∂ 
(
∂∂ 
decimal
∂∂ !
?
∂∂! "
)
∂∂" #
s
∂∂# $
.
∂∂$ %

BaseAmount
∂∂% /
)
∂∂/ 0
.
∑∑ 
SumAsync
∑∑ 
(
∑∑ 
)
∑∑ 
;
∑∑ 
public
ππ 

async
ππ 
Task
ππ 
<
ππ 
decimal
ππ 
?
ππ 
>
ππ ,
GetReverseBalanceByAffiliateId
ππ  >
(
ππ> ?
int
ππ? B
affiliateId
ππC N
)
ππN O
{
∫∫ 
var
ªª 
totalCredits
ªª 
=
ªª 
await
ªª  
Context
ªª! (
.
ªª( )
WalletsModel1A
ªª) 7
.
ºº  
Where
ºº  %
(
ºº% &
x
ºº& '
=>
ºº( *
x
ºº+ ,
.
ºº, -
AffiliateId
ºº- 8
==
ºº9 ;
affiliateId
ºº< G
&&
ººH J
x
ΩΩ+ ,
.
ΩΩ, -
ConceptType
ΩΩ- 8
==
ΩΩ9 ;
WalletConceptType
ΩΩ< M
.
ΩΩM N
revert_pool
ΩΩN Y
.
ΩΩY Z
ToString
ΩΩZ b
(
ΩΩb c
)
ΩΩc d
)
ΩΩd e
.
ææ  
Select
ææ  &
(
ææ& '
x
ææ' (
=>
ææ) +
x
ææ, -
.
ææ- .
Credit
ææ. 4
)
ææ4 5
.
øø  
SumAsync
øø  (
(
øø( )
)
øø) *
;
øø* +
var
¡¡ 
totalDebits
¡¡ 
=
¡¡ 
await
¡¡ 
Context
¡¡  '
.
¡¡' (
WalletsModel1A
¡¡( 6
.
¬¬ 
Where
¬¬ $
(
¬¬$ %
x
¬¬% &
=>
¬¬' )
x
¬¬* +
.
¬¬+ ,
AffiliateId
¬¬, 7
==
¬¬8 :
affiliateId
¬¬; F
&&
¬¬G I
x
√√* +
.
√√+ ,
ConceptType
√√, 7
==
√√8 :
WalletConceptType
√√; L
.
√√L M+
purchase_with_reverse_balance
√√M j
.
√√j k
ToString
√√k s
(
√√s t
)
√√t u
)
√√u v
.
ƒƒ 
Select
ƒƒ %
(
ƒƒ% &
x
ƒƒ& '
=>
ƒƒ( *
x
ƒƒ+ ,
.
ƒƒ, -
Debit
ƒƒ- 2
)
ƒƒ2 3
.
≈≈ 
SumAsync
≈≈ '
(
≈≈' (
)
≈≈( )
;
≈≈) *
var
«« 
reverseBalance
«« 
=
«« 
totalCredits
«« )
-
««* +
totalDebits
««, 7
;
««7 8
return
»» 
Convert
»» 
.
»» 
	ToDecimal
»»  
(
»»  !
reverseBalance
»»! /
)
»»/ 0
;
»»0 1
}
…… 
public
ÀÀ 

Task
ÀÀ 
<
ÀÀ 
decimal
ÀÀ 
?
ÀÀ 
>
ÀÀ $
GetTotalServiceBalance
ÀÀ 0
(
ÀÀ0 1
int
ÀÀ1 4
affiliateId
ÀÀ5 @
)
ÀÀ@ A
{
ÃÃ 
return
ÕÕ 
Context
ÕÕ 
.
ÕÕ #
WalletsServiceModel1A
ÕÕ ,
.
ŒŒ 
Where
ŒŒ 
(
ŒŒ 
x
ŒŒ 
=>
ŒŒ 
x
ŒŒ 
.
ŒŒ 
AffiliateId
ŒŒ %
==
ŒŒ& (
affiliateId
ŒŒ) 4
)
ŒŒ4 5
.
œœ 
Select
œœ 
(
œœ 
s
œœ 
=>
œœ 
s
œœ 
.
œœ 
Credit
œœ !
-
œœ" #
s
œœ$ %
.
œœ% &
Debit
œœ& +
)
œœ+ ,
.
–– 
SumAsync
–– 
(
–– 
)
–– 
;
–– 
}
—— 
public
”” 

Task
”” 
<
”” 
decimal
”” 
?
”” 
>
”” ,
GetTotalCommissionsPaidBalance
”” 8
(
””8 9
int
””9 <
affiliateId
””= H
)
””H I
{
‘‘ 
return
’’ 
Context
’’ 
.
’’ #
WalletsServiceModel1A
’’ ,
.
’’, -
Where
’’- 2
(
’’2 3
x
’’3 4
=>
’’5 7
x
’’8 9
.
’’9 :
AffiliateId
’’: E
==
’’F H
affiliateId
’’I T
&&
’’U W
x
’’X Y
.
’’Y Z
Credit
’’Z `
.
’’` a
HasValue
’’a i
&&
’’j l
x
’’m n
.
’’n o
Credit
’’o u
>
’’v w
$num
’’x y
)
’’y z
.
÷÷ 
SumAsync
÷÷ 
(
÷÷ 
s
÷÷ 
=>
÷÷ 
s
÷÷ 
.
÷÷ 
Credit
÷÷ #
)
÷÷# $
;
÷÷$ %
}
◊◊ 
public
ŸŸ 

async
ŸŸ 
Task
ŸŸ 
<
ŸŸ  
InvoicesSpResponse
ŸŸ (
?
ŸŸ( )
>
ŸŸ) *,
DebitServiceBalanceTransaction
ŸŸ+ I
(
ŸŸI J%
DebitTransactionRequest
ŸŸJ a
request
ŸŸb i
)
ŸŸi j
{
⁄⁄ 
try
€€ 
{
‹‹ 	
await
›› 
using
›› 
var
›› 
sql
›› 
=
››  !
new
››" %
SqlConnection
››& 3
(
››3 4
_appSettings
››4 @
.
››@ A
ConnectionStrings
››A R
?
››R S
.
››S T"
PostgreSqlConnection
››T h
)
››h i
;
››i j
await
ﬁﬁ 
using
ﬁﬁ 
var
ﬁﬁ 
cmd
ﬁﬁ 
=
ﬁﬁ  !
new
ﬁﬁ" %

SqlCommand
ﬁﬁ& 0
(
ﬁﬁ0 1
	Constants
ﬁﬁ1 :
.
ﬁﬁ: ;5
'DebitEcoPoolTransactionServiceSpModel1A
ﬁﬁ; b
,
ﬁﬁb c
sql
ﬁﬁd g
)
ﬁﬁg h
;
ﬁﬁh i
var
‡‡ 
invoicesDetails
‡‡ 
=
‡‡  !
CommonExtensions
‡‡" 2
.
‡‡2 3 
ConvertToDataTable
‡‡3 E
(
‡‡E F
request
‡‡F M
.
‡‡M N
invoices
‡‡N V
)
‡‡V W
;
‡‡W X5
'CreateDebitServiceBalanceListParameters
‚‚ 3
(
‚‚3 4
request
‚‚4 ;
,
‚‚; <
invoicesDetails
‚‚= L
,
‚‚L M
cmd
‚‚N Q
)
‚‚Q R
;
‚‚R S
await
‰‰ 
sql
‰‰ 
.
‰‰ 
	OpenAsync
‰‰ 
(
‰‰  
)
‰‰  !
;
‰‰! "
await
ÂÂ 
using
ÂÂ 
var
ÂÂ 
oReader
ÂÂ #
=
ÂÂ' (
await
ÂÂ) .
cmd
ÂÂ/ 2
.
ÂÂ2 3 
ExecuteReaderAsync
ÂÂ3 E
(
ÂÂE F
)
ÂÂF G
;
ÂÂG H
var
ÊÊ 
dd
ÊÊ 
=
ÊÊ' (
oReader
ÊÊ) 0
.
ÊÊ0 1
ToDynamicList
ÊÊ1 >
(
ÊÊ> ?
)
ÊÊ? @
;
ÊÊ@ A
var
ÁÁ 

jsonString
ÁÁ &
=
ÁÁ' (
dd
ÁÁ) +
.
ÁÁ+ ,
FirstOrDefault
ÁÁ, :
(
ÁÁ: ;
)
ÁÁ; <
!
ÁÁ< =
.
ÁÁ= >
ToJsonString
ÁÁ> J
(
ÁÁJ K
)
ÁÁK L
;
ÁÁL M
var
ËË 
response
ËË $
=
ËË' (

jsonString
ËË) 3
.
ËË3 4
ToJsonObject
ËË4 @
<
ËË@ A 
InvoicesSpResponse
ËËA S
>
ËËS T
(
ËËT U
)
ËËU V
;
ËËV W
await
ÎÎ 
sql
ÎÎ 
.
ÎÎ 

CloseAsync
ÎÎ  
(
ÎÎ  !
)
ÎÎ! "
;
ÎÎ" #
return
ÌÌ 
response
ÌÌ 
;
ÌÌ 
}
ÓÓ 	
catch
ÔÔ 
(
ÔÔ 
	Exception
ÔÔ 
e
ÔÔ 
)
ÔÔ 
{
 	
Console
ÒÒ 
.
ÒÒ 
	WriteLine
ÒÒ 
(
ÒÒ 
e
ÒÒ 
)
ÒÒ  
;
ÒÒ  !
throw
ÚÚ 
;
ÚÚ 
}
ÛÛ 	
}
ÙÙ 
public
ˆˆ 

Task
ˆˆ 
<
ˆˆ  
InvoicesSpResponse
ˆˆ "
?
ˆˆ" #
>
ˆˆ# $5
'DebitServiceBalanceEcoPoolTransactionSp
ˆˆ% L
(
ˆˆL M%
DebitTransactionRequest
ˆˆM d
request
ˆˆe l
)
ˆˆl m
{
˜˜ 
throw
¯¯ 
new
¯¯ %
NotImplementedException
¯¯ )
(
¯¯) *
)
¯¯* +
;
¯¯+ ,
}
˘˘ 
public
˚˚ 

async
˚˚ 
Task
˚˚ 
<
˚˚ 
bool
˚˚ 
>
˚˚ -
CreditServiceBalanceTransaction
˚˚ ;
(
˚˚; <&
CreditTransactionRequest
˚˚< T
request
˚˚U \
)
˚˚\ ]
{
¸¸ 
try
˝˝ 
{
˛˛ 	
await
ˇˇ 
using
ˇˇ 
var
ˇˇ 
sql
ˇˇ 
=
ˇˇ  !
new
ˇˇ" %
SqlConnection
ˇˇ& 3
(
ˇˇ3 4
_appSettings
ˇˇ4 @
.
ˇˇ@ A
ConnectionStrings
ˇˇA R
?
ˇˇR S
.
ˇˇS T"
PostgreSqlConnection
ˇˇT h
)
ˇˇh i
;
ˇˇi j
await
ÄÄ 
using
ÄÄ 
var
ÄÄ 
cmd
ÄÄ 
=
ÄÄ  !
new
ÄÄ" %

SqlCommand
ÄÄ& 0
(
ÄÄ0 1
	Constants
ÄÄ1 :
.
ÄÄ: ;6
(CreditEcoPoolTransactionServiceSpModel1A
ÄÄ; c
,
ÄÄc d
sql
ÄÄe h
)
ÄÄh i
;
ÄÄi j(
CreateCreditListParameters
ÇÇ &
(
ÇÇ& '
request
ÇÇ' .
,
ÇÇ. /
cmd
ÇÇ0 3
)
ÇÇ3 4
;
ÇÇ4 5
await
ÑÑ 
sql
ÑÑ 
.
ÑÑ 
	OpenAsync
ÑÑ 
(
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
await
ÖÖ 
cmd
ÖÖ 
.
ÖÖ "
ExecuteNonQueryAsync
ÖÖ *
(
ÖÖ* +
)
ÖÖ+ ,
;
ÖÖ, -
await
ÜÜ 
sql
ÜÜ 
.
ÜÜ 

CloseAsync
ÜÜ  
(
ÜÜ  !
)
ÜÜ! "
;
ÜÜ" #
return
àà 
true
àà 
;
àà 
}
ââ 	
catch
ää 
(
ää 
	Exception
ää 
e
ää 
)
ää 
{
ãã 	
Console
åå 
.
åå 
	WriteLine
åå 
(
åå 
e
åå 
)
åå  
;
åå  !
return
çç 
false
çç 
;
çç 
}
éé 	
}
èè 
}êê Âí
VC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletModel1BRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class #
WalletModel1BRepository $
:% &
BaseRepository' 5
,5 6$
IWalletModel1BRepository7 O
{ 
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
public 
#
WalletModel1BRepository "
(" #
IOptions# +
<+ ,$
ApplicationConfiguration, D
>D E
appSettingsF Q
,Q R"
WalletServiceDbContextS i
contextj q
)q r
:s t
base 
( 
context 
) 
=> 

_appSettings 
= 
appSettings %
.% &
Value& +
;+ ,
public 

async 
Task 
< 
bool 
> 
CreditTransaction -
(- .$
CreditTransactionRequest. F
requestG N
)N O
{ 
try 
{ 	
await 
using 
var 
sql 
=  !
new" %
SqlConnection& 3
(3 4
_appSettings4 @
.@ A
ConnectionStringsA R
?R S
.S T 
PostgreSqlConnectionT h
)h i
;i j
await 
using 
var 
cmd 
=  !
new" %

SqlCommand& 0
(0 1
	Constants1 :
.: ;&
CreditTransactionSpModel1B; U
,U V
sqlW Z
)Z [
;[ \&
CreateCreditListParameters   &
(  & '
request  ' .
,  . /
cmd  0 3
)  3 4
;  4 5
await"" 
sql"" 
."" 
	OpenAsync"" 
(""  
)""  !
;""! "
await## 
cmd## 
.##  
ExecuteNonQueryAsync## *
(##* +
)##+ ,
;##, -
await$$ 
sql$$ 
.$$ 

CloseAsync$$  
($$  !
)$$! "
;$$" #
return&& 
true&& 
;&& 
}'' 	
catch(( 
((( 
	Exception(( 
e(( 
)(( 
{)) 	
Console** 
.** 
	WriteLine** 
(** 
e** 
)**  
;**  !
return++ 
false++ 
;++ 
},, 	
}-- 
public00 

async00 
Task00 
<00 
InvoicesSpResponse00 (
?00( )
>00) *%
DebitEcoPoolTransactionSp00+ D
(00D E#
DebitTransactionRequest00E \
request00] d
)00d e
{11 
try22 
{33 	
await44 
using44 
var44 
sql44 
=44  !
new44" %
SqlConnection44& 3
(443 4
_appSettings444 @
.44@ A
ConnectionStrings44A R
?44R S
.44S T 
PostgreSqlConnection44T h
)44h i
;44i j
await55 
using55 
var55 
cmd55 
=55  !
new55" %

SqlCommand55& 0
(550 1
	Constants551 :
.55: ;,
 DebitEcoPoolTransactionSpModel1B55; [
,55[ \
sql55] `
)55` a
;55a b,
 CreateDebitEcoPoolListParameters77 ,
(77, -
request77- 4
,774 5
cmd776 9
)779 :
;77: ;
await99 
sql99 
.99 
	OpenAsync99 
(99  
)99  !
;99! "
await:: 
using:: 
var:: 
oReader:: #
=::' (
await::) .
cmd::/ 2
.::2 3
ExecuteReaderAsync::3 E
(::E F
)::F G
;::G H
var;; 
dd;; 
=;;' (
oReader;;) 0
.;;0 1
ToDynamicList;;1 >
(;;> ?
);;? @
;;;@ A
var<< 

jsonString<< &
=<<' (
dd<<) +
.<<+ ,
FirstOrDefault<<, :
(<<: ;
)<<; <
!<<< =
.<<= >
ToJsonString<<> J
(<<J K
)<<K L
;<<L M
var== 
response== $
===' (

jsonString==) 3
.==3 4
ToJsonObject==4 @
<==@ A
InvoicesSpResponse==A S
>==S T
(==T U
)==U V
;==V W
await@@ 
sql@@ 
.@@ 

CloseAsync@@  
(@@  !
)@@! "
;@@" #
returnBB 
responseBB 
;BB 
}CC 	
catchDD 
(DD 
	ExceptionDD 
eDD 
)DD 
{EE 	
ConsoleFF 
.FF 
	WriteLineFF 
(FF 
eFF 
)FF  
;FF  !
throwGG 
;GG 
}HH 	
}II 
publicKK 

asyncKK 
TaskKK 
<KK 
InvoicesSpResponseKK (
?KK( )
>KK) *
DebitTransactionKK+ ;
(KK; <#
DebitTransactionRequestKK< S
requestKKT [
)KK[ \
{LL 
tryMM 
{NN 	
awaitOO 
usingOO 
varOO 
sqlOO 
=OO  !
newOO" %
SqlConnectionOO& 3
(OO3 4
_appSettingsOO4 @
.OO@ A
ConnectionStringsOOA R
?OOR S
.OOS T 
PostgreSqlConnectionOOT h
)OOh i
;OOi j
awaitPP 
usingPP 
varPP 
cmdPP 
=PP  !
newPP" %

SqlCommandPP& 0
(PP0 1
	ConstantsPP1 :
.PP: ;%
DebitTransactionSpModel1BPP; T
,PPT U
sqlPPV Y
)PPY Z
;PPZ [
varRR 
invoicesDetailsRR 
=RR  !
CommonExtensionsRR" 2
.RR2 3
ConvertToDataTableRR3 E
(RRE F
requestRRF M
.RRM N
invoicesRRN V
)RRV W
;RRW X%
CreateDebitListParametersTT %
(TT% &
requestTT& -
,TT- .
invoicesDetailsTT/ >
,TT> ?
cmdTT@ C
)TTC D
;TTD E
awaitVV 
sqlVV 
.VV 
	OpenAsyncVV 
(VV  
)VV  !
;VV! "
awaitWW 
usingWW 
varWW 
oReaderWW #
=WW' (
awaitWW) .
cmdWW/ 2
.WW2 3
ExecuteReaderAsyncWW3 E
(WWE F
)WWF G
;WWG H
varXX 
ddXX 
=XX' (
oReaderXX) 0
.XX0 1
ToDynamicListXX1 >
(XX> ?
)XX? @
;XX@ A
varYY 

jsonStringYY &
=YY' (
ddYY) +
.YY+ ,
FirstOrDefaultYY, :
(YY: ;
)YY; <
!YY< =
.YY= >
ToJsonStringYY> J
(YYJ K
)YYK L
;YYL M
varZZ 
responseZZ $
=ZZ' (

jsonStringZZ) 3
.ZZ3 4
ToJsonObjectZZ4 @
<ZZ@ A
InvoicesSpResponseZZA S
>ZZS T
(ZZT U
)ZZU V
;ZZV W
await]] 
sql]] 
.]] 

CloseAsync]]  
(]]  !
)]]! "
;]]" #
return__ 
response__ 
;__ 
}`` 	
catchaa 
(aa 
	Exceptionaa 
eaa 
)aa 
{bb 	
Consolecc 
.cc 
	WriteLinecc 
(cc 
ecc 
)cc  
;cc  !
throwdd 
;dd 
}ee 	
}ff 
privatehh 
voidhh &
CreateCreditListParametershh +
(hh+ ,$
CreditTransactionRequesthh, D
requesthhE L
,hhL M

SqlCommandhhN X
cmdhhY \
)hh\ ]
{ii 
cmdjj 
.jj 
CommandTypejj 
=jj 
CommandTypejj %
.jj% &
StoredProcedurejj& 5
;jj5 6
cmdkk 
.kk 

Parameterskk 
.kk 
Addkk 
(kk 
newkk 
SqlParameterkk +
(kk+ ,
$strkk, :
,kk: ;
	SqlDbTypekk< E
.kkE F
IntkkF I
)kkI J
{ll 	
Valuemm 
=mm 
requestmm 
.mm 
AffiliateIdmm '
}nn 	
)nn	 

;nn
 
cmdpp 
.pp 

Parameterspp 
.pp 
Addpp 
(pp 
newpp 
SqlParameterpp +
(pp+ ,
$strpp, 5
,pp5 6
	SqlDbTypepp7 @
.pp@ A
IntppA D
)ppD E
{qq 	
Valuerr 
=rr 
requestrr 
.rr 
UserIdrr "
}ss 	
)ss	 

;ss
 
cmduu 
.uu 

Parametersuu 
.uu 
Adduu 
(uu 
newuu 
SqlParameteruu +
(uu+ ,
$struu, 6
,uu6 7
	SqlDbTypeuu8 A
.uuA B
VarCharuuB I
)uuI J
{vv 	
Valueww 
=ww 
requestww 
.ww 
Conceptww #
,ww# $
Sizexx 
=xx 
$numxx 
}yy 	
)yy	 

;yy
 
cmd{{ 
.{{ 

Parameters{{ 
.{{ 
Add{{ 
({{ 
new{{ 
SqlParameter{{ +
({{+ ,
$str{{, 5
,{{5 6
	SqlDbType{{7 @
.{{@ A
Decimal{{A H
){{H I
{|| 	
Value}} 
=}} 
request}} 
.}} 
Credit}} "
}~~ 	
)~~	 

;~~
 
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ 
.
ÄÄ 
Add
ÄÄ 
(
ÄÄ 
new
ÄÄ 
SqlParameter
ÄÄ +
(
ÄÄ+ ,
$str
ÄÄ, @
,
ÄÄ@ A
	SqlDbType
ÄÄB K
.
ÄÄK L
VarChar
ÄÄL S
)
ÄÄS T
{
ÅÅ 	
Value
ÇÇ 
=
ÇÇ 
request
ÇÇ 
.
ÇÇ 
AffiliateUserName
ÇÇ -
,
ÇÇ- .
Size
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
}
ÑÑ 	
)
ÑÑ	 

;
ÑÑ
 
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
new
ÜÜ 
SqlParameter
ÜÜ +
(
ÜÜ+ ,
$str
ÜÜ, <
,
ÜÜ< =
	SqlDbType
ÜÜ> G
.
ÜÜG H
VarChar
ÜÜH O
)
ÜÜO P
{
áá 	
Value
àà 
=
àà 
request
àà 
.
àà 
AdminUserName
àà )
,
àà) *
Size
ââ 
=
ââ 
$num
ââ 
}
ää 	
)
ää	 

;
ää
 
cmd
åå 
.
åå 

Parameters
åå 
.
åå 
Add
åå 
(
åå 
new
åå 
SqlParameter
åå +
(
åå+ ,
$str
åå, :
,
åå: ;
	SqlDbType
åå< E
.
ååE F
VarChar
ååF M
)
ååM N
{
çç 	
Value
éé 
=
éé 
request
éé 
.
éé 
ConceptType
éé '
,
éé' (
Size
èè 
=
èè 
$num
èè 
}
êê 	
)
êê	 

;
êê
 
}
ëë 
private
îî 
void
îî .
 CreateDebitEcoPoolListParameters
îî 1
(
îî1 2%
DebitTransactionRequest
îî2 I
request
îîJ Q
,
îîQ R

SqlCommand
îîS ]
cmd
îî^ a
)
îîa b
{
ïï 
cmd
ññ 
.
ññ 
CommandType
ññ 
=
ññ 
CommandType
ññ %
.
ññ% &
StoredProcedure
ññ& 5
;
ññ5 6
cmd
óó 
.
óó 

Parameters
óó 
.
óó 
Add
óó 
(
óó 
new
óó 
SqlParameter
óó +
(
óó+ ,
$str
óó, :
,
óó: ;
	SqlDbType
óó< E
.
óóE F
Int
óóF I
)
óóI J
{
òò 	
Value
ôô 
=
ôô 
request
ôô 
.
ôô 
AffiliateId
ôô '
}
öö 	
)
öö	 

;
öö
 
cmd
úú 
.
úú 

Parameters
úú 
.
úú 
Add
úú 
(
úú 
new
úú 
SqlParameter
úú +
(
úú+ ,
$str
úú, 5
,
úú5 6
	SqlDbType
úú7 @
.
úú@ A
Int
úúA D
)
úúD E
{
ùù 	
Value
ûû 
=
ûû 
request
ûû 
.
ûû 
UserId
ûû "
}
üü 	
)
üü	 

;
üü
 
cmd
°° 
.
°° 

Parameters
°° 
.
°° 
Add
°° 
(
°° 
new
°° 
SqlParameter
°° +
(
°°+ ,
$str
°°, 6
,
°°6 7
	SqlDbType
°°8 A
.
°°A B
VarChar
°°B I
)
°°I J
{
¢¢ 	
Value
££ 
=
££ 
request
££ 
.
££ 
Concept
££ #
,
££# $
Size
§§ 
=
§§ 
$num
§§ 
}
•• 	
)
••	 

;
••
 
cmd
ßß 
.
ßß 

Parameters
ßß 
.
ßß 
Add
ßß 
(
ßß 
new
ßß 
SqlParameter
ßß +
(
ßß+ ,
$str
ßß, 5
,
ßß5 6
	SqlDbType
ßß7 @
.
ßß@ A
Decimal
ßßA H
)
ßßH I
{
®® 	
Value
©© 
=
©© 
request
©© 
.
©© 
Points
©© "
}
™™ 	
)
™™	 

;
™™
 
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ 
.
¨¨ 
Add
¨¨ 
(
¨¨ 
new
¨¨ 
SqlParameter
¨¨ +
(
¨¨+ ,
$str
¨¨, =
,
¨¨= >
	SqlDbType
¨¨? H
.
¨¨H I
Decimal
¨¨I P
)
¨¨P Q
{
≠≠ 	
Value
ÆÆ 
=
ÆÆ 
request
ÆÆ 
.
ÆÆ 
Commissionable
ÆÆ *
}
ØØ 	
)
ØØ	 

;
ØØ
 
cmd
±± 
.
±± 

Parameters
±± 
.
±± 
Add
±± 
(
±± 
new
±± 
SqlParameter
±± +
(
±±+ ,
$str
±±, 3
,
±±3 4
	SqlDbType
±±5 >
.
±±> ?
VarChar
±±? F
)
±±F G
{
≤≤ 	
Value
≥≥ 
=
≥≥ 
string
≥≥ 
.
≥≥  
IsNullOrEmpty
≥≥  -
(
≥≥- .
request
≥≥. 5
.
≥≥5 6
Bank
≥≥6 :
)
≥≥: ;
?
≥≥< =
null
≥≥> B
:
≥≥C D
request
≥≥E L
.
≥≥L M
Bank
≥≥M Q
,
≥≥Q R

IsNullable
¥¥ 
=
¥¥ 
true
¥¥ 
,
¥¥ 
Size
µµ 
=
µµ 
$num
µµ 
}
∂∂ 	
)
∂∂	 

;
∂∂
 
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ 
.
∏∏ 
Add
∏∏ 
(
∏∏ 
new
∏∏ 
SqlParameter
∏∏ +
(
∏∏+ ,
$str
∏∏, <
,
∏∏< =
	SqlDbType
∏∏> G
.
∏∏G H
VarChar
∏∏H O
)
∏∏O P
{
ππ 	
Value
∫∫ 
=
∫∫ 
request
∫∫ 
.
∫∫ 
PaymentMethod
∫∫ )
,
∫∫) *
Size
ªª 
=
ªª 
$num
ªª 
}
ºº 	
)
ºº	 

;
ºº
 
cmd
ææ 
.
ææ 

Parameters
ææ 
.
ææ 
Add
ææ 
(
ææ 
new
ææ 
SqlParameter
ææ +
(
ææ+ ,
$str
ææ, 5
,
ææ5 6
	SqlDbType
ææ7 @
.
ææ@ A
TinyInt
ææA H
)
ææH I
{
øø 	
Value
¿¿ 
=
¿¿ 
request
¿¿ 
.
¿¿ 
Origin
¿¿ "
}
¡¡ 	
)
¡¡	 

;
¡¡
 
cmd
√√ 
.
√√ 

Parameters
√√ 
.
√√ 
Add
√√ 
(
√√ 
new
√√ 
SqlParameter
√√ +
(
√√+ ,
$str
√√, 4
,
√√4 5
	SqlDbType
√√6 ?
.
√√? @
Int
√√@ C
)
√√C D
{
ƒƒ 	
Value
≈≈ 
=
≈≈ 
request
≈≈ 
.
≈≈ 
Level
≈≈ !
}
∆∆ 	
)
∆∆	 

;
∆∆
 
cmd
»» 
.
»» 

Parameters
»» 
.
»» 
Add
»» 
(
»» 
new
»» 
SqlParameter
»» +
(
»»+ ,
$str
»», 4
,
»»4 5
	SqlDbType
»»6 ?
.
»»? @
Decimal
»»@ G
)
»»G H
{
…… 	
Value
   
=
   
request
   
.
   
Debit
   !
}
ÀÀ 	
)
ÀÀ	 

;
ÀÀ
 
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ 
.
ÕÕ 
Add
ÕÕ 
(
ÕÕ 
new
ÕÕ 
SqlParameter
ÕÕ +
(
ÕÕ+ ,
$str
ÕÕ, @
,
ÕÕ@ A
	SqlDbType
ÕÕB K
.
ÕÕK L
VarChar
ÕÕL S
)
ÕÕS T
{
ŒŒ 	
Value
œœ 
=
œœ 
request
œœ 
.
œœ 
AffiliateUserName
œœ -
,
œœ- .
Size
–– 
=
–– 
$num
–– 
}
—— 	
)
——	 

;
——
 
cmd
”” 
.
”” 

Parameters
”” 
.
”” 
Add
”” 
(
”” 
new
”” 
SqlParameter
”” +
(
””+ ,
$str
””, <
,
””< =
	SqlDbType
””> G
.
””G H
VarChar
””H O
)
””O P
{
‘‘ 	
Value
’’ 
=
’’ 
request
’’ 
.
’’ 
AdminUserName
’’ )
,
’’) *
Size
÷÷ 
=
÷÷ 
$num
÷÷ 
}
◊◊ 	
)
◊◊	 

;
◊◊
 
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ 
.
ŸŸ 
Add
ŸŸ 
(
ŸŸ 
new
ŸŸ 
SqlParameter
ŸŸ +
(
ŸŸ+ ,
$str
ŸŸ, <
,
ŸŸ< =
	SqlDbType
ŸŸ> G
.
ŸŸG H
VarChar
ŸŸH O
)
ŸŸO P
{
⁄⁄ 	
Value
€€ 
=
€€ 
string
€€ 
.
€€  
IsNullOrEmpty
€€  -
(
€€- .
request
€€. 5
.
€€5 6
ReceiptNumber
€€6 C
)
€€C D
?
€€E F
null
€€G K
:
€€L M
request
€€N U
.
€€U V
ReceiptNumber
€€V c
,
€€c d

IsNullable
‹‹ 
=
‹‹ 
true
‹‹ 
,
‹‹ 
Size
›› 
=
›› 
$num
›› 
}
ﬁﬁ 	
)
ﬁﬁ	 

;
ﬁﬁ
 
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ 
.
‡‡ 
Add
‡‡ 
(
‡‡ 
new
‡‡ 
SqlParameter
‡‡ +
(
‡‡+ ,
$str
‡‡, 3
,
‡‡3 4
	SqlDbType
‡‡5 >
.
‡‡> ?
Bit
‡‡? B
)
‡‡B C
{
·· 	
Value
‚‚ 
=
‚‚ 
request
‚‚ 
.
‚‚ 
Type
‚‚  
}
„„ 	
)
„„	 

;
„„
 
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ 
.
ÂÂ 
Add
ÂÂ 
(
ÂÂ 
new
ÂÂ 
SqlParameter
ÂÂ +
(
ÂÂ+ ,
$str
ÂÂ, 8
,
ÂÂ8 9
	SqlDbType
ÂÂ: C
.
ÂÂC D
VarChar
ÂÂD K
)
ÂÂK L
{
ÊÊ 	
Value
ÁÁ 
=
ÁÁ 
string
ÁÁ 
.
ÁÁ  
IsNullOrEmpty
ÁÁ  -
(
ÁÁ- .
request
ÁÁ. 5
.
ÁÁ5 6
	SecretKey
ÁÁ6 ?
)
ÁÁ? @
?
ÁÁA B
null
ÁÁC G
:
ÁÁH I
request
ÁÁJ Q
.
ÁÁQ R
	SecretKey
ÁÁR [
,
ÁÁ[ \

IsNullable
ËË 
=
ËË 
true
ËË 
,
ËË 
Size
ÈÈ 
=
ÈÈ 
$num
ÈÈ 
}
ÍÍ 	
)
ÍÍ	 

;
ÍÍ
 
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
new
ÏÏ 
SqlParameter
ÏÏ +
(
ÏÏ+ ,
$str
ÏÏ, :
,
ÏÏ: ;
	SqlDbType
ÏÏ< E
.
ÏÏE F
VarChar
ÏÏF M
)
ÏÏM N
{
ÌÌ 	
Value
ÓÓ 
=
ÓÓ 
request
ÓÓ 
.
ÓÓ 
ConceptType
ÓÓ '
,
ÓÓ' (
Size
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
}
 	
)
	 

;

 
}
ÒÒ 
private
ÙÙ 
void
ÙÙ '
CreateDebitListParameters
ÙÙ *
(
ÙÙ* +%
DebitTransactionRequest
ÙÙ+ B
request
ÙÙC J
,
ÙÙJ K
	DataTable
ÙÙL U
dataTableDetails
ÙÙV f
,
ÙÙf g

SqlCommand
ÙÙh r
cmd
ÙÙs v
)
ÙÙv w
{
ıı 
cmd
ˆˆ 
.
ˆˆ 
CommandType
ˆˆ 
=
ˆˆ 
CommandType
ˆˆ %
.
ˆˆ% &
StoredProcedure
ˆˆ& 5
;
ˆˆ5 6
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ 
.
˜˜ 
Add
˜˜ 
(
˜˜ 
new
˜˜ 
SqlParameter
˜˜ +
(
˜˜+ ,
$str
˜˜, :
,
˜˜: ;
	SqlDbType
˜˜< E
.
˜˜E F
Int
˜˜F I
)
˜˜I J
{
¯¯ 	
Value
˘˘ 
=
˘˘ 
request
˘˘ 
.
˘˘ 
AffiliateId
˘˘ '
}
˙˙ 	
)
˙˙	 

;
˙˙
 
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ 
.
¸¸ 
Add
¸¸ 
(
¸¸ 
new
¸¸ 
SqlParameter
¸¸ +
(
¸¸+ ,
$str
¸¸, 5
,
¸¸5 6
	SqlDbType
¸¸7 @
.
¸¸@ A
Int
¸¸A D
)
¸¸D E
{
˝˝ 	
Value
˛˛ 
=
˛˛ 
request
˛˛ 
.
˛˛ 
UserId
˛˛ "
}
ˇˇ 	
)
ˇˇ	 

;
ˇˇ
 
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ 
.
ÅÅ 
Add
ÅÅ 
(
ÅÅ 
new
ÅÅ 
SqlParameter
ÅÅ +
(
ÅÅ+ ,
$str
ÅÅ, 6
,
ÅÅ6 7
	SqlDbType
ÅÅ8 A
.
ÅÅA B
VarChar
ÅÅB I
)
ÅÅI J
{
ÇÇ 	
Value
ÉÉ 
=
ÉÉ 
request
ÉÉ 
.
ÉÉ 
Concept
ÉÉ #
,
ÉÉ# $
Size
ÑÑ 
=
ÑÑ 
$num
ÑÑ 
}
ÖÖ 	
)
ÖÖ	 

;
ÖÖ
 
cmd
áá 
.
áá 

Parameters
áá 
.
áá 
Add
áá 
(
áá 
new
áá 
SqlParameter
áá +
(
áá+ ,
$str
áá, 5
,
áá5 6
	SqlDbType
áá7 @
.
áá@ A
Decimal
ááA H
)
ááH I
{
àà 	
Value
ââ 
=
ââ 
request
ââ 
.
ââ 
Points
ââ "
}
ää 	
)
ää	 

;
ää
 
cmd
åå 
.
åå 

Parameters
åå 
.
åå 
Add
åå 
(
åå 
new
åå 
SqlParameter
åå +
(
åå+ ,
$str
åå, =
,
åå= >
	SqlDbType
åå? H
.
ååH I
Decimal
ååI P
)
ååP Q
{
çç 	
Value
éé 
=
éé 
request
éé 
.
éé 
Commissionable
éé *
}
èè 	
)
èè	 

;
èè
 
cmd
ëë 
.
ëë 

Parameters
ëë 
.
ëë 
Add
ëë 
(
ëë 
new
ëë 
SqlParameter
ëë +
(
ëë+ ,
$str
ëë, 3
,
ëë3 4
	SqlDbType
ëë5 >
.
ëë> ?
VarChar
ëë? F
)
ëëF G
{
íí 	
Value
ìì 
=
ìì 
string
ìì 
.
ìì  
IsNullOrEmpty
ìì  -
(
ìì- .
request
ìì. 5
.
ìì5 6
Bank
ìì6 :
)
ìì: ;
?
ìì< =
null
ìì> B
:
ììC D
request
ììE L
.
ììL M
Bank
ììM Q
,
ììQ R

IsNullable
îî 
=
îî 
true
îî 
,
îî 
Size
ïï 
=
ïï 
$num
ïï 
}
ññ 	
)
ññ	 

;
ññ
 
cmd
òò 
.
òò 

Parameters
òò 
.
òò 
Add
òò 
(
òò 
new
òò 
SqlParameter
òò +
(
òò+ ,
$str
òò, <
,
òò< =
	SqlDbType
òò> G
.
òòG H
VarChar
òòH O
)
òòO P
{
ôô 	
Value
öö 
=
öö 
request
öö 
.
öö 
PaymentMethod
öö )
,
öö) *
Size
õõ 
=
õõ 
$num
õõ 
}
úú 	
)
úú	 

;
úú
 
cmd
ûû 
.
ûû 

Parameters
ûû 
.
ûû 
Add
ûû 
(
ûû 
new
ûû 
SqlParameter
ûû +
(
ûû+ ,
$str
ûû, 5
,
ûû5 6
	SqlDbType
ûû7 @
.
ûû@ A
TinyInt
ûûA H
)
ûûH I
{
üü 	
Value
†† 
=
†† 
request
†† 
.
†† 
Origin
†† "
}
°° 	
)
°°	 

;
°°
 
cmd
££ 
.
££ 

Parameters
££ 
.
££ 
Add
££ 
(
££ 
new
££ 
SqlParameter
££ +
(
££+ ,
$str
££, 4
,
££4 5
	SqlDbType
££6 ?
.
££? @
Int
££@ C
)
££C D
{
§§ 	
Value
•• 
=
•• 
request
•• 
.
•• 
Level
•• !
}
¶¶ 	
)
¶¶	 

;
¶¶
 
cmd
®® 
.
®® 

Parameters
®® 
.
®® 
Add
®® 
(
®® 
new
®® 
SqlParameter
®® +
(
®®+ ,
$str
®®, 4
,
®®4 5
	SqlDbType
®®6 ?
.
®®? @
Decimal
®®@ G
)
®®G H
{
©© 	
Value
™™ 
=
™™ 
request
™™ 
.
™™ 
Debit
™™ !
}
´´ 	
)
´´	 

;
´´
 
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ 
.
≠≠ 
Add
≠≠ 
(
≠≠ 
new
≠≠ 
SqlParameter
≠≠ +
(
≠≠+ ,
$str
≠≠, @
,
≠≠@ A
	SqlDbType
≠≠B K
.
≠≠K L
VarChar
≠≠L S
)
≠≠S T
{
ÆÆ 	
Value
ØØ 
=
ØØ 
request
ØØ 
.
ØØ 
AffiliateUserName
ØØ -
,
ØØ- .
Size
∞∞ 
=
∞∞ 
$num
∞∞ 
}
±± 	
)
±±	 

;
±±
 
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ 
.
≥≥ 
Add
≥≥ 
(
≥≥ 
new
≥≥ 
SqlParameter
≥≥ +
(
≥≥+ ,
$str
≥≥, <
,
≥≥< =
	SqlDbType
≥≥> G
.
≥≥G H
VarChar
≥≥H O
)
≥≥O P
{
¥¥ 	
Value
µµ 
=
µµ 
request
µµ 
.
µµ 
AdminUserName
µµ )
,
µµ) *
Size
∂∂ 
=
∂∂ 
$num
∂∂ 
}
∑∑ 	
)
∑∑	 

;
∑∑
 
cmd
ππ 
.
ππ 

Parameters
ππ 
.
ππ 
Add
ππ 
(
ππ 
new
ππ 
SqlParameter
ππ +
(
ππ+ ,
$str
ππ, <
,
ππ< =
	SqlDbType
ππ> G
.
ππG H
VarChar
ππH O
)
ππO P
{
∫∫ 	
Value
ªª 
=
ªª 
string
ªª 
.
ªª  
IsNullOrEmpty
ªª  -
(
ªª- .
request
ªª. 5
.
ªª5 6
ReceiptNumber
ªª6 C
)
ªªC D
?
ªªE F
null
ªªG K
:
ªªL M
request
ªªN U
.
ªªU V
ReceiptNumber
ªªV c
,
ªªc d

IsNullable
ºº 
=
ºº 
true
ºº 
,
ºº 
Size
ΩΩ 
=
ΩΩ 
$num
ΩΩ 
}
ææ 	
)
ææ	 

;
ææ
 
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
new
¿¿ 
SqlParameter
¿¿ +
(
¿¿+ ,
$str
¿¿, 3
,
¿¿3 4
	SqlDbType
¿¿5 >
.
¿¿> ?
Bit
¿¿? B
)
¿¿B C
{
¡¡ 	
Value
¬¬ 
=
¬¬ 
request
¬¬ 
.
¬¬ 
Type
¬¬  
}
√√ 	
)
√√	 

;
√√
 
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ 
.
≈≈ 
Add
≈≈ 
(
≈≈ 
new
≈≈ 
SqlParameter
≈≈ +
(
≈≈+ ,
$str
≈≈, 8
,
≈≈8 9
	SqlDbType
≈≈: C
.
≈≈C D
VarChar
≈≈D K
)
≈≈K L
{
∆∆ 	
Value
«« 
=
«« 
string
«« 
.
««  
IsNullOrEmpty
««  -
(
««- .
request
««. 5
.
««5 6
	SecretKey
««6 ?
)
««? @
?
««A B
null
««C G
:
««H I
request
««J Q
.
««Q R
	SecretKey
««R [
,
««[ \

IsNullable
»» 
=
»» 
true
»» 
,
»» 
Size
…… 
=
…… 
$num
…… 
}
   	
)
  	 

;
  
 
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ 
.
ÃÃ 
Add
ÃÃ 
(
ÃÃ 
new
ÃÃ 
SqlParameter
ÃÃ +
(
ÃÃ+ ,
$str
ÃÃ, :
,
ÃÃ: ;
	SqlDbType
ÃÃ< E
.
ÃÃE F
VarChar
ÃÃF M
)
ÃÃM N
{
ÕÕ 	
Value
ŒŒ 
=
ŒŒ 
request
ŒŒ 
.
ŒŒ 
ConceptType
ŒŒ '
,
ŒŒ' (
Size
œœ 
=
œœ 
$num
œœ 
}
–– 	
)
––	 

;
––
 
cmd
““ 
.
““ 

Parameters
““ 
.
““ 
Add
““ 
(
““ 
new
““ 
SqlParameter
““ +
(
““+ ,
$str
““, >
,
““> ?
	SqlDbType
““@ I
.
““I J

Structured
““J T
)
““T U
{
”” 	
Value
‘‘ 
=
‘‘ 
dataTableDetails
‘‘ '
,
‘‘' (
TypeName
’’ 
=
’’ 
$str
’’ 0
}
÷÷ 	
)
÷÷	 

;
÷÷
 
}
◊◊ 
public
ŸŸ 

async
ŸŸ 
Task
ŸŸ 
<
ŸŸ 
decimal
ŸŸ 
>
ŸŸ .
 GetAvailableBalanceByAffiliateId
ŸŸ ?
(
ŸŸ? @
int
ŸŸ@ C
affiliateId
ŸŸD O
)
ŸŸO P
{
⁄⁄ 
var
€€ 
list
€€ 
=
€€ 
await
€€ 
Context
€€  
.
€€  !
WalletsModel1B
€€! /
.
‹‹ 
Where
‹‹ 
(
‹‹ 
x
‹‹ 
=>
‹‹  "
x
‹‹# $
.
‹‹$ %
AffiliateId
‹‹% 0
==
‹‹1 3
affiliateId
‹‹4 ?
&&
‹‹@ B
x
‹‹C D
.
‹‹D E
Status
‹‹E K
==
‹‹L N
true
‹‹O S
)
‹‹S T
.
‹‹T U
ToListAsync
‹‹U `
(
‹‹` a
)
‹‹a b
;
‹‹b c
var
ﬁﬁ 
result
ﬁﬁ 
=
ﬁﬁ 
list
ﬁﬁ 
.
ﬁﬁ 
Sum
ﬁﬁ 
(
ﬁﬁ 
x
ﬁﬁ 
=>
ﬁﬁ  "
x
ﬁﬁ# $
.
ﬁﬁ$ %
Credit
ﬁﬁ% +
-
ﬁﬁ, -
x
ﬁﬁ. /
.
ﬁﬁ/ 0
Debit
ﬁﬁ0 5
)
ﬁﬁ5 6
;
ﬁﬁ6 7
return
ﬂﬂ 
result
ﬂﬂ 
.
ﬂﬂ 
	ToDecimal
ﬂﬂ 
(
ﬂﬂ  
)
ﬂﬂ  !
;
ﬂﬂ! "
}
‡‡ 
public
‚‚ 

Task
‚‚ 
<
‚‚ 
decimal
‚‚ 
?
‚‚ 
>
‚‚ /
!GetTotalAcquisitionsByAffiliateId
‚‚ ;
(
‚‚; <
int
‚‚< ?
affiliateId
‚‚@ K
)
‚‚K L
=>
„„ 

Context
„„ 
.
„„ 
InvoicesDetails
„„ "
.
„„" #
Include
„„# *
(
„„* +
x
„„+ ,
=>
„„- /
x
„„0 1
.
„„1 2
Invoice
„„2 9
)
„„9 :
.
„„: ;
AsNoTracking
„„; G
(
„„G H
)
„„H I
.
‰‰ 
Where
‰‰ 
(
‰‰ 
x
‰‰ 
=>
‰‰ 
x
‰‰ 
.
‰‰ 
Invoice
‰‰ !
.
‰‰! "
AffiliateId
‰‰" -
==
‰‰. 0
affiliateId
‰‰1 <
&&
‰‰= ?
x
‰‰@ A
.
‰‰A B
PaymentGroupId
‰‰B P
==
‰‰Q S
$num
‰‰T U
)
‰‰U V
.
ÂÂ 
SumAsync
ÂÂ 
(
ÂÂ 
s
ÂÂ 
=>
ÂÂ 
s
ÂÂ 
.
ÂÂ 

BaseAmount
ÂÂ '
)
ÂÂ' (
;
ÂÂ( )
public
ÁÁ 

async
ÁÁ 
Task
ÁÁ 
<
ÁÁ 
decimal
ÁÁ 
?
ÁÁ 
>
ÁÁ ,
GetReverseBalanceByAffiliateId
ÁÁ  >
(
ÁÁ> ?
int
ÁÁ? B
affiliateId
ÁÁC N
)
ÁÁN O
{
ËË 
var
ÈÈ 
totalCredits
ÈÈ 
=
ÈÈ 
await
ÈÈ  
Context
ÈÈ! (
.
ÈÈ( )
WalletsModel1B
ÈÈ) 7
.
ÍÍ  
Where
ÍÍ  %
(
ÍÍ% &
x
ÍÍ& '
=>
ÍÍ( *
x
ÍÍ+ ,
.
ÍÍ, -
AffiliateId
ÍÍ- 8
==
ÍÍ9 ;
affiliateId
ÍÍ< G
&&
ÍÍH J
x
ÍÍK L
.
ÍÍL M
ConceptType
ÍÍM X
==
ÍÍY [
WalletConceptType
ÍÍ\ m
.
ÍÍm n
revert_pool
ÍÍn y
.
ÍÍy z
ToStringÍÍz Ç
(ÍÍÇ É
)ÍÍÉ Ñ
)ÍÍÑ Ö
.
ÎÎ  
Select
ÎÎ  &
(
ÎÎ& '
x
ÎÎ' (
=>
ÎÎ) +
x
ÎÎ, -
.
ÎÎ- .
Credit
ÎÎ. 4
)
ÎÎ4 5
.
ÏÏ  
SumAsync
ÏÏ  (
(
ÏÏ( )
)
ÏÏ) *
;
ÏÏ* +
var
ÓÓ 
totalDebits
ÓÓ 
=
ÓÓ 
await
ÓÓ 
Context
ÓÓ  '
.
ÓÓ' (
WalletsModel1B
ÓÓ( 6
.
ÔÔ 
Where
ÔÔ $
(
ÔÔ$ %
x
ÔÔ% &
=>
ÔÔ' )
x
ÔÔ* +
.
ÔÔ+ ,
AffiliateId
ÔÔ, 7
==
ÔÔ8 :
affiliateId
ÔÔ; F
&&
ÔÔG I
x
* +
.
+ ,
ConceptType
, 7
==
8 :
WalletConceptType
; L
.
L M+
purchase_with_reverse_balance
M j
.
j k
ToString
k s
(
s t
)
t u
)
u v
.
ÒÒ 
Select
ÒÒ %
(
ÒÒ% &
x
ÒÒ& '
=>
ÒÒ( *
x
ÒÒ+ ,
.
ÒÒ, -
Debit
ÒÒ- 2
)
ÒÒ2 3
.
ÚÚ 
SumAsync
ÚÚ '
(
ÚÚ' (
)
ÚÚ( )
;
ÚÚ) *
var
ÙÙ 
reverseBalance
ÙÙ 
=
ÙÙ 
totalCredits
ÙÙ )
-
ÙÙ* +
totalDebits
ÙÙ, 7
;
ÙÙ7 8
return
ıı 
Convert
ıı 
.
ıı 
	ToDecimal
ıı  
(
ıı  !
reverseBalance
ıı! /
)
ıı/ 0
;
ıı0 1
}
ˆˆ 
public
¯¯ 

Task
¯¯ 
<
¯¯ 
decimal
¯¯ 
?
¯¯ 
>
¯¯ $
GetTotalServiceBalance
¯¯ 0
(
¯¯0 1
int
¯¯1 4
affiliateId
¯¯5 @
)
¯¯@ A
{
˘˘ 
return
˙˙ 
Context
˙˙ 
.
˙˙ #
WalletsServiceModel1B
˙˙ ,
.
˚˚ 
Where
˚˚ 
(
˚˚ 
x
˚˚ 
=>
˚˚ 
x
˚˚ 
.
˚˚ 
AffiliateId
˚˚ %
==
˚˚& (
affiliateId
˚˚) 4
)
˚˚4 5
.
¸¸ 
Select
¸¸ 
(
¸¸ 
s
¸¸ 
=>
¸¸ 
s
¸¸ 
.
¸¸ 
Credit
¸¸ !
-
¸¸" #
s
¸¸$ %
.
¸¸% &
Debit
¸¸& +
)
¸¸+ ,
.
˝˝ 
SumAsync
˝˝ 
(
˝˝ 
)
˝˝ 
;
˝˝ 
}
˛˛ 
public
ÄÄ 

async
ÄÄ 
Task
ÄÄ 
<
ÄÄ  
InvoicesSpResponse
ÄÄ (
?
ÄÄ( )
>
ÄÄ) *,
DebitServiceBalanceTransaction
ÄÄ+ I
(
ÄÄI J%
DebitTransactionRequest
ÄÄJ a
request
ÄÄb i
)
ÄÄi j
{
ÅÅ 
try
ÇÇ 
{
ÉÉ 	
await
ÑÑ 
using
ÑÑ 
var
ÑÑ 
sql
ÑÑ 
=
ÑÑ  !
new
ÑÑ" %
SqlConnection
ÑÑ& 3
(
ÑÑ3 4
_appSettings
ÑÑ4 @
.
ÑÑ@ A
ConnectionStrings
ÑÑA R
?
ÑÑR S
.
ÑÑS T"
PostgreSqlConnection
ÑÑT h
)
ÑÑh i
;
ÑÑi j
await
ÖÖ 
using
ÖÖ 
var
ÖÖ 
cmd
ÖÖ 
=
ÖÖ  !
new
ÖÖ" %

SqlCommand
ÖÖ& 0
(
ÖÖ0 1
	Constants
ÖÖ1 :
.
ÖÖ: ;5
'DebitEcoPoolTransactionServiceSpModel1B
ÖÖ; b
,
ÖÖb c
sql
ÖÖd g
)
ÖÖg h
;
ÖÖh i
var
áá 
invoicesDetails
áá 
=
áá  !
CommonExtensions
áá" 2
.
áá2 3 
ConvertToDataTable
áá3 E
(
ááE F
request
ááF M
.
ááM N
invoices
ááN V
)
ááV W
;
ááW X5
'CreateDebitServiceBalanceListParameters
ââ 3
(
ââ3 4
request
ââ4 ;
,
ââ; <
invoicesDetails
ââ= L
,
ââL M
cmd
ââN Q
)
ââQ R
;
ââR S
await
ãã 
sql
ãã 
.
ãã 
	OpenAsync
ãã 
(
ãã  
)
ãã  !
;
ãã! "
await
åå 
using
åå 
var
åå 
oReader
åå #
=
åå' (
await
åå) .
cmd
åå/ 2
.
åå2 3 
ExecuteReaderAsync
åå3 E
(
ååE F
)
ååF G
;
ååG H
var
çç 
dd
çç 
=
çç' (
oReader
çç) 0
.
çç0 1
ToDynamicList
çç1 >
(
çç> ?
)
çç? @
;
çç@ A
var
éé 

jsonString
éé &
=
éé' (
dd
éé) +
.
éé+ ,
FirstOrDefault
éé, :
(
éé: ;
)
éé; <
!
éé< =
.
éé= >
ToJsonString
éé> J
(
ééJ K
)
ééK L
;
ééL M
var
èè 
response
èè $
=
èè' (

jsonString
èè) 3
.
èè3 4
ToJsonObject
èè4 @
<
èè@ A 
InvoicesSpResponse
èèA S
>
èèS T
(
èèT U
)
èèU V
;
èèV W
await
íí 
sql
íí 
.
íí 

CloseAsync
íí  
(
íí  !
)
íí! "
;
íí" #
return
îî 
response
îî 
;
îî 
}
ïï 	
catch
ññ 
(
ññ 
	Exception
ññ 
e
ññ 
)
ññ 
{
óó 	
Console
òò 
.
òò 
	WriteLine
òò 
(
òò 
e
òò 
)
òò  
;
òò  !
throw
ôô 
;
ôô 
}
öö 	
}
õõ 
private
ùù 
void
ùù 5
'CreateDebitServiceBalanceListParameters
ùù 8
(
ùù8 9%
DebitTransactionRequest
ùù9 P
request
ùùQ X
,
ùùX Y
	DataTable
ùùZ c
dataTableDetails
ùùd t
,
ùùt u

SqlCommandùùv Ä
cmdùùÅ Ñ
)ùùÑ Ö
{
ûû 
cmd
üü 
.
üü 
CommandType
üü 
=
üü 
CommandType
üü %
.
üü% &
StoredProcedure
üü& 5
;
üü5 6
cmd
†† 
.
†† 

Parameters
†† 
.
†† 
Add
†† 
(
†† 
new
†† 
SqlParameter
†† +
(
††+ ,
$str
††, :
,
††: ;
	SqlDbType
††< E
.
††E F
Int
††F I
)
††I J
{
°° 	
Value
¢¢ 
=
¢¢ 
request
¢¢ 
.
¢¢ 
AffiliateId
¢¢ '
}
££ 	
)
££	 

;
££
 
cmd
•• 
.
•• 

Parameters
•• 
.
•• 
Add
•• 
(
•• 
new
•• 
SqlParameter
•• +
(
••+ ,
$str
••, 5
,
••5 6
	SqlDbType
••7 @
.
••@ A
Int
••A D
)
••D E
{
¶¶ 	
Value
ßß 
=
ßß 
request
ßß 
.
ßß 
UserId
ßß "
}
®® 	
)
®®	 

;
®®
 
cmd
™™ 
.
™™ 

Parameters
™™ 
.
™™ 
Add
™™ 
(
™™ 
new
™™ 
SqlParameter
™™ +
(
™™+ ,
$str
™™, 6
,
™™6 7
	SqlDbType
™™8 A
.
™™A B
VarChar
™™B I
)
™™I J
{
´´ 	
Value
¨¨ 
=
¨¨ 
request
¨¨ 
.
¨¨ 
Concept
¨¨ #
,
¨¨# $
Size
≠≠ 
=
≠≠ 
$num
≠≠ 
}
ÆÆ 	
)
ÆÆ	 

;
ÆÆ
 
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ 
.
∞∞ 
Add
∞∞ 
(
∞∞ 
new
∞∞ 
SqlParameter
∞∞ +
(
∞∞+ ,
$str
∞∞, 5
,
∞∞5 6
	SqlDbType
∞∞7 @
.
∞∞@ A
Decimal
∞∞A H
)
∞∞H I
{
±± 	
Value
≤≤ 
=
≤≤ 
request
≤≤ 
.
≤≤ 
Points
≤≤ !
}
≥≥ 	
)
≥≥	 

;
≥≥
 
cmd
µµ 
.
µµ 

Parameters
µµ 
.
µµ 
Add
µµ 
(
µµ 
new
µµ 
SqlParameter
µµ +
(
µµ+ ,
$str
µµ, =
,
µµ= >
	SqlDbType
µµ? H
.
µµH I
Decimal
µµI P
)
µµP Q
{
∂∂ 	
Value
∑∑ 
=
∑∑ 
request
∑∑ 
.
∑∑ 
Commissionable
∑∑ *
}
∏∏ 	
)
∏∏	 

;
∏∏
 
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ 
.
∫∫ 
Add
∫∫ 
(
∫∫ 
new
∫∫ 
SqlParameter
∫∫ +
(
∫∫+ ,
$str
∫∫, 3
,
∫∫3 4
	SqlDbType
∫∫5 >
.
∫∫> ?
VarChar
∫∫? F
)
∫∫F G
{
ªª 	
Value
ºº 
=
ºº 
string
ºº 
.
ºº  
IsNullOrEmpty
ºº  -
(
ºº- .
request
ºº. 5
.
ºº5 6
Bank
ºº6 :
)
ºº: ;
?
ºº< =
null
ºº> B
:
ººC D
request
ººE L
.
ººL M
Bank
ººM Q
,
ººQ R

IsNullable
ΩΩ 
=
ΩΩ 
true
ΩΩ 
,
ΩΩ 
Size
ææ 
=
ææ 
$num
ææ 
}
øø 	
)
øø	 

;
øø
 
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ 
.
¡¡ 
Add
¡¡ 
(
¡¡ 
new
¡¡ 
SqlParameter
¡¡ +
(
¡¡+ ,
$str
¡¡, <
,
¡¡< =
	SqlDbType
¡¡> G
.
¡¡G H
VarChar
¡¡H O
)
¡¡O P
{
¬¬ 	
Value
√√ 
=
√√ 
request
√√ 
.
√√ 
PaymentMethod
√√ )
,
√√) *
Size
ƒƒ 
=
ƒƒ 
$num
ƒƒ 
}
≈≈ 	
)
≈≈	 

;
≈≈
 
cmd
«« 
.
«« 

Parameters
«« 
.
«« 
Add
«« 
(
«« 
new
«« 
SqlParameter
«« +
(
««+ ,
$str
««, 4
,
««4 5
	SqlDbType
««6 ?
.
««? @
Decimal
««@ G
)
««G H
{
»» 	
Value
…… 
=
…… 
request
…… 
.
…… 
Debit
…… !
}
   	
)
  	 

;
  
 
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ 
.
ÃÃ 
Add
ÃÃ 
(
ÃÃ 
new
ÃÃ 
SqlParameter
ÃÃ +
(
ÃÃ+ ,
$str
ÃÃ, @
,
ÃÃ@ A
	SqlDbType
ÃÃB K
.
ÃÃK L
VarChar
ÃÃL S
)
ÃÃS T
{
ÕÕ 	
Value
ŒŒ 
=
ŒŒ 
request
ŒŒ 
.
ŒŒ 
AffiliateUserName
ŒŒ -
,
ŒŒ- .
Size
œœ 
=
œœ 
$num
œœ 
}
–– 	
)
––	 

;
––
 
cmd
”” 
.
”” 

Parameters
”” 
.
”” 
Add
”” 
(
”” 
new
”” 
SqlParameter
”” +
(
””+ ,
$str
””, <
,
””< =
	SqlDbType
””> G
.
””G H
VarChar
””H O
)
””O P
{
‘‘ 	
Value
’’ 
=
’’ 
string
’’ 
.
’’  
IsNullOrEmpty
’’  -
(
’’- .
request
’’. 5
.
’’5 6
ReceiptNumber
’’6 C
)
’’C D
?
’’E F
null
’’G K
:
’’L M
request
’’N U
.
’’U V
ReceiptNumber
’’V c
,
’’c d

IsNullable
÷÷ 
=
÷÷ 
true
÷÷ 
,
÷÷ 
Size
◊◊ 
=
◊◊ 
$num
◊◊ 
}
ÿÿ 	
)
ÿÿ	 

;
ÿÿ
 
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ 
.
⁄⁄ 
Add
⁄⁄ 
(
⁄⁄ 
new
⁄⁄ 
SqlParameter
⁄⁄ +
(
⁄⁄+ ,
$str
⁄⁄, 3
,
⁄⁄3 4
	SqlDbType
⁄⁄5 >
.
⁄⁄> ?
Bit
⁄⁄? B
)
⁄⁄B C
{
€€ 	
Value
‹‹ 
=
‹‹ 
request
‹‹ 
.
‹‹ 
Type
‹‹  
}
›› 	
)
››	 

;
››
 
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ 
.
ﬂﬂ 
Add
ﬂﬂ 
(
ﬂﬂ 
new
ﬂﬂ 
SqlParameter
ﬂﬂ +
(
ﬂﬂ+ ,
$str
ﬂﬂ, 8
,
ﬂﬂ8 9
	SqlDbType
ﬂﬂ: C
.
ﬂﬂC D
VarChar
ﬂﬂD K
)
ﬂﬂK L
{
‡‡ 	
Value
·· 
=
·· 
string
·· 
.
··  
IsNullOrEmpty
··  -
(
··- .
request
··. 5
.
··5 6
	SecretKey
··6 ?
)
··? @
?
··A B
null
··C G
:
··H I
request
··J Q
.
··Q R
	SecretKey
··R [
,
··[ \

IsNullable
‚‚ 
=
‚‚ 
true
‚‚ 
,
‚‚ 
Size
„„ 
=
„„ 
$num
„„ 
}
‰‰ 	
)
‰‰	 

;
‰‰
 
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ 
.
ÊÊ 
Add
ÊÊ 
(
ÊÊ 
new
ÊÊ 
SqlParameter
ÊÊ +
(
ÊÊ+ ,
$str
ÊÊ, >
,
ÊÊ> ?
	SqlDbType
ÊÊ@ I
.
ÊÊI J

Structured
ÊÊJ T
)
ÊÊT U
{
ÁÁ 	
Value
ËË 
=
ËË 
dataTableDetails
ËË '
,
ËË' (
TypeName
ÈÈ 
=
ÈÈ 
$str
ÈÈ 0
}
ÍÍ 	
)
ÍÍ	 

;
ÍÍ
 
}
ÎÎ 
public
ÌÌ 

Task
ÌÌ 
<
ÌÌ 
decimal
ÌÌ 
?
ÌÌ 
>
ÌÌ ,
GetTotalCommissionsPaidBalance
ÌÌ 8
(
ÌÌ8 9
int
ÌÌ9 <
affiliateId
ÌÌ= H
)
ÌÌH I
{
ÓÓ 
return
ÔÔ 
Context
ÔÔ 
.
ÔÔ #
WalletsServiceModel1B
ÔÔ ,
.
ÔÔ, -
Where
ÔÔ- 2
(
ÔÔ2 3
x
ÔÔ3 4
=>
 
x
 
.
 
AffiliateId
  
==
! #
affiliateId
$ /
&&
0 2
x
3 4
.
4 5
Credit
5 ;
.
; <
HasValue
< D
&&
E G
x
H I
.
I J
Credit
J P
>
Q R
$num
S T
)
T U
.
ÒÒ 
SumAsync
ÒÒ 
(
ÒÒ 
s
ÒÒ 
=>
ÒÒ 
s
ÒÒ 
.
ÒÒ 
Credit
ÒÒ #
)
ÒÒ# $
;
ÒÒ$ %
}
ÚÚ 
public
ıı 

Task
ıı 
<
ıı  
InvoicesSpResponse
ıı "
?
ıı" #
>
ıı# $5
'DebitServiceBalanceEcoPoolTransactionSp
ıı% L
(
ııL M%
DebitTransactionRequest
ııM d
request
ııe l
)
ııl m
{
ˆˆ 
throw
˜˜ 
new
˜˜ %
NotImplementedException
˜˜ )
(
˜˜) *
)
˜˜* +
;
˜˜+ ,
}
¯¯ 
public
˙˙ 

async
˙˙ 
Task
˙˙ 
<
˙˙ 
bool
˙˙ 
>
˙˙ -
CreditServiceBalanceTransaction
˙˙ ;
(
˙˙; <&
CreditTransactionRequest
˙˙< T
request
˙˙U \
)
˙˙\ ]
{
˚˚ 
try
¸¸ 
{
˝˝ 	
await
˛˛ 
using
˛˛ 
var
˛˛ 
sql
˛˛ 
=
˛˛  !
new
˛˛" %
SqlConnection
˛˛& 3
(
˛˛3 4
_appSettings
˛˛4 @
.
˛˛@ A
ConnectionStrings
˛˛A R
?
˛˛R S
.
˛˛S T"
PostgreSqlConnection
˛˛T h
)
˛˛h i
;
˛˛i j
await
ˇˇ 
using
ˇˇ 
var
ˇˇ 
cmd
ˇˇ 
=
ˇˇ  !
new
ˇˇ" %

SqlCommand
ˇˇ& 0
(
ˇˇ0 1
	Constants
ˇˇ1 :
.
ˇˇ: ;6
(CreditEcoPoolTransactionServiceSpModel1B
ˇˇ; c
,
ˇˇc d
sql
ˇˇe h
)
ˇˇh i
;
ˇˇi j(
CreateCreditListParameters
ÅÅ &
(
ÅÅ& '
request
ÅÅ' .
,
ÅÅ. /
cmd
ÅÅ0 3
)
ÅÅ3 4
;
ÅÅ4 5
await
ÉÉ 
sql
ÉÉ 
.
ÉÉ 
	OpenAsync
ÉÉ 
(
ÉÉ  
)
ÉÉ  !
;
ÉÉ! "
await
ÑÑ 
cmd
ÑÑ 
.
ÑÑ "
ExecuteNonQueryAsync
ÑÑ *
(
ÑÑ* +
)
ÑÑ+ ,
;
ÑÑ, -
await
ÖÖ 
sql
ÖÖ 
.
ÖÖ 

CloseAsync
ÖÖ  
(
ÖÖ  !
)
ÖÖ! "
;
ÖÖ" #
return
áá 
true
áá 
;
áá 
}
àà 	
catch
ââ 
(
ââ 
	Exception
ââ 
e
ââ 
)
ââ 
{
ää 	
Console
ãã 
.
ãã 
	WriteLine
ãã 
(
ãã 
e
ãã 
)
ãã  
;
ãã  !
return
åå 
false
åå 
;
åå 
}
çç 	
}
éé 
}èè §*
UC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletPeriodRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class "
WalletPeriodRepository #
:$ %
BaseRepository& 4
,4 5#
IWalletPeriodRepository6 M
{		 
public

 
"
WalletPeriodRepository

 !
(

! ""
WalletServiceDbContext

" 8
context

9 @
)

@ A
:

B C
base

D H
(

H I
context

I P
)

P Q
{

R S
}

T U
public 

Task 
< 
List 
< 
WalletsPeriod "
>" #
># $ 
GetAllWalletsPeriods% 9
(9 :
): ;
=> 

Context 
. 
WalletsPeriods !
.! "
AsNoTracking" .
(. /
)/ 0
.0 1
ToListAsync1 <
(< =
)= >
;> ?
public 

Task 
< 
WalletsPeriod 
? 
> 
GetWalletPeriodById  3
(3 4
int4 7
id8 :
): ;
=> 

Context 
. 
WalletsPeriods !
.! "
FirstOrDefaultAsync" 5
(5 6
x6 7
=>8 :
x; <
.< =
Id= ?
==@ B
idC E
)E F
;F G
public 

async 
Task 
< 
IEnumerable !
<! "
WalletsPeriod" /
>/ 0
>0 1#
CreateWalletPeriodAsync2 I
(I J
IEnumerableJ U
<U V
WalletsPeriodV c
>c d
requeste l
)l m
{ 
var 
today 
= 
DateTime %
.% &
Now& )
;) *
var 
createdPeriods 
= 
new  
List! %
<% &
WalletsPeriod& 3
>3 4
(4 5
)5 6
;6 7
foreach 
( 
var 
period 
in 
request &
)& '
{ 	
period 
. 
	CreatedAt 
= 
today $
;$ %
period 
. 
	UpdatedAt 
= 
today $
;$ %
await 
Context 
. 
AddAsync "
(" #
period# )
)) *
;* +
createdPeriods 
. 
Add 
( 
period %
)% &
;& '
} 	
await!! 
Context!! 
.!! 
SaveChangesAsync!! &
(!!& '
)!!' (
;!!( )
return## 
createdPeriods## 
;## 
}$$ 
public&& 

async&& 
Task&& 
<&& 
IEnumerable&& !
<&&! "
WalletsPeriod&&" /
>&&/ 0
>&&0 1$
UpdateWalletPeriodsAsync&&2 J
(&&J K
IEnumerable&&K V
<&&V W
WalletsPeriod&&W d
>&&d e
request&&f m
)&&m n
{'' 
var(( 
today(( 
=(( 
DateTime(( %
.((% &
Now((& )
;(() *
var)) 
updatedPeriods)) 
=)) 
new))  
List))! %
<))% &
WalletsPeriod))& 3
>))3 4
())4 5
)))5 6
;))6 7
foreach++ 
(++ 
var++ 
period++ 
in++ 
request++ &
)++& '
{,, 	
period-- 
.-- 
	CreatedAt-- 
=-- 
today-- $
;--$ %
period.. 
... 
	UpdatedAt.. 
=.. 
today.. $
;..$ %
Context00 
.00 
WalletsPeriods00 "
.00" #
Update00# )
(00) *
period00* 0
)000 1
;001 2
updatedPeriods11 
.11 
Add11 
(11 
period11 %
)11% &
;11& '
}22 	
await44 
Context44 
.44 
SaveChangesAsync44 &
(44& '
)44' (
;44( )
return66 
updatedPeriods66 
;66 
}77 
public:: 

async:: 
Task:: 
<:: 
WalletsPeriod:: #
>::# $#
DeleteWalletPeriodAsync::% <
(::< =
WalletsPeriod::= J
request::K R
)::R S
{;; 
request<< 
.<< 
	DeletedAt<< 
=<< 
DateTime<< $
.<<$ %
Now<<% (
;<<( )
Context>> 
.>> 
WalletsPeriods>> 
.>> 
Update>> %
(>>% &
request>>& -
)>>- .
;>>. /
await?? 
Context?? 
.?? 
SaveChangesAsync?? &
(??& '
)??' (
;??( )
returnAA 
requestAA 
;AA 
}BB 
}CC ∏†
OC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class 
WalletRepository 
: 
BaseRepository  .
,. /
IWalletRepository0 A
{ 
private 
readonly $
ApplicationConfiguration -
_appSettings. :
;: ;
public 

WalletRepository 
( 
IOptions $
<$ %$
ApplicationConfiguration% =
>= >
appSettings? J
,J K"
WalletServiceDbContextL b
contextc j
)j k
:l m
base 
( 
context 
) 
=> 

_appSettings 
= 
appSettings %
.% &
Value& +
;+ ,
public 

Task 
< 
List 
< 
Wallet 
> 
> "
GetWalletByAffiliateId 4
(4 5
int5 8
affiliateId9 D
,D E
longF J
brandIdK R
)R S
=> 

Context 
. 
Wallets 
. 
Where  
(  !
x! "
=># %
x& '
.' (
AffiliateId( 3
==4 6
affiliateId7 B
&&C E
xF G
.G H
BrandIdH O
==P R
brandIdS Z
)Z [
.[ \
ToListAsync\ g
(g h
)h i
;i j
public   

async   
Task   
<   
decimal   
>   ,
 GetAvailableBalanceByAffiliateId   ?
(  ? @
int  @ C
affiliateId  D O
,  O P
long  Q U
brandId  V ]
)  ] ^
{!! 
var"" 
list"" 
="" 
await"" 
Context""  
.""  !
Wallets""! (
.## 
Where## 
(## 
x## 
=>## 
x## 
.## 
AffiliateId## %
==##& (
affiliateId##) 4
&&##5 7
x##8 9
.##9 :
Status##: @
==##A C
true##D H
&&##I K
x##L M
.##M N
BrandId##N U
==##V X
brandId##Y `
)##` a
.##a b
ToListAsync##b m
(##m n
)##n o
;##o p
var%% 
result%% 
=%% 
list%% 
.%% 
Sum%% 
(%% 
x%% 
=>%%  "
x%%# $
.%%$ %
Credit%%% +
-%%, -
x%%. /
.%%/ 0
Debit%%0 5
)%%5 6
;%%6 7
return&& 
result&& 
.&& 
	ToDecimal&& 
(&&  
)&&  !
;&&! "
}'' 
public)) 

async)) 
Task)) 
<)) 
IEnumerable)) !
<))! "
AffiliateBalance))" 2
>))2 3
>))3 4/
#GetAllAffiliatesWithPositiveBalance))5 X
())X Y
long))Y ]
brandId))^ e
)))e f
{** 
var++ 
list++ 
=++ 
await++ 
Context++  
.++  !
Wallets++! (
.,, 
Where,, 
(,, 
x,, 
=>,, 
x,, 
.,, 
Status,,  
==,,! #
true,,$ (
&&,,) +
x,,, -
.,,- .
BrandId,,. 5
==,,6 8
brandId,,9 @
),,@ A
.-- 
GroupBy-- 
(-- 
x-- 
=>-- 
x-- 
.-- 
AffiliateId-- '
)--' (
... 
Select.. 
(.. 
g.. 
=>.. 
new.. 
AffiliateBalance.. -
{// 
AffiliateId00 
=00 
g00 
.00  
Key00  #
,00# $
AffiliateUserName11 !
=11" #
g11$ %
.11% &
FirstOrDefault11& 4
(114 5
)115 6
!116 7
.117 8
AffiliateUserName118 I
,11I J
Balance22 
=22 
g22 
.22 
Sum22 
(22  
x22  !
=>22" $
x22% &
.22& '
Credit22' -
-22. /
x220 1
.221 2
Debit222 7
)227 8
}33 
)33 
.44 
Where44 
(44 
ab44 
=>44 
ab44 
.44 
Balance44 #
>44$ %
$num44& '
)44' (
.55 
ToListAsync55 
(55 
)55 
;55 
return77 
list77 
;77 
}88 
public:: 

async:: 
Task:: 
<:: 
decimal:: 
>:: $
GetAvailableBalanceAdmin:: 7
(::7 8
long::8 <
brandId::= D
)::D E
{;; 
var<< 
result<< 
=<< 
await<< 
Context<< "
.<<" #
Wallets<<# *
.== 
Where== 
(== 
x== 
=>== 
x== 
.== 
Status==  
====! #
true==$ (
&&==) +
x==, -
.==- .
BrandId==. 5
====6 8
brandId==9 @
)==@ A
.>> 
Select>> 
(>> 
x>> 
=>>> 
x>> 
.>> 
Credit>> !
->>" #
x>>$ %
.>>% &
Debit>>& +
)>>+ ,
.>>, -
SumAsync>>- 5
(>>5 6
)>>6 7
;>>7 8
return@@ 
(@@ 
decimal@@ 
)@@ 
result@@ 
!@@ 
;@@  
}AA 
publicCC 

asyncCC 
TaskCC 
<CC 
decimalCC 
>CC '
GetCommissionsForAdminAsyncCC :
(CC: ;
longCC; ?
brandIdCC@ G
)CCG H
{DD 
varEE 
resultEE 
=EE 
awaitEE 
ContextEE "
.EE" #
WalletsEE# *
.FF 
WhereFF 
(FF 
xFF 
=>FF 
xFF 
.FF 
StatusFF  
==FF! #
trueFF$ (
&&FF) +
xGG 
.GG 
BrandIdGG !
==GG" $
brandIdGG% ,
&&GG- /
xHH 
.HH 
AffiliateIdHH %
==HH& (
$numHH) *
&&HH+ -
xII 
.II 
ConceptTypeII %
!=II& (
nullII) -
&&II. 0
xJJ 
.JJ 
ConceptTypeJJ %
.JJ% &
ContainsJJ& .
(JJ. /
$strJJ/ I
)JJI J
)JJJ K
.KK 
SelectKK 
(KK 
xKK 
=>KK 
(KK 
decimalKK !
)KK! "
(KK" #
xKK# $
.KK$ %
CreditKK% +
-KK, -
xKK. /
.KK/ 0
DebitKK0 5
)KK5 6
!KK6 7
)KK7 8
.LL 
SumAsyncLL 
(LL 
)LL 
;LL 
returnNN 
resultNN 
;NN 
}OO 
publicQQ 

asyncQQ 
TaskQQ 
<QQ 
decimalQQ 
?QQ 
>QQ *
GetReverseBalanceByAffiliateIdQQ  >
(QQ> ?
intQQ? B
affiliateIdQQC N
,QQN O
longQQP T
brandIdQQU \
)QQ\ ]
{RR 
varSS 
totalCreditsSS 
=SS 
awaitSS  
ContextSS! (
.SS( )
WalletsSS) 0
.TT 
WhereTT 
(TT 
xTT 
=>TT 
xTT 
.TT 
AffiliateIdTT %
==TT& (
affiliateIdTT) 4
&&TT5 7
xTT8 9
.TT9 :
ConceptTypeTT: E
==TTF H
WalletConceptTypeTTI Z
.TTZ [
revert_poolTT[ f
.TTf g
ToStringTTg o
(TTo p
)TTp q
&&TTr t
xUU 
.UU 
BrandIdUU !
==UU" $
brandIdUU% ,
)UU, -
.VV 
SelectVV 
(VV 
xVV 
=>VV 
xVV 
.VV 
CreditVV !
)VV! "
.WW 
SumAsyncWW 
(WW 
)WW 
;WW 
varYY 
totalDebitsYY 
=YY 
awaitYY 
ContextYY  '
.YY' (
WalletsYY( /
.ZZ 
WhereZZ 
(ZZ 
xZZ 
=>ZZ 
xZZ 
.ZZ 
AffiliateIdZZ %
==ZZ& (
affiliateIdZZ) 4
&&ZZ5 7
x[[ 
.[[ 
ConceptType[[ %
==[[& (
WalletConceptType[[) :
.[[: ;)
purchase_with_reverse_balance[[; X
.[[X Y
ToString[[Y a
([[a b
)[[b c
&&[[d f
x\\ 
.\\ 
BrandId\\ !
==\\" $
brandId\\% ,
)\\, -
.]] 
Select]] 
(]] 
x]] 
=>]] 
x]] 
.]] 
Debit]]  
)]]  !
.^^ 
SumAsync^^ 
(^^ 
)^^ 
;^^ 
var`` 
reverseBalance`` 
=`` 
totalCredits`` )
-``* +
totalDebits``, 7
;``7 8
returnaa 
Convertaa 
.aa 
	ToDecimalaa  
(aa  !
reverseBalanceaa! /
)aa/ 0
;aa0 1
}bb 
publicdd 

asyncdd 
Taskdd 
<dd 
decimaldd 
>dd "
GetTotalReverseBalancedd 5
(dd5 6
longdd6 :
brandIddd; B
)ddB C
{ee 
varff 
totalCreditsff 
=ff 
awaitff  
Contextff! (
.ff( )
Walletsff) 0
.gg 
Wheregg 
(gg 
xgg 
=>gg 
xgg 
.gg 
ConceptTypegg %
==gg& (
WalletConceptTypegg) :
.gg: ;
revert_poolgg; F
.ggF G
ToStringggG O
(ggO P
)ggP Q
&&ggR T
xggU V
.ggV W
BrandIdggW ^
==gg_ a
brandIdggb i
)ggi j
.hh 
Selecthh 
(hh 
xhh 
=>hh 
xhh 
.hh 
Credithh !
)hh! "
.ii 
SumAsyncii 
(ii 
)ii 
;ii 
varkk 
totalDebitskk 
=kk 
awaitkk 
Contextkk  '
.kk' (
Walletskk( /
.ll 
Wherell 
(ll 
xll 
=>ll 
xmm 
.mm 
ConceptTypemm 
==mm  
WalletConceptTypemm! 2
.mm2 3)
purchase_with_reverse_balancemm3 P
.mmP Q
ToStringmmQ Y
(mmY Z
)mmZ [
&&mm\ ^
xmm_ `
.mm` a
BrandIdmma h
==mmi k
brandIdmml s
)mms t
.nn 
Selectnn 
(nn 
xnn 
=>nn 
xnn 
.nn 
Debitnn  
)nn  !
.oo 
SumAsyncoo 
(oo 
)oo 
;oo 
varqq 
reverseBalanceqq 
=qq 
totalCreditsqq )
-qq* +
totalDebitsqq, 7
;qq7 8
returnrr 
Convertrr 
.rr 
	ToDecimalrr  
(rr  !
reverseBalancerr! /
)rr/ 0
;rr0 1
}ss 
publicuu 

Taskuu 
<uu 
decimaluu 
?uu 
>uu -
!GetTotalAcquisitionsByAffiliateIduu ;
(uu; <
intuu< ?
affiliateIduu@ K
,uuK L
longuuM Q
brandIduuR Y
)uuY Z
{vv 
varww  
allowedPaymentGroupsww  
=ww! "
newww# &
[ww& '
]ww' (
{ww) *
$numww+ ,
,ww, -
$numww. 0
,ww0 1
$numww2 4
,ww4 5
$numww6 8
}ww9 :
;ww: ;
returnyy 
Contextyy 
.yy 
InvoicesDetailsyy &
.yy& '
Includeyy' .
(yy. /
xyy/ 0
=>yy1 3
xyy4 5
.yy5 6
Invoiceyy6 =
)yy= >
.yy> ?
AsNoTrackingyy? K
(yyK L
)yyL M
.zz 
Wherezz 
(zz 
xzz 
=>{{ 
x{{ 
.{{ 
Invoice{{ 
.{{ 
AffiliateId{{ (
=={{) +
affiliateId{{, 7
&&||  
allowedPaymentGroups|| *
.||* +
Contains||+ 3
(||3 4
x||4 5
.||5 6
PaymentGroupId||6 D
)||D E
&&}} 
x}} 
.}} 
ProductPack}} #
&&~~ 
!~~ 
x~~ 
.~~ 
Invoice~~  
.~~  !
CancellationDate~~! 1
.~~1 2
HasValue~~2 :
&& 
x 
. 
BrandId 
==  "
brandId# *
)* +
.
ÄÄ 
SumAsync
ÄÄ 
(
ÄÄ 
s
ÄÄ 
=>
ÄÄ 
s
ÄÄ 
.
ÄÄ 

BaseAmount
ÄÄ '
)
ÄÄ' (
;
ÄÄ( )
}
ÅÅ 
public
ÉÉ 

async
ÉÉ 
Task
ÉÉ 
<
ÉÉ 
decimal
ÉÉ 
?
ÉÉ 
>
ÉÉ %
GetTotalCommissionsPaid
ÉÉ  7
(
ÉÉ7 8
int
ÉÉ8 ;
affiliateId
ÉÉ< G
,
ÉÉG H
long
ÉÉI M
brandId
ÉÉN U
)
ÉÉU V
{
ÑÑ 
var
ÖÖ 
status
ÖÖ 
=
ÖÖ 
new
ÖÖ 
HashSet
ÖÖ  
<
ÖÖ  !
string
ÖÖ! '
>
ÖÖ' (
{
ÜÜ 	
$str
áá &
,
áá& '
$str
àà 
,
àà 
$str
ââ 
,
ââ 
$str
ää  
,
ää  !
$str
ãã  
,
ãã  !
$str
åå 
,
åå  
$str
çç 
}
éé 	
;
éé	 

var
èè 
total
èè 
=
èè 
await
èè 
Context
èè !
.
èè! "
Wallets
èè" )
.
êê 
Where
êê 
(
êê 
x
êê 
=>
êê 
x
êê 
.
êê 
AffiliateId
êê %
==
êê& (
affiliateId
êê) 4
&&
êê5 7
x
êê8 9
.
êê9 :
ConceptType
êê: E
!=
êêF H
null
êêI M
&&
êêN P
status
êêQ W
.
êêW X
Contains
êêX `
(
êê` a
x
êêa b
.
êêb c
ConceptType
êêc n
)
êên o
&&
êêp r
x
ëë 
.
ëë 
Status
ëë  
==
ëë! #
true
ëë$ (
&&
ëë) +
x
ëë, -
.
ëë- .
BrandId
ëë. 5
==
ëë6 8
brandId
ëë9 @
)
ëë@ A
.
íí 
SumAsync
íí 
(
íí 
x
íí 
=>
íí 
x
íí 
.
íí 
Credit
íí #
)
íí# $
;
íí$ %
return
îî 
total
îî 
;
îî 
}
ïï 
public
óó 

async
óó 
Task
óó 
<
óó  
InvoicesSpResponse
óó (
?
óó( )
>
óó) *
DebitTransaction
óó+ ;
(
óó; <%
DebitTransactionRequest
óó< S
request
óóT [
)
óó[ \
{
òò #
ArgumentNullException
ôô 
.
ôô 
ThrowIfNull
ôô )
(
ôô) *
request
ôô* 1
,
ôô1 2
nameof
ôô3 9
(
ôô9 :
request
ôô: A
)
ôôA B
)
ôôB C
;
ôôC D
try
õõ 
{
úú 	
var
ùù 

parameters
ùù 
=
ùù '
CreateDebitListParameters
ùù 6
(
ùù6 7
request
ùù7 >
)
ùù> ?
;
ùù? @
const
ûû 
string
ûû 
sql
ûû 
=
ûû 
$str
û§ 

;
§§
 
return
¶¶ 
await
¶¶ 
Context
¶¶  
.
¶¶  !!
InvoicesSpResponses
¶¶! 4
.
ßß 

FromSqlRaw
ßß 
(
ßß 
sql
ßß 
,
ßß  

parameters
ßß! +
.
ßß+ ,
ToArray
ßß, 3
(
ßß3 4
)
ßß4 5
)
ßß5 6
.
®® 
AsNoTracking
®® 
(
®® 
)
®® 
.
©© !
FirstOrDefaultAsync
©© $
(
©©$ %
)
©©% &
;
©©& '
}
™™ 	
catch
´´ 
(
´´ 
	Exception
´´ 
ex
´´ 
)
´´ 
{
¨¨ 	
throw
≠≠ 
new
≠≠ 
	Exception
≠≠ 
(
≠≠  
$str
≠≠  D
,
≠≠D E
ex
≠≠F H
)
≠≠H I
;
≠≠I J
}
ÆÆ 	
}
ØØ 
public
±± 

async
±± 
Task
±± 
<
±±  
InvoicesSpResponse
±± (
?
±±( )
>
±±) *'
DebitEcoPoolTransactionSp
±±+ D
(
±±D E%
DebitTransactionRequest
±±E \
request
±±] d
)
±±d e
{
≤≤ 
try
≥≥ 
{
¥¥ 	
await
µµ 
using
µµ 
var
µµ 
sql
µµ 
=
µµ  !
new
µµ" %
SqlConnection
µµ& 3
(
µµ3 4
_appSettings
µµ4 @
.
µµ@ A
ConnectionStrings
µµA R
?
µµR S
.
µµS T"
PostgreSqlConnection
µµT h
)
µµh i
;
µµi j
await
∂∂ 
using
∂∂ 
var
∂∂ 
cmd
∂∂ 
=
∂∂  !
new
∂∂" %

SqlCommand
∂∂& 0
(
∂∂0 1
	Constants
∂∂1 :
.
∂∂: ;'
DebitEcoPoolTransactionSp
∂∂; T
,
∂∂T U
sql
∂∂V Y
)
∂∂Y Z
;
∂∂Z [.
 CreateDebitEcoPoolListParameters
∏∏ ,
(
∏∏, -
request
∏∏- 4
,
∏∏4 5
cmd
∏∏6 9
)
∏∏9 :
;
∏∏: ;
await
∫∫ 
sql
∫∫ 
.
∫∫ 
	OpenAsync
∫∫ 
(
∫∫  
)
∫∫  !
;
∫∫! "
await
ªª 
using
ªª 
var
ªª 
oReader
ªª #
=
ªª$ %
await
ªª& +
cmd
ªª, /
.
ªª/ 0 
ExecuteReaderAsync
ªª0 B
(
ªªB C
)
ªªC D
;
ªªD E
var
ºº 
dd
ºº 
=
ºº 
oReader
ºº 
.
ºº 
ToDynamicList
ºº *
(
ºº* +
)
ºº+ ,
;
ºº, -
var
ΩΩ 

jsonString
ΩΩ 
=
ΩΩ 
dd
ΩΩ 
.
ΩΩ  
FirstOrDefault
ΩΩ  .
(
ΩΩ. /
)
ΩΩ/ 0
!
ΩΩ0 1
.
ΩΩ1 2
ToJsonString
ΩΩ2 >
(
ΩΩ> ?
)
ΩΩ? @
;
ΩΩ@ A
var
ææ 
response
ææ 
=
ææ 

jsonString
ææ %
.
ææ% &
ToJsonObject
ææ& 2
<
ææ2 3 
InvoicesSpResponse
ææ3 E
>
ææE F
(
ææF G
)
ææG H
;
ææH I
await
¿¿ 
sql
¿¿ 
.
¿¿ 

CloseAsync
¿¿  
(
¿¿  !
)
¿¿! "
;
¿¿" #
return
¬¬ 
response
¬¬ 
;
¬¬ 
}
√√ 	
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
e
ƒƒ 
)
ƒƒ 
{
≈≈ 	
Console
∆∆ 
.
∆∆ 
	WriteLine
∆∆ 
(
∆∆ 
e
∆∆ 
)
∆∆  
;
∆∆  !
throw
«« 
;
«« 
}
»» 	
}
…… 
public
ÀÀ 

async
ÀÀ 
Task
ÀÀ 
<
ÀÀ  
InvoicesSpResponse
ÀÀ (
?
ÀÀ( )
>
ÀÀ) *#
AdminDebitTransaction
ÀÀ+ @
(
ÀÀ@ A%
DebitTransactionRequest
ÀÀA X
request
ÀÀY `
)
ÀÀ` a
{
ÃÃ #
ArgumentNullException
ÕÕ 
.
ÕÕ 
ThrowIfNull
ÕÕ )
(
ÕÕ) *
request
ÕÕ* 1
,
ÕÕ1 2
nameof
ÕÕ3 9
(
ÕÕ9 :
request
ÕÕ: A
)
ÕÕA B
)
ÕÕB C
;
ÕÕC D
try
œœ 
{
–– 	
var
—— 

parameters
—— 
=
—— '
CreateDebitListParameters
—— 6
(
——6 7
request
——7 >
)
——> ?
;
——? @
const
““ 
string
““ 
sql
““ 
=
““ 
$str
“ÿ 
;
ÿÿ 
return
⁄⁄ 
await
⁄⁄ 
Context
⁄⁄  
.
⁄⁄  !!
InvoicesSpResponses
⁄⁄! 4
.
€€ 

FromSqlRaw
€€ 
(
€€ 
sql
€€ 
,
€€  

parameters
€€! +
.
€€+ ,
ToArray
€€, 3
(
€€3 4
)
€€4 5
)
€€5 6
.
‹‹ 
AsNoTracking
‹‹ 
(
‹‹ 
)
‹‹ 
.
›› !
FirstOrDefaultAsync
›› $
(
››$ %
)
››% &
;
››& '
}
ﬁﬁ 	
catch
ﬂﬂ 
(
ﬂﬂ 
	Exception
ﬂﬂ 
ex
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 	
throw
·· 
new
·· 
	Exception
·· 
(
··  
$str
··  J
,
··J K
ex
··L N
)
··N O
;
··O P
}
‚‚ 	
}
„„ 
public
ÂÂ 

async
ÂÂ 
Task
ÂÂ 
<
ÂÂ 
bool
ÂÂ 
>
ÂÂ 
CreditTransaction
ÂÂ -
(
ÂÂ- .&
CreditTransactionRequest
ÂÂ. F
request
ÂÂG N
)
ÂÂN O
{
ÊÊ 
try
ÁÁ 
{
ËË 	
await
ÈÈ 
using
ÈÈ 
var
ÈÈ 
sql
ÈÈ 
=
ÈÈ  !
new
ÈÈ" %
SqlConnection
ÈÈ& 3
(
ÈÈ3 4
_appSettings
ÈÈ4 @
.
ÈÈ@ A
ConnectionStrings
ÈÈA R
?
ÈÈR S
.
ÈÈS T"
PostgreSqlConnection
ÈÈT h
)
ÈÈh i
;
ÈÈi j
await
ÍÍ 
using
ÍÍ 
var
ÍÍ 
cmd
ÍÍ 
=
ÍÍ  !
new
ÍÍ" %

SqlCommand
ÍÍ& 0
(
ÍÍ0 1
	Constants
ÍÍ1 :
.
ÍÍ: ;!
CreditTransactionSp
ÍÍ; N
,
ÍÍN O
sql
ÍÍP S
)
ÍÍS T
;
ÍÍT U(
CreateCreditListParameters
ÏÏ &
(
ÏÏ& '
request
ÏÏ' .
,
ÏÏ. /
cmd
ÏÏ0 3
)
ÏÏ3 4
;
ÏÏ4 5
await
ÓÓ 
sql
ÓÓ 
.
ÓÓ 
	OpenAsync
ÓÓ 
(
ÓÓ  
)
ÓÓ  !
;
ÓÓ! "
await
ÔÔ 
cmd
ÔÔ 
.
ÔÔ "
ExecuteNonQueryAsync
ÔÔ *
(
ÔÔ* +
)
ÔÔ+ ,
;
ÔÔ, -
await
 
sql
 
.
 

CloseAsync
  
(
  !
)
! "
;
" #
return
ÚÚ 
true
ÚÚ 
;
ÚÚ 
}
ÛÛ 	
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
e
ÙÙ 
)
ÙÙ 
{
ıı 	
Console
ˆˆ 
.
ˆˆ 
	WriteLine
ˆˆ 
(
ˆˆ 
e
ˆˆ 
)
ˆˆ  
;
ˆˆ  !
return
˜˜ 
false
˜˜ 
;
˜˜ 
}
¯¯ 	
}
˘˘ 
public
˚˚ 

async
˚˚ 
Task
˚˚ 
<
˚˚ 
bool
˚˚ 
>
˚˚ &
CreditModel1ATransaction
˚˚ 4
(
˚˚4 5&
CreditTransactionRequest
˚˚5 M
request
˚˚N U
)
˚˚U V
{
¸¸ 
try
˝˝ 
{
˛˛ 	
await
ˇˇ 
using
ˇˇ 
var
ˇˇ 
sql
ˇˇ 
=
ˇˇ  !
new
ˇˇ" %
SqlConnection
ˇˇ& 3
(
ˇˇ3 4
_appSettings
ˇˇ4 @
.
ˇˇ@ A
ConnectionStrings
ˇˇA R
?
ˇˇR S
.
ˇˇS T"
PostgreSqlConnection
ˇˇT h
)
ˇˇh i
;
ˇˇi j
await
ÄÄ 
using
ÄÄ 
var
ÄÄ 
cmd
ÄÄ 
=
ÄÄ  !
new
ÄÄ" %

SqlCommand
ÄÄ& 0
(
ÄÄ0 1
	Constants
ÄÄ1 :
.
ÄÄ: ;(
CreditTransactionSpModel1A
ÄÄ; U
,
ÄÄU V
sql
ÄÄW Z
)
ÄÄZ [
;
ÄÄ[ \(
CreateCreditListParameters
ÇÇ &
(
ÇÇ& '
request
ÇÇ' .
,
ÇÇ. /
cmd
ÇÇ0 3
)
ÇÇ3 4
;
ÇÇ4 5
await
ÑÑ 
sql
ÑÑ 
.
ÑÑ 
	OpenAsync
ÑÑ 
(
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
await
ÖÖ 
cmd
ÖÖ 
.
ÖÖ "
ExecuteNonQueryAsync
ÖÖ *
(
ÖÖ* +
)
ÖÖ+ ,
;
ÖÖ, -
await
ÜÜ 
sql
ÜÜ 
.
ÜÜ 

CloseAsync
ÜÜ  
(
ÜÜ  !
)
ÜÜ! "
;
ÜÜ" #
return
àà 
true
àà 
;
àà 
}
ââ 	
catch
ää 
(
ää 
	Exception
ää 
e
ää 
)
ää 
{
ãã 	
Console
åå 
.
åå 
	WriteLine
åå 
(
åå 
e
åå 
)
åå  
;
åå  !
return
çç 
false
çç 
;
çç 
}
éé 	
}
èè 
public
ëë 

async
ëë 
Task
ëë 
<
ëë 
bool
ëë 
>
ëë &
CreditModel1BTransaction
ëë 4
(
ëë4 5&
CreditTransactionRequest
ëë5 M
request
ëëN U
)
ëëU V
{
íí 
try
ìì 
{
îî 	
await
ïï 
using
ïï 
var
ïï 
sql
ïï 
=
ïï  !
new
ïï" %
SqlConnection
ïï& 3
(
ïï3 4
_appSettings
ïï4 @
.
ïï@ A
ConnectionStrings
ïïA R
?
ïïR S
.
ïïS T"
PostgreSqlConnection
ïïT h
)
ïïh i
;
ïïi j
await
ññ 
using
ññ 
var
ññ 
cmd
ññ 
=
ññ  !
new
ññ" %

SqlCommand
ññ& 0
(
ññ0 1
	Constants
ññ1 :
.
ññ: ;(
CreditTransactionSpModel1B
ññ; U
,
ññU V
sql
ññW Z
)
ññZ [
;
ññ[ \(
CreateCreditListParameters
òò &
(
òò& '
request
òò' .
,
òò. /
cmd
òò0 3
)
òò3 4
;
òò4 5
await
öö 
sql
öö 
.
öö 
	OpenAsync
öö 
(
öö  
)
öö  !
;
öö! "
await
õõ 
cmd
õõ 
.
õõ "
ExecuteNonQueryAsync
õõ *
(
õõ* +
)
õõ+ ,
;
õõ, -
await
úú 
sql
úú 
.
úú 

CloseAsync
úú  
(
úú  !
)
úú! "
;
úú" #
return
ûû 
true
ûû 
;
ûû 
}
üü 	
catch
†† 
(
†† 
	Exception
†† 
e
†† 
)
†† 
{
°° 	
Console
¢¢ 
.
¢¢ 
	WriteLine
¢¢ 
(
¢¢ 
e
¢¢ 
)
¢¢  
;
¢¢  !
return
££ 
false
££ 
;
££ 
}
§§ 	
}
•• 
public
ßß 

async
ßß 
Task
ßß 
<
ßß 
bool
ßß 
>
ßß 
CreateModel2Sp
ßß *
(
ßß* +&
Model2TransactionRequest
ßß+ C
request
ßßD K
)
ßßK L
{
®® 
try
©© 
{
™™ 	
await
´´ 
using
´´ 
var
´´ 
sqlConnection
´´ )
=
´´* +
new
´´, /
SqlConnection
´´0 =
(
´´= >
_appSettings
´´> J
.
´´J K
ConnectionStrings
´´K \
?
´´\ ]
.
´´] ^"
PostgreSqlConnection
´´^ r
)
´´r s
;
´´s t
await
≠≠ 
using
≠≠ 
var
≠≠ 
cmd
≠≠ 
=
≠≠  !
new
≠≠" %

SqlCommand
≠≠& 0
(
≠≠0 1
	Constants
≠≠1 :
.
≠≠: ;
Model2RequestSp
≠≠; J
,
≠≠J K
sqlConnection
≠≠L Y
)
≠≠Y Z
;
≠≠Z [
var
ØØ  
levelTypeDataTable
ØØ "
=
ØØ# $ 
ConvertToDataTable
ØØ% 7
(
ØØ7 8
request
ØØ8 ?
.
ØØ? @

LevelsType
ØØ@ J
)
ØØJ K
;
ØØK L
var
∞∞ "
ecoPoolTypeDataTable
∞∞ $
=
∞∞% & 
ConvertToDataTable
∞∞' 9
(
∞∞9 :
request
∞∞: A
.
∞∞A B
EcoPoolsType
∞∞B N
)
∞∞N O
;
∞∞O P$
CreateModel2Parameters
≤≤ "
(
≤≤" #
request
≤≤# *
,
≤≤* + 
levelTypeDataTable
≤≤, >
,
≤≤> ?"
ecoPoolTypeDataTable
≤≤@ T
,
≤≤T U
cmd
≤≤V Y
)
≤≤Y Z
;
≤≤Z [
await
¥¥ 
sqlConnection
¥¥ 
.
¥¥  
	OpenAsync
¥¥  )
(
¥¥) *
)
¥¥* +
;
¥¥+ ,
await
µµ 
using
µµ 
var
µµ 
oReader
µµ #
=
µµ$ %
await
µµ& +
cmd
µµ, /
.
µµ/ 0 
ExecuteReaderAsync
µµ0 B
(
µµB C
)
µµC D
;
µµD E
await
∑∑ 
sqlConnection
∑∑ 
.
∑∑  

CloseAsync
∑∑  *
(
∑∑* +
)
∑∑+ ,
;
∑∑, -
return
ππ 
true
ππ 
;
ππ 
}
∫∫ 	
catch
ªª 
(
ªª 
	Exception
ªª 
e
ªª 
)
ªª 
{
ºº 	
Console
ΩΩ 
.
ΩΩ 
	WriteLine
ΩΩ 
(
ΩΩ 
e
ΩΩ 
)
ΩΩ  
;
ΩΩ  !
throw
ææ 
;
ææ 
}
øø 	
}
¿¿ 
public
¬¬ 

async
¬¬ 
Task
¬¬ 
<
¬¬ 
bool
¬¬ 
>
¬¬ 
CreateModel1ASp
¬¬ +
(
¬¬+ ,'
Model1ATransactionRequest
¬¬, E
request
¬¬F M
)
¬¬M N
{
√√ 
try
ƒƒ 
{
≈≈ 	
await
∆∆ 
using
∆∆ 
var
∆∆ 
sqlConnection
∆∆ )
=
∆∆* +
new
∆∆, /
SqlConnection
∆∆0 =
(
∆∆= >
_appSettings
∆∆> J
.
∆∆J K
ConnectionStrings
∆∆K \
?
∆∆\ ]
.
∆∆] ^"
PostgreSqlConnection
∆∆^ r
)
∆∆r s
;
∆∆s t
await
»» 
using
»» 
var
»» 
cmd
»» 
=
»»  !
new
»»" %

SqlCommand
»»& 0
(
»»0 1
	Constants
»»1 :
.
»»: ;
Model1ARequestSp
»»; K
,
»»K L
sqlConnection
»»M Z
)
»»Z [
;
»»[ \
var
    
levelTypeDataTable
   "
=
  # $ 
ConvertToDataTable
  % 7
(
  7 8
request
  8 ?
.
  ? @

LevelsType
  @ J
)
  J K
;
  K L
var
ÀÀ "
ecoPoolTypeDataTable
ÀÀ $
=
ÀÀ% & 
ConvertToDataTable
ÀÀ' 9
(
ÀÀ9 :
request
ÀÀ: A
.
ÀÀA B
EcoPoolsType
ÀÀB N
)
ÀÀN O
;
ÀÀO P%
CreateModel1AParameters
ÕÕ #
(
ÕÕ# $
request
ÕÕ$ +
,
ÕÕ+ , 
levelTypeDataTable
ÕÕ- ?
,
ÕÕ? @"
ecoPoolTypeDataTable
ÕÕA U
,
ÕÕU V
cmd
ÕÕW Z
)
ÕÕZ [
;
ÕÕ[ \
await
œœ 
sqlConnection
œœ 
.
œœ  
	OpenAsync
œœ  )
(
œœ) *
)
œœ* +
;
œœ+ ,
await
–– 
using
–– 
var
–– 
oReader
–– #
=
––$ %
await
––& +
cmd
––, /
.
––/ 0 
ExecuteReaderAsync
––0 B
(
––B C
)
––C D
;
––D E
await
““ 
sqlConnection
““ 
.
““  

CloseAsync
““  *
(
““* +
)
““+ ,
;
““, -
return
‘‘ 
true
‘‘ 
;
‘‘ 
}
’’ 	
catch
÷÷ 
(
÷÷ 
	Exception
÷÷ 
e
÷÷ 
)
÷÷ 
{
◊◊ 	
Console
ÿÿ 
.
ÿÿ 
	WriteLine
ÿÿ 
(
ÿÿ 
e
ÿÿ 
)
ÿÿ  
;
ÿÿ  !
throw
ŸŸ 
;
ŸŸ 
}
⁄⁄ 	
}
€€ 
public
›› 

async
›› 
Task
›› 
<
›› 
bool
›› 
>
›› 
CreateModel1BSp
›› +
(
››+ ,'
Model1BTransactionRequest
››, E
request
››F M
)
››M N
{
ﬁﬁ 
try
ﬂﬂ 
{
‡‡ 	
await
·· 
using
·· 
var
·· 
sqlConnection
·· )
=
··* +
new
··, /
SqlConnection
··0 =
(
··= >
_appSettings
··> J
.
··J K
ConnectionStrings
··K \
?
··\ ]
.
··] ^"
PostgreSqlConnection
··^ r
)
··r s
;
··s t
await
„„ 
using
„„ 
var
„„ 
cmd
„„ 
=
„„  !
new
„„" %

SqlCommand
„„& 0
(
„„0 1
	Constants
„„1 :
.
„„: ;
Model1BRequestSp
„„; K
,
„„K L
sqlConnection
„„M Z
)
„„Z [
;
„„[ \
var
ÂÂ  
levelTypeDataTable
ÂÂ "
=
ÂÂ# $ 
ConvertToDataTable
ÂÂ% 7
(
ÂÂ7 8
request
ÂÂ8 ?
.
ÂÂ? @

LevelsType
ÂÂ@ J
)
ÂÂJ K
;
ÂÂK L
var
ÊÊ "
ecoPoolTypeDataTable
ÊÊ $
=
ÊÊ% & 
ConvertToDataTable
ÊÊ' 9
(
ÊÊ9 :
request
ÊÊ: A
.
ÊÊA B
EcoPoolsType
ÊÊB N
)
ÊÊN O
;
ÊÊO P%
CreateModel1BParameters
ËË #
(
ËË# $
request
ËË$ +
,
ËË+ , 
levelTypeDataTable
ËË- ?
,
ËË? @"
ecoPoolTypeDataTable
ËËA U
,
ËËU V
cmd
ËËW Z
)
ËËZ [
;
ËË[ \
await
ÍÍ 
sqlConnection
ÍÍ 
.
ÍÍ  
	OpenAsync
ÍÍ  )
(
ÍÍ) *
)
ÍÍ* +
;
ÍÍ+ ,
await
ÎÎ 
using
ÎÎ 
var
ÎÎ 
oReader
ÎÎ #
=
ÎÎ$ %
await
ÎÎ& +
cmd
ÎÎ, /
.
ÎÎ/ 0 
ExecuteReaderAsync
ÎÎ0 B
(
ÎÎB C
)
ÎÎC D
;
ÎÎD E
await
ÌÌ 
sqlConnection
ÌÌ 
.
ÌÌ  

CloseAsync
ÌÌ  *
(
ÌÌ* +
)
ÌÌ+ ,
;
ÌÌ, -
return
ÔÔ 
true
ÔÔ 
;
ÔÔ 
}
 	
catch
ÒÒ 
(
ÒÒ 
	Exception
ÒÒ 
e
ÒÒ 
)
ÒÒ 
{
ÚÚ 	
Console
ÛÛ 
.
ÛÛ 
	WriteLine
ÛÛ 
(
ÛÛ 
e
ÛÛ 
)
ÛÛ  
;
ÛÛ  !
throw
ÙÙ 
;
ÙÙ 
}
ıı 	
}
ˆˆ 
public
˘˘ 

async
˘˘ 
Task
˘˘ 
<
˘˘ 
bool
˘˘ 
>
˘˘ 
CreateModel3Sp
˘˘ *
(
˘˘* +&
Model3TransactionRequest
˘˘+ C
request
˘˘D K
)
˘˘K L
{
˙˙ 
try
˚˚ 
{
¸¸ 	
await
˝˝ 
using
˝˝ 
var
˝˝ 
sqlConnection
˝˝ )
=
˝˝* +
new
˝˝, /
SqlConnection
˝˝0 =
(
˝˝= >
_appSettings
˝˝> J
.
˝˝J K
ConnectionStrings
˝˝K \
?
˝˝\ ]
.
˝˝] ^"
PostgreSqlConnection
˝˝^ r
)
˝˝r s
;
˝˝s t
await
ˇˇ 
using
ˇˇ 
var
ˇˇ 
cmd
ˇˇ 
=
ˇˇ  !
new
ˇˇ" %

SqlCommand
ˇˇ& 0
(
ˇˇ0 1
	Constants
ˇˇ1 :
.
ˇˇ: ;
Model3RequestSp
ˇˇ; J
,
ˇˇJ K
sqlConnection
ˇˇL Y
)
ˇˇY Z
;
ˇˇZ [
var
ÅÅ  
levelTypeDataTable
ÅÅ "
=
ÅÅ# $ 
ConvertToDataTable
ÅÅ% 7
(
ÅÅ7 8
request
ÅÅ8 ?
.
ÅÅ? @

LevelsType
ÅÅ@ J
)
ÅÅJ K
;
ÅÅK L
var
ÇÇ "
ecoPoolTypeDataTable
ÇÇ $
=
ÇÇ% & 
ConvertToDataTable
ÇÇ' 9
(
ÇÇ9 :
request
ÇÇ: A
.
ÇÇA B
EcoPoolsType
ÇÇB N
)
ÇÇN O
;
ÇÇO P$
CreateModel3Parameters
ÑÑ "
(
ÑÑ" #
request
ÑÑ# *
,
ÑÑ* + 
levelTypeDataTable
ÑÑ, >
,
ÑÑ> ?"
ecoPoolTypeDataTable
ÑÑ@ T
,
ÑÑT U
cmd
ÑÑV Y
)
ÑÑY Z
;
ÑÑZ [
await
ÜÜ 
sqlConnection
ÜÜ 
.
ÜÜ  
	OpenAsync
ÜÜ  )
(
ÜÜ) *
)
ÜÜ* +
;
ÜÜ+ ,
await
áá 
using
áá 
var
áá 
oReader
áá #
=
áá$ %
await
áá& +
cmd
áá, /
.
áá/ 0 
ExecuteReaderAsync
áá0 B
(
ááB C
)
ááC D
;
ááD E
await
ââ 
sqlConnection
ââ 
.
ââ  

CloseAsync
ââ  *
(
ââ* +
)
ââ+ ,
;
ââ, -
return
ãã 
true
ãã 
;
ãã 
}
åå 	
catch
çç 
(
çç 
	Exception
çç 
e
çç 
)
çç 
{
éé 	
Console
èè 
.
èè 
	WriteLine
èè 
(
èè 
e
èè 
)
èè  
;
èè  !
throw
êê 
;
êê 
}
ëë 	
}
íí 
private
îî 
void
îî .
 CreateDebitEcoPoolListParameters
îî 1
(
îî1 2%
DebitTransactionRequest
îî2 I
request
îîJ Q
,
îîQ R

SqlCommand
îîS ]
cmd
îî^ a
)
îîa b
{
ïï 
cmd
ññ 
.
ññ 
CommandType
ññ 
=
ññ 
CommandType
ññ %
.
ññ% &
StoredProcedure
ññ& 5
;
ññ5 6
cmd
óó 
.
óó 

Parameters
óó 
.
óó 
Add
óó 
(
óó 
new
óó 
SqlParameter
óó +
(
óó+ ,
$str
óó, :
,
óó: ;
	SqlDbType
óó< E
.
óóE F
Int
óóF I
)
óóI J
{
òò 	
Value
ôô 
=
ôô 
request
ôô 
.
ôô 
AffiliateId
ôô '
}
öö 	
)
öö	 

;
öö
 
cmd
úú 
.
úú 

Parameters
úú 
.
úú 
Add
úú 
(
úú 
new
úú 
SqlParameter
úú +
(
úú+ ,
$str
úú, 5
,
úú5 6
	SqlDbType
úú7 @
.
úú@ A
Int
úúA D
)
úúD E
{
ùù 	
Value
ûû 
=
ûû 
request
ûû 
.
ûû 
UserId
ûû "
}
üü 	
)
üü	 

;
üü
 
cmd
°° 
.
°° 

Parameters
°° 
.
°° 
Add
°° 
(
°° 
new
°° 
SqlParameter
°° +
(
°°+ ,
$str
°°, 6
,
°°6 7
	SqlDbType
°°8 A
.
°°A B
VarChar
°°B I
)
°°I J
{
¢¢ 	
Value
££ 
=
££ 
request
££ 
.
££ 
Concept
££ #
,
££# $
Size
§§ 
=
§§ 
$num
§§ 
}
•• 	
)
••	 

;
••
 
cmd
ßß 
.
ßß 

Parameters
ßß 
.
ßß 
Add
ßß 
(
ßß 
new
ßß 
SqlParameter
ßß +
(
ßß+ ,
$str
ßß, 5
,
ßß5 6
	SqlDbType
ßß7 @
.
ßß@ A
Decimal
ßßA H
)
ßßH I
{
®® 	
Value
©© 
=
©© 
request
©© 
.
©© 
Points
©© "
}
™™ 	
)
™™	 

;
™™
 
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ 
.
¨¨ 
Add
¨¨ 
(
¨¨ 
new
¨¨ 
SqlParameter
¨¨ +
(
¨¨+ ,
$str
¨¨, =
,
¨¨= >
	SqlDbType
¨¨? H
.
¨¨H I
Decimal
¨¨I P
)
¨¨P Q
{
≠≠ 	
Value
ÆÆ 
=
ÆÆ 
request
ÆÆ 
.
ÆÆ 
Commissionable
ÆÆ *
}
ØØ 	
)
ØØ	 

;
ØØ
 
cmd
±± 
.
±± 

Parameters
±± 
.
±± 
Add
±± 
(
±± 
new
±± 
SqlParameter
±± +
(
±±+ ,
$str
±±, 3
,
±±3 4
	SqlDbType
±±5 >
.
±±> ?
VarChar
±±? F
)
±±F G
{
≤≤ 	
Value
≥≥ 
=
≥≥ 
string
≥≥ 
.
≥≥ 
IsNullOrEmpty
≥≥ (
(
≥≥( )
request
≥≥) 0
.
≥≥0 1
Bank
≥≥1 5
)
≥≥5 6
?
≥≥7 8
null
≥≥9 =
:
≥≥> ?
request
≥≥@ G
.
≥≥G H
Bank
≥≥H L
,
≥≥L M

IsNullable
¥¥ 
=
¥¥ 
true
¥¥ 
,
¥¥ 
Size
µµ 
=
µµ 
$num
µµ 
}
∂∂ 	
)
∂∂	 

;
∂∂
 
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ 
.
∏∏ 
Add
∏∏ 
(
∏∏ 
new
∏∏ 
SqlParameter
∏∏ +
(
∏∏+ ,
$str
∏∏, <
,
∏∏< =
	SqlDbType
∏∏> G
.
∏∏G H
VarChar
∏∏H O
)
∏∏O P
{
ππ 	
Value
∫∫ 
=
∫∫ 
request
∫∫ 
.
∫∫ 
PaymentMethod
∫∫ )
,
∫∫) *
Size
ªª 
=
ªª 
$num
ªª 
}
ºº 	
)
ºº	 

;
ºº
 
cmd
ææ 
.
ææ 

Parameters
ææ 
.
ææ 
Add
ææ 
(
ææ 
new
ææ 
SqlParameter
ææ +
(
ææ+ ,
$str
ææ, 5
,
ææ5 6
	SqlDbType
ææ7 @
.
ææ@ A
TinyInt
ææA H
)
ææH I
{
øø 	
Value
¿¿ 
=
¿¿ 
request
¿¿ 
.
¿¿ 
Origin
¿¿ "
}
¡¡ 	
)
¡¡	 

;
¡¡
 
cmd
√√ 
.
√√ 

Parameters
√√ 
.
√√ 
Add
√√ 
(
√√ 
new
√√ 
SqlParameter
√√ +
(
√√+ ,
$str
√√, 4
,
√√4 5
	SqlDbType
√√6 ?
.
√√? @
Int
√√@ C
)
√√C D
{
ƒƒ 	
Value
≈≈ 
=
≈≈ 
request
≈≈ 
.
≈≈ 
Level
≈≈ !
}
∆∆ 	
)
∆∆	 

;
∆∆
 
cmd
»» 
.
»» 

Parameters
»» 
.
»» 
Add
»» 
(
»» 
new
»» 
SqlParameter
»» +
(
»»+ ,
$str
»», 4
,
»»4 5
	SqlDbType
»»6 ?
.
»»? @
Decimal
»»@ G
)
»»G H
{
…… 	
Value
   
=
   
request
   
.
   
Debit
   !
}
ÀÀ 	
)
ÀÀ	 

;
ÀÀ
 
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ 
.
ÕÕ 
Add
ÕÕ 
(
ÕÕ 
new
ÕÕ 
SqlParameter
ÕÕ +
(
ÕÕ+ ,
$str
ÕÕ, @
,
ÕÕ@ A
	SqlDbType
ÕÕB K
.
ÕÕK L
VarChar
ÕÕL S
)
ÕÕS T
{
ŒŒ 	
Value
œœ 
=
œœ 
request
œœ 
.
œœ 
AffiliateUserName
œœ -
,
œœ- .
Size
–– 
=
–– 
$num
–– 
}
—— 	
)
——	 

;
——
 
cmd
”” 
.
”” 

Parameters
”” 
.
”” 
Add
”” 
(
”” 
new
”” 
SqlParameter
”” +
(
””+ ,
$str
””, <
,
””< =
	SqlDbType
””> G
.
””G H
VarChar
””H O
)
””O P
{
‘‘ 	
Value
’’ 
=
’’ 
request
’’ 
.
’’ 
AdminUserName
’’ )
,
’’) *
Size
÷÷ 
=
÷÷ 
$num
÷÷ 
}
◊◊ 	
)
◊◊	 

;
◊◊
 
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ 
.
ŸŸ 
Add
ŸŸ 
(
ŸŸ 
new
ŸŸ 
SqlParameter
ŸŸ +
(
ŸŸ+ ,
$str
ŸŸ, <
,
ŸŸ< =
	SqlDbType
ŸŸ> G
.
ŸŸG H
VarChar
ŸŸH O
)
ŸŸO P
{
⁄⁄ 	
Value
€€ 
=
€€ 
string
€€ 
.
€€ 
IsNullOrEmpty
€€ (
(
€€( )
request
€€) 0
.
€€0 1
ReceiptNumber
€€1 >
)
€€> ?
?
€€@ A
null
€€B F
:
€€G H
request
€€I P
.
€€P Q
ReceiptNumber
€€Q ^
,
€€^ _

IsNullable
‹‹ 
=
‹‹ 
true
‹‹ 
,
‹‹ 
Size
›› 
=
›› 
$num
›› 
}
ﬁﬁ 	
)
ﬁﬁ	 

;
ﬁﬁ
 
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ 
.
‡‡ 
Add
‡‡ 
(
‡‡ 
new
‡‡ 
SqlParameter
‡‡ +
(
‡‡+ ,
$str
‡‡, 3
,
‡‡3 4
	SqlDbType
‡‡5 >
.
‡‡> ?
Bit
‡‡? B
)
‡‡B C
{
·· 	
Value
‚‚ 
=
‚‚ 
request
‚‚ 
.
‚‚ 
Type
‚‚  
}
„„ 	
)
„„	 

;
„„
 
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ 
.
ÂÂ 
Add
ÂÂ 
(
ÂÂ 
new
ÂÂ 
SqlParameter
ÂÂ +
(
ÂÂ+ ,
$str
ÂÂ, 8
,
ÂÂ8 9
	SqlDbType
ÂÂ: C
.
ÂÂC D
VarChar
ÂÂD K
)
ÂÂK L
{
ÊÊ 	
Value
ÁÁ 
=
ÁÁ 
string
ÁÁ 
.
ÁÁ 
IsNullOrEmpty
ÁÁ (
(
ÁÁ( )
request
ÁÁ) 0
.
ÁÁ0 1
	SecretKey
ÁÁ1 :
)
ÁÁ: ;
?
ÁÁ< =
null
ÁÁ> B
:
ÁÁC D
request
ÁÁE L
.
ÁÁL M
	SecretKey
ÁÁM V
,
ÁÁV W

IsNullable
ËË 
=
ËË 
true
ËË 
,
ËË 
Size
ÈÈ 
=
ÈÈ 
$num
ÈÈ 
}
ÍÍ 	
)
ÍÍ	 

;
ÍÍ
 
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
new
ÏÏ 
SqlParameter
ÏÏ +
(
ÏÏ+ ,
$str
ÏÏ, :
,
ÏÏ: ;
	SqlDbType
ÏÏ< E
.
ÏÏE F
VarChar
ÏÏF M
)
ÏÏM N
{
ÌÌ 	
Value
ÓÓ 
=
ÓÓ 
request
ÓÓ 
.
ÓÓ 
ConceptType
ÓÓ '
,
ÓÓ' (
Size
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
}
 	
)
	 

;

 
}
ÒÒ 
private
ÛÛ 
static
ÛÛ 
List
ÛÛ 
<
ÛÛ 
NpgsqlParameter
ÛÛ '
>
ÛÛ' ('
CreateDebitListParameters
ÛÛ) B
(
ÛÛB C%
DebitTransactionRequest
ÛÛC Z
request
ÛÛ[ b
)
ÛÛb c
{
ÙÙ 
var
ıı !
invoicesDetailsJson
ıı 
=
ıı  !
JsonConvert
ıı" -
.
ıı- .
SerializeObject
ıı. =
(
ıı= >
request
ıı> E
.
ııE F
invoices
ııF N
)
ııN O
;
ııO P
return
˜˜ 
new
˜˜ 
List
˜˜ 
<
˜˜ 
NpgsqlParameter
˜˜ '
>
˜˜' (
{
¯¯ 	
new
˘˘ 
(
˘˘ 
$str
˘˘ 
,
˘˘ 
NpgsqlDbType
˘˘ )
.
˘˘) *
Integer
˘˘* 1
)
˘˘1 2
{
˘˘3 4
Value
˘˘5 :
=
˘˘; <
request
˘˘= D
.
˘˘D E
UserId
˘˘E K
}
˘˘L M
,
˘˘M N
new
˙˙ 
(
˙˙ 
$str
˙˙ 
,
˙˙ 
NpgsqlDbType
˙˙ )
.
˙˙) *
Text
˙˙* .
)
˙˙. /
{
˙˙0 1
Value
˙˙2 7
=
˙˙8 9
request
˙˙: A
.
˙˙A B
Concept
˙˙B I
}
˙˙J K
,
˙˙K L
new
˚˚ 
(
˚˚ 
$str
˚˚ 
,
˚˚ 
NpgsqlDbType
˚˚ (
.
˚˚( )
Numeric
˚˚) 0
)
˚˚0 1
{
˚˚2 3
Value
˚˚4 9
=
˚˚: ;
request
˚˚< C
.
˚˚C D
Points
˚˚D J
}
˚˚K L
,
˚˚L M
new
¸¸ 
(
¸¸ 
$str
¸¸ "
,
¸¸" #
NpgsqlDbType
¸¸$ 0
.
¸¸0 1
Numeric
¸¸1 8
)
¸¸8 9
{
¸¸: ;
Value
¸¸< A
=
¸¸B C
request
¸¸D K
.
¸¸K L
Commissionable
¸¸L Z
}
¸¸[ \
,
¸¸\ ]
new
˝˝ 
(
˝˝ 
$str
˝˝ "
,
˝˝" #
NpgsqlDbType
˝˝$ 0
.
˝˝0 1
Text
˝˝1 5
)
˝˝5 6
{
˝˝7 8
Value
˝˝9 >
=
˝˝? @
request
˝˝A H
.
˝˝H I
PaymentMethod
˝˝I V
}
˝˝W X
,
˝˝X Y
new
˛˛ 
(
˛˛ 
$str
˛˛ 
,
˛˛ 
NpgsqlDbType
˛˛ (
.
˛˛( )
Smallint
˛˛) 1
)
˛˛1 2
{
˛˛3 4
Value
˛˛5 :
=
˛˛; <
request
˛˛= D
.
˛˛D E
Origin
˛˛E K
}
˛˛L M
,
˛˛M N
new
ˇˇ 
(
ˇˇ 
$str
ˇˇ 
,
ˇˇ 
NpgsqlDbType
ˇˇ '
.
ˇˇ' (
Integer
ˇˇ( /
)
ˇˇ/ 0
{
ˇˇ1 2
Value
ˇˇ3 8
=
ˇˇ9 :
request
ˇˇ; B
.
ˇˇB C
Level
ˇˇC H
}
ˇˇI J
,
ˇˇJ K
new
ÄÄ 
(
ÄÄ 
$str
ÄÄ 
,
ÄÄ 
NpgsqlDbType
ÄÄ '
.
ÄÄ' (
Numeric
ÄÄ( /
)
ÄÄ/ 0
{
ÄÄ1 2
Value
ÄÄ3 8
=
ÄÄ9 :
request
ÄÄ; B
.
ÄÄB C
Debit
ÄÄC H
}
ÄÄI J
,
ÄÄJ K
new
ÅÅ 
(
ÅÅ 
$str
ÅÅ '
,
ÅÅ' (
NpgsqlDbType
ÅÅ) 5
.
ÅÅ5 6
Text
ÅÅ6 :
)
ÅÅ: ;
{
ÅÅ< =
Value
ÅÅ> C
=
ÅÅD E
request
ÅÅF M
.
ÅÅM N
AffiliateUserName
ÅÅN _
}
ÅÅ` a
,
ÅÅa b
new
ÇÇ 
(
ÇÇ 
$str
ÇÇ #
,
ÇÇ# $
NpgsqlDbType
ÇÇ% 1
.
ÇÇ1 2
Text
ÇÇ2 6
)
ÇÇ6 7
{
ÇÇ8 9
Value
ÇÇ: ?
=
ÇÇ@ A
request
ÇÇB I
.
ÇÇI J
AdminUserName
ÇÇJ W
}
ÇÇX Y
,
ÇÇY Z
new
ÉÉ 
(
ÉÉ 
$str
ÉÉ 
,
ÉÉ 
NpgsqlDbType
ÉÉ &
.
ÉÉ& '
Boolean
ÉÉ' .
)
ÉÉ. /
{
ÉÉ0 1
Value
ÉÉ2 7
=
ÉÉ8 9
request
ÉÉ: A
.
ÉÉA B
Type
ÉÉB F
}
ÉÉG H
,
ÉÉH I
new
ÑÑ 
(
ÑÑ 
$str
ÑÑ  
,
ÑÑ  !
NpgsqlDbType
ÑÑ" .
.
ÑÑ. /
Text
ÑÑ/ 3
)
ÑÑ3 4
{
ÑÑ5 6
Value
ÑÑ7 <
=
ÑÑ= >
request
ÑÑ? F
.
ÑÑF G
ConceptType
ÑÑG R
}
ÑÑS T
,
ÑÑT U
new
ÖÖ 
(
ÖÖ 
$str
ÖÖ $
,
ÖÖ$ %
NpgsqlDbType
ÖÖ& 2
.
ÖÖ2 3
Jsonb
ÖÖ3 8
)
ÖÖ8 9
{
ÖÖ: ;
Value
ÖÖ< A
=
ÖÖB C!
invoicesDetailsJson
ÖÖD W
}
ÖÖX Y
,
ÖÖY Z
new
ÜÜ 
(
ÜÜ 
$str
ÜÜ 
,
ÜÜ 
NpgsqlDbType
ÜÜ *
.
ÜÜ* +
Integer
ÜÜ+ 2
)
ÜÜ2 3
{
ÜÜ4 5
Value
ÜÜ6 ;
=
ÜÜ< =
request
ÜÜ> E
.
ÜÜE F
BrandId
ÜÜF M
}
ÜÜN O
,
ÜÜO P
new
áá 
(
áá 
$str
áá  
,
áá  !
NpgsqlDbType
áá" .
.
áá. /
Integer
áá/ 6
)
áá6 7
{
áá8 9
Value
áá: ?
=
áá@ A
request
ááB I
.
ááI J
AffiliateId
ááJ U
}
ááV W
,
ááW X
new
àà 
(
àà 
$str
àà 
,
àà 
NpgsqlDbType
àà &
.
àà& '
Text
àà' +
)
àà+ ,
{
àà- .
Value
àà/ 4
=
àà5 6
request
àà7 >
.
àà> ?
Bank
àà? C
??
ààD F
string
ààG M
.
ààM N
Empty
ààN S
}
ààT U
,
ààU V
new
ââ 
(
ââ 
$str
ââ "
,
ââ" #
NpgsqlDbType
ââ$ 0
.
ââ0 1
Text
ââ1 5
)
ââ5 6
{
ââ7 8
Value
ââ9 >
=
ââ? @
request
ââA H
.
ââH I
ReceiptNumber
ââI V
??
ââW Y
string
ââZ `
.
ââ` a
Empty
ââa f
}
ââg h
,
ââh i
new
ää 
(
ää 
$str
ää 
,
ää 
NpgsqlDbType
ää  ,
.
ää, -
Text
ää- 1
)
ää1 2
{
ää3 4
Value
ää5 :
=
ää; <
request
ää= D
.
ääD E
	SecretKey
ääE N
??
ääO Q
string
ääR X
.
ääX Y
Empty
ääY ^
}
ää_ `
,
ää` a
new
ãã 
(
ãã 
$str
ãã 
,
ãã 
NpgsqlDbType
ãã (
.
ãã( )
Text
ãã) -
)
ãã- .
{
ãã/ 0
Value
ãã1 6
=
ãã7 8
request
ãã9 @
.
ãã@ A
Reason
ããA G
??
ããH J
string
ããK Q
.
ããQ R
Empty
ããR W
}
ããX Y
}
åå 	
;
åå	 

}
çç 
private
èè 
void
èè $
CreateModel2Parameters
èè '
(
èè' (&
Model2TransactionRequest
èè( @
request
èèA H
,
èèH I
	DataTable
èèJ S
levels
èèT Z
,
èèZ [
	DataTable
èè\ e
ecoPools
èèf n
,
èèn o

SqlCommand
êê 
cmd
êê 
)
êê 
{
ëë 
cmd
íí 
.
íí 
CommandType
íí 
=
íí 
CommandType
íí %
.
íí% &
StoredProcedure
íí& 5
;
íí5 6
cmd
îî 
.
îî 

Parameters
îî 
.
îî 
Add
îî 
(
îî 
new
îî 
SqlParameter
îî +
(
îî+ ,
$str
îî, E
,
îîE F
	SqlDbType
îîG P
.
îîP Q
Int
îîQ T
)
îîT U
{
ïï 	
Value
ññ 
=
ññ 
request
ññ 
.
ññ $
EcoPoolConfigurationId
ññ 2
}
óó 	
)
óó	 

;
óó
 
cmd
ôô 
.
ôô 

Parameters
ôô 
.
ôô 
Add
ôô 
(
ôô 
new
ôô 
SqlParameter
ôô +
(
ôô+ ,
$str
ôô, D
,
ôôD E
	SqlDbType
ôôF O
.
ôôO P
Decimal
ôôP W
)
ôôW X
{
öö 	
Value
õõ 
=
õõ 
request
õõ 
.
õõ #
TotalPercentageLevels
õõ 1
}
úú 	
)
úú	 

;
úú
 
cmd
ûû 
.
ûû 

Parameters
ûû 
.
ûû 
Add
ûû 
(
ûû 
new
ûû 
SqlParameter
ûû +
(
ûû+ ,
$str
ûû, @
,
ûû@ A
	SqlDbType
ûûB K
.
ûûK L
Decimal
ûûL S
)
ûûS T
{
üü 	
Value
†† 
=
†† 
request
†† 
.
†† 
EcoPoolPercentage
†† -
}
°° 	
)
°°	 

;
°°
 
cmd
££ 
.
££ 

Parameters
££ 
.
££ 
Add
££ 
(
££ 
new
££ 
SqlParameter
££ +
(
££+ ,
$str
££, @
,
££@ A
	SqlDbType
££B K
.
££K L
Decimal
££L S
)
££S T
{
§§ 	
Value
•• 
=
•• 
request
•• 
.
•• 
CompanyPercentage
•• -
}
¶¶ 	
)
¶¶	 

;
¶¶
 
cmd
®® 
.
®® 

Parameters
®® 
.
®® 
Add
®® 
(
®® 
new
®® 
SqlParameter
®® +
(
®®+ ,
$str
®®, F
,
®®F G
	SqlDbType
®®H Q
.
®®Q R
Decimal
®®R Y
)
®®Y Z
{
©© 	
Value
™™ 
=
™™ 
request
™™ 
.
™™ %
CompanyPercentageLevels
™™ 3
}
´´ 	
)
´´	 

;
´´
 
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ 
.
≠≠ 
Add
≠≠ 
(
≠≠ 
new
≠≠ 
SqlParameter
≠≠ +
(
≠≠+ ,
$str
≠≠, 3
,
≠≠3 4
	SqlDbType
≠≠5 >
.
≠≠> ?
Int
≠≠? B
)
≠≠B C
{
ÆÆ 	
Value
ØØ 
=
ØØ 
request
ØØ 
.
ØØ 
Case
ØØ  
}
∞∞ 	
)
∞∞	 

;
∞∞
 
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ 
.
≤≤ 
Add
≤≤ 
(
≤≤ 
new
≤≤ 
SqlParameter
≤≤ +
(
≤≤+ ,
$str
≤≤, 5
,
≤≤5 6
	SqlDbType
≤≤7 @
.
≤≤@ A
Int
≤≤A D
)
≤≤D E
{
≥≥ 	
Value
¥¥ 
=
¥¥ 
request
¥¥ 
.
¥¥ 
Points
¥¥ "
}
µµ 	
)
µµ	 

;
µµ
 
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ 
.
∑∑ 
Add
∑∑ 
(
∑∑ 
new
∑∑ 
SqlParameter
∑∑ +
(
∑∑+ ,
$str
∑∑, 5
,
∑∑5 6
	SqlDbType
∑∑7 @
.
∑∑@ A

Structured
∑∑A K
)
∑∑K L
{
∏∏ 	
Value
ππ 
=
ππ 
levels
ππ 
,
ππ 
TypeName
∫∫ 
=
∫∫ 
$str
∫∫ '
}
ªª 	
)
ªª	 

;
ªª
 
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ 
.
ΩΩ 
Add
ΩΩ 
(
ΩΩ 
new
ΩΩ 
SqlParameter
ΩΩ +
(
ΩΩ+ ,
$str
ΩΩ, 4
,
ΩΩ4 5
	SqlDbType
ΩΩ6 ?
.
ΩΩ? @

Structured
ΩΩ@ J
)
ΩΩJ K
{
ææ 	
Value
øø 
=
øø 
ecoPools
øø 
,
øø 
TypeName
¿¿ 
=
¿¿ 
$str
¿¿ (
}
¡¡ 	
)
¡¡	 

;
¡¡
 
}
¬¬ 
private
ƒƒ 
void
ƒƒ %
CreateModel1AParameters
ƒƒ (
(
ƒƒ( )'
Model1ATransactionRequest
ƒƒ) B
request
ƒƒC J
,
ƒƒJ K
	DataTable
ƒƒL U
levels
ƒƒV \
,
ƒƒ\ ]
	DataTable
ƒƒ^ g
ecoPools
ƒƒh p
,
ƒƒp q

SqlCommand
≈≈ 
cmd
≈≈ 
)
≈≈ 
{
∆∆ 
cmd
«« 
.
«« 
CommandType
«« 
=
«« 
CommandType
«« %
.
««% &
StoredProcedure
««& 5
;
««5 6
cmd
…… 
.
…… 

Parameters
…… 
.
…… 
Add
…… 
(
…… 
new
…… 
SqlParameter
…… +
(
……+ ,
$str
……, E
,
……E F
	SqlDbType
……G P
.
……P Q
Int
……Q T
)
……T U
{
   	
Value
ÀÀ 
=
ÀÀ 
request
ÀÀ 
.
ÀÀ $
EcoPoolConfigurationId
ÀÀ 2
}
ÃÃ 	
)
ÃÃ	 

;
ÃÃ
 
cmd
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ 
.
ŒŒ 
Add
ŒŒ 
(
ŒŒ 
new
ŒŒ 
SqlParameter
ŒŒ +
(
ŒŒ+ ,
$str
ŒŒ, D
,
ŒŒD E
	SqlDbType
ŒŒF O
.
ŒŒO P
Decimal
ŒŒP W
)
ŒŒW X
{
œœ 	
Value
–– 
=
–– 
request
–– 
.
–– #
TotalPercentageLevels
–– 1
}
—— 	
)
——	 

;
——
 
cmd
”” 
.
”” 

Parameters
”” 
.
”” 
Add
”” 
(
”” 
new
”” 
SqlParameter
”” +
(
””+ ,
$str
””, @
,
””@ A
	SqlDbType
””B K
.
””K L
Decimal
””L S
)
””S T
{
‘‘ 	
Value
’’ 
=
’’ 
request
’’ 
.
’’ 
EcoPoolPercentage
’’ -
}
÷÷ 	
)
÷÷	 

;
÷÷
 
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ 
.
ÿÿ 
Add
ÿÿ 
(
ÿÿ 
new
ÿÿ 
SqlParameter
ÿÿ +
(
ÿÿ+ ,
$str
ÿÿ, @
,
ÿÿ@ A
	SqlDbType
ÿÿB K
.
ÿÿK L
Decimal
ÿÿL S
)
ÿÿS T
{
ŸŸ 	
Value
⁄⁄ 
=
⁄⁄ 
request
⁄⁄ 
.
⁄⁄ 
CompanyPercentage
⁄⁄ -
}
€€ 	
)
€€	 

;
€€
 
cmd
›› 
.
›› 

Parameters
›› 
.
›› 
Add
›› 
(
›› 
new
›› 
SqlParameter
›› +
(
››+ ,
$str
››, F
,
››F G
	SqlDbType
››H Q
.
››Q R
Decimal
››R Y
)
››Y Z
{
ﬁﬁ 	
Value
ﬂﬂ 
=
ﬂﬂ 
request
ﬂﬂ 
.
ﬂﬂ %
CompanyPercentageLevels
ﬂﬂ 3
}
‡‡ 	
)
‡‡	 

;
‡‡
 
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ 
.
‚‚ 
Add
‚‚ 
(
‚‚ 
new
‚‚ 
SqlParameter
‚‚ +
(
‚‚+ ,
$str
‚‚, 3
,
‚‚3 4
	SqlDbType
‚‚5 >
.
‚‚> ?
Int
‚‚? B
)
‚‚B C
{
„„ 	
Value
‰‰ 
=
‰‰ 
request
‰‰ 
.
‰‰ 
Case
‰‰  
}
ÂÂ 	
)
ÂÂ	 

;
ÂÂ
 
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ 
.
ÁÁ 
Add
ÁÁ 
(
ÁÁ 
new
ÁÁ 
SqlParameter
ÁÁ +
(
ÁÁ+ ,
$str
ÁÁ, 5
,
ÁÁ5 6
	SqlDbType
ÁÁ7 @
.
ÁÁ@ A
Int
ÁÁA D
)
ÁÁD E
{
ËË 	
Value
ÈÈ 
=
ÈÈ 
request
ÈÈ 
.
ÈÈ 
Points
ÈÈ "
}
ÍÍ 	
)
ÍÍ	 

;
ÍÍ
 
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ 
.
ÏÏ 
Add
ÏÏ 
(
ÏÏ 
new
ÏÏ 
SqlParameter
ÏÏ +
(
ÏÏ+ ,
$str
ÏÏ, 5
,
ÏÏ5 6
	SqlDbType
ÏÏ7 @
.
ÏÏ@ A

Structured
ÏÏA K
)
ÏÏK L
{
ÌÌ 	
Value
ÓÓ 
=
ÓÓ 
levels
ÓÓ 
,
ÓÓ 
TypeName
ÔÔ 
=
ÔÔ 
$str
ÔÔ '
}
 	
)
	 

;

 
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ 
.
ÚÚ 
Add
ÚÚ 
(
ÚÚ 
new
ÚÚ 
SqlParameter
ÚÚ +
(
ÚÚ+ ,
$str
ÚÚ, 4
,
ÚÚ4 5
	SqlDbType
ÚÚ6 ?
.
ÚÚ? @

Structured
ÚÚ@ J
)
ÚÚJ K
{
ÛÛ 	
Value
ÙÙ 
=
ÙÙ 
ecoPools
ÙÙ 
,
ÙÙ 
TypeName
ıı 
=
ıı 
$str
ıı (
}
ˆˆ 	
)
ˆˆ	 

;
ˆˆ
 
}
˜˜ 
private
˘˘ 
void
˘˘ %
CreateModel1BParameters
˘˘ (
(
˘˘( )'
Model1BTransactionRequest
˘˘) B
request
˘˘C J
,
˘˘J K
	DataTable
˘˘L U
levels
˘˘V \
,
˘˘\ ]
	DataTable
˘˘^ g
ecoPools
˘˘h p
,
˘˘p q

SqlCommand
˙˙ 
cmd
˙˙ 
)
˙˙ 
{
˚˚ 
cmd
¸¸ 
.
¸¸ 
CommandType
¸¸ 
=
¸¸ 
CommandType
¸¸ %
.
¸¸% &
StoredProcedure
¸¸& 5
;
¸¸5 6
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ 
.
˛˛ 
Add
˛˛ 
(
˛˛ 
new
˛˛ 
SqlParameter
˛˛ +
(
˛˛+ ,
$str
˛˛, E
,
˛˛E F
	SqlDbType
˛˛G P
.
˛˛P Q
Int
˛˛Q T
)
˛˛T U
{
ˇˇ 	
Value
ÄÄ 
=
ÄÄ 
request
ÄÄ 
.
ÄÄ $
EcoPoolConfigurationId
ÄÄ 2
}
ÅÅ 	
)
ÅÅ	 

;
ÅÅ
 
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ 
.
ÉÉ 
Add
ÉÉ 
(
ÉÉ 
new
ÉÉ 
SqlParameter
ÉÉ +
(
ÉÉ+ ,
$str
ÉÉ, D
,
ÉÉD E
	SqlDbType
ÉÉF O
.
ÉÉO P
Decimal
ÉÉP W
)
ÉÉW X
{
ÑÑ 	
Value
ÖÖ 
=
ÖÖ 
request
ÖÖ 
.
ÖÖ #
TotalPercentageLevels
ÖÖ 1
}
ÜÜ 	
)
ÜÜ	 

;
ÜÜ
 
cmd
àà 
.
àà 

Parameters
àà 
.
àà 
Add
àà 
(
àà 
new
àà 
SqlParameter
àà +
(
àà+ ,
$str
àà, @
,
àà@ A
	SqlDbType
ààB K
.
ààK L
Decimal
ààL S
)
ààS T
{
ââ 	
Value
ää 
=
ää 
request
ää 
.
ää 
EcoPoolPercentage
ää -
}
ãã 	
)
ãã	 

;
ãã
 
cmd
çç 
.
çç 

Parameters
çç 
.
çç 
Add
çç 
(
çç 
new
çç 
SqlParameter
çç +
(
çç+ ,
$str
çç, @
,
çç@ A
	SqlDbType
ççB K
.
ççK L
Decimal
ççL S
)
ççS T
{
éé 	
Value
èè 
=
èè 
request
èè 
.
èè 
CompanyPercentage
èè -
}
êê 	
)
êê	 

;
êê
 
cmd
íí 
.
íí 

Parameters
íí 
.
íí 
Add
íí 
(
íí 
new
íí 
SqlParameter
íí +
(
íí+ ,
$str
íí, F
,
ííF G
	SqlDbType
ííH Q
.
ííQ R
Decimal
ííR Y
)
ííY Z
{
ìì 	
Value
îî 
=
îî 
request
îî 
.
îî %
CompanyPercentageLevels
îî 3
}
ïï 	
)
ïï	 

;
ïï
 
cmd
óó 
.
óó 

Parameters
óó 
.
óó 
Add
óó 
(
óó 
new
óó 
SqlParameter
óó +
(
óó+ ,
$str
óó, 3
,
óó3 4
	SqlDbType
óó5 >
.
óó> ?
Int
óó? B
)
óóB C
{
òò 	
Value
ôô 
=
ôô 
request
ôô 
.
ôô 
Case
ôô  
}
öö 	
)
öö	 

;
öö
 
cmd
úú 
.
úú 

Parameters
úú 
.
úú 
Add
úú 
(
úú 
new
úú 
SqlParameter
úú +
(
úú+ ,
$str
úú, 5
,
úú5 6
	SqlDbType
úú7 @
.
úú@ A
Int
úúA D
)
úúD E
{
ùù 	
Value
ûû 
=
ûû 
request
ûû 
.
ûû 
Points
ûû "
}
üü 	
)
üü	 

;
üü
 
cmd
°° 
.
°° 

Parameters
°° 
.
°° 
Add
°° 
(
°° 
new
°° 
SqlParameter
°° +
(
°°+ ,
$str
°°, 5
,
°°5 6
	SqlDbType
°°7 @
.
°°@ A

Structured
°°A K
)
°°K L
{
¢¢ 	
Value
££ 
=
££ 
levels
££ 
,
££ 
TypeName
§§ 
=
§§ 
$str
§§ '
}
•• 	
)
••	 

;
••
 
cmd
ßß 
.
ßß 

Parameters
ßß 
.
ßß 
Add
ßß 
(
ßß 
new
ßß 
SqlParameter
ßß +
(
ßß+ ,
$str
ßß, 4
,
ßß4 5
	SqlDbType
ßß6 ?
.
ßß? @

Structured
ßß@ J
)
ßßJ K
{
®® 	
Value
©© 
=
©© 
ecoPools
©© 
,
©© 
TypeName
™™ 
=
™™ 
$str
™™ (
}
´´ 	
)
´´	 

;
´´
 
}
¨¨ 
private
ÆÆ 
void
ÆÆ $
CreateModel3Parameters
ÆÆ '
(
ÆÆ' (&
Model3TransactionRequest
ÆÆ( @
request
ÆÆA H
,
ÆÆH I
	DataTable
ÆÆJ S
levels
ÆÆT Z
,
ÆÆZ [
	DataTable
ÆÆ\ e
ecoPools
ÆÆf n
,
ÆÆn o

SqlCommand
ØØ 
cmd
ØØ 
)
ØØ 
{
∞∞ 
cmd
±± 
.
±± 
CommandType
±± 
=
±± 
CommandType
±± %
.
±±% &
StoredProcedure
±±& 5
;
±±5 6
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ 
.
≥≥ 
Add
≥≥ 
(
≥≥ 
new
≥≥ 
SqlParameter
≥≥ +
(
≥≥+ ,
$str
≥≥, 9
,
≥≥9 :
	SqlDbType
≥≥; D
.
≥≥D E
Int
≥≥E H
)
≥≥H I
{
¥¥ 	
Value
µµ 
=
µµ 
request
µµ 
.
µµ 

Percentage
µµ &
}
∂∂ 	
)
∂∂	 

;
∂∂
 
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ 
.
∏∏ 
Add
∏∏ 
(
∏∏ 
new
∏∏ 
SqlParameter
∏∏ +
(
∏∏+ ,
$str
∏∏, E
,
∏∏E F
	SqlDbType
∏∏G P
.
∏∏P Q
Int
∏∏Q T
)
∏∏T U
{
ππ 	
Value
∫∫ 
=
∫∫ 
request
∫∫ 
.
∫∫ $
EcoPoolConfigurationId
∫∫ 2
}
ªª 	
)
ªª	 

;
ªª
 
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ 
.
ΩΩ 
Add
ΩΩ 
(
ΩΩ 
new
ΩΩ 
SqlParameter
ΩΩ +
(
ΩΩ+ ,
$str
ΩΩ, D
,
ΩΩD E
	SqlDbType
ΩΩF O
.
ΩΩO P
Decimal
ΩΩP W
)
ΩΩW X
{
ææ 	
Value
øø 
=
øø 
request
øø 
.
øø #
TotalPercentageLevels
øø 1
}
¿¿ 	
)
¿¿	 

;
¿¿
 
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ 
.
¬¬ 
Add
¬¬ 
(
¬¬ 
new
¬¬ 
SqlParameter
¬¬ +
(
¬¬+ ,
$str
¬¬, 5
,
¬¬5 6
	SqlDbType
¬¬7 @
.
¬¬@ A

Structured
¬¬A K
)
¬¬K L
{
√√ 	
Value
ƒƒ 
=
ƒƒ 
levels
ƒƒ 
,
ƒƒ 
TypeName
≈≈ 
=
≈≈ 
$str
≈≈ '
}
∆∆ 	
)
∆∆	 

;
∆∆
 
cmd
»» 
.
»» 

Parameters
»» 
.
»» 
Add
»» 
(
»» 
new
»» 
SqlParameter
»» +
(
»»+ ,
$str
»», <
,
»»< =
	SqlDbType
»»> G
.
»»G H

Structured
»»H R
)
»»R S
{
…… 	
Value
   
=
   
ecoPools
   
,
   
TypeName
ÀÀ 
=
ÀÀ 
$str
ÀÀ (
}
ÃÃ 	
)
ÃÃ	 

;
ÃÃ
 
}
ÕÕ 
private
œœ 
void
œœ (
CreateCreditListParameters
œœ +
(
œœ+ ,&
CreditTransactionRequest
œœ, D
request
œœE L
,
œœL M

SqlCommand
œœN X
cmd
œœY \
)
œœ\ ]
{
–– 
cmd
—— 
.
—— 
CommandType
—— 
=
—— 
CommandType
—— %
.
——% &
StoredProcedure
——& 5
;
——5 6
cmd
““ 
.
““ 

Parameters
““ 
.
““ 
Add
““ 
(
““ 
new
““ 
SqlParameter
““ +
(
““+ ,
$str
““, :
,
““: ;
	SqlDbType
““< E
.
““E F
Int
““F I
)
““I J
{
”” 	
Value
‘‘ 
=
‘‘ 
request
‘‘ 
.
‘‘ 
AffiliateId
‘‘ '
}
’’ 	
)
’’	 

;
’’
 
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ 
.
◊◊ 
Add
◊◊ 
(
◊◊ 
new
◊◊ 
SqlParameter
◊◊ +
(
◊◊+ ,
$str
◊◊, 5
,
◊◊5 6
	SqlDbType
◊◊7 @
.
◊◊@ A
Int
◊◊A D
)
◊◊D E
{
ÿÿ 	
Value
ŸŸ 
=
ŸŸ 
request
ŸŸ 
.
ŸŸ 
UserId
ŸŸ "
}
⁄⁄ 	
)
⁄⁄	 

;
⁄⁄
 
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
new
‹‹ 
SqlParameter
‹‹ +
(
‹‹+ ,
$str
‹‹, 6
,
‹‹6 7
	SqlDbType
‹‹8 A
.
‹‹A B
VarChar
‹‹B I
)
‹‹I J
{
›› 	
Value
ﬁﬁ 
=
ﬁﬁ 
request
ﬁﬁ 
.
ﬁﬁ 
Concept
ﬁﬁ #
,
ﬁﬁ# $
Size
ﬂﬂ 
=
ﬂﬂ 
$num
ﬂﬂ 
}
‡‡ 	
)
‡‡	 

;
‡‡
 
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ 
.
‚‚ 
Add
‚‚ 
(
‚‚ 
new
‚‚ 
SqlParameter
‚‚ +
(
‚‚+ ,
$str
‚‚, 5
,
‚‚5 6
	SqlDbType
‚‚7 @
.
‚‚@ A
Decimal
‚‚A H
)
‚‚H I
{
„„ 	
Value
‰‰ 
=
‰‰ 
request
‰‰ 
.
‰‰ 
Credit
‰‰ "
}
ÂÂ 	
)
ÂÂ	 

;
ÂÂ
 
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ 
.
ÁÁ 
Add
ÁÁ 
(
ÁÁ 
new
ÁÁ 
SqlParameter
ÁÁ +
(
ÁÁ+ ,
$str
ÁÁ, @
,
ÁÁ@ A
	SqlDbType
ÁÁB K
.
ÁÁK L
VarChar
ÁÁL S
)
ÁÁS T
{
ËË 	
Value
ÈÈ 
=
ÈÈ 
request
ÈÈ 
.
ÈÈ 
AffiliateUserName
ÈÈ -
,
ÈÈ- .
Size
ÍÍ 
=
ÍÍ 
$num
ÍÍ 
}
ÎÎ 	
)
ÎÎ	 

;
ÎÎ
 
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ 
.
ÌÌ 
Add
ÌÌ 
(
ÌÌ 
new
ÌÌ 
SqlParameter
ÌÌ +
(
ÌÌ+ ,
$str
ÌÌ, <
,
ÌÌ< =
	SqlDbType
ÌÌ> G
.
ÌÌG H
VarChar
ÌÌH O
)
ÌÌO P
{
ÓÓ 	
Value
ÔÔ 
=
ÔÔ 
request
ÔÔ 
.
ÔÔ 
AdminUserName
ÔÔ )
,
ÔÔ) *
Size
 
=
 
$num
 
}
ÒÒ 	
)
ÒÒ	 

;
ÒÒ
 
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ 
.
ÛÛ 
Add
ÛÛ 
(
ÛÛ 
new
ÛÛ 
SqlParameter
ÛÛ +
(
ÛÛ+ ,
$str
ÛÛ, :
,
ÛÛ: ;
	SqlDbType
ÛÛ< E
.
ÛÛE F
VarChar
ÛÛF M
)
ÛÛM N
{
ÙÙ 	
Value
ıı 
=
ıı 
request
ıı 
.
ıı 
ConceptType
ıı '
,
ıı' (
Size
ˆˆ 
=
ˆˆ 
$num
ˆˆ 
}
˜˜ 	
)
˜˜	 

;
˜˜
 
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ 
.
˘˘ 
Add
˘˘ 
(
˘˘ 
new
˘˘ 
SqlParameter
˘˘ +
(
˘˘+ ,
$str
˘˘, 6
,
˘˘6 7
	SqlDbType
˘˘8 A
.
˘˘A B
Int
˘˘B E
)
˘˘E F
{
˙˙ 	
Value
˚˚ 
=
˚˚ 
request
˚˚ 
.
˚˚ 
BrandId
˚˚ #
}
¸¸ 	
)
¸¸	 

;
¸¸
 
}
˝˝ 
public
˛˛ 

Task
˛˛ 
<
˛˛ 
List
˛˛ 
<
˛˛ 
Wallet
˛˛ 
>
˛˛ 
>
˛˛ 
GetWalletByUserId
˛˛ /
(
˛˛/ 0
int
˛˛0 3
userId
˛˛4 :
,
˛˛: ;
long
˛˛< @
brandId
˛˛A H
)
˛˛H I
=>
ˇˇ 

Context
ˇˇ 
.
ˇˇ 
Wallets
ˇˇ 
.
ˇˇ 
Where
ˇˇ  
(
ˇˇ  !
x
ˇˇ! "
=>
ˇˇ# %
x
ˇˇ& '
.
ˇˇ' (
UserId
ˇˇ( .
==
ˇˇ/ 1
userId
ˇˇ2 8
&&
ˇˇ9 ;
x
ˇˇ< =
.
ˇˇ= >
BrandId
ˇˇ> E
==
ˇˇF H
brandId
ˇˇI P
)
ˇˇP Q
.
ÄÄ 
OrderByDescending
ÄÄ 
(
ÄÄ 
x
ÄÄ  
=>
ÄÄ! #
x
ÄÄ$ %
.
ÄÄ% &
	CreatedAt
ÄÄ& /
)
ÄÄ/ 0
.
ÄÄ0 1
ToListAsync
ÄÄ1 <
(
ÄÄ< =
)
ÄÄ= >
;
ÄÄ> ?
public
ÇÇ 

Task
ÇÇ 
<
ÇÇ 
List
ÇÇ 
<
ÇÇ 
Wallet
ÇÇ 
>
ÇÇ 
>
ÇÇ 
GetWalletsRequest
ÇÇ /
(
ÇÇ/ 0
int
ÇÇ0 3
userId
ÇÇ4 :
,
ÇÇ: ;
long
ÇÇ< @
brandId
ÇÇA H
)
ÇÇH I
=>
ÉÉ 

Context
ÉÉ 
.
ÉÉ 
Wallets
ÉÉ 
.
ÉÉ 
AsNoTracking
ÉÉ '
(
ÉÉ' (
)
ÉÉ( )
.
ÉÉ) *
Where
ÉÉ* /
(
ÉÉ/ 0
x
ÉÉ0 1
=>
ÑÑ 
x
ÑÑ 
.
ÑÑ 
ConceptType
ÑÑ 
==
ÑÑ 
WalletConceptType
ÑÑ  1
.
ÑÑ1 2'
wallet_withdrawal_request
ÑÑ2 K
.
ÑÑK L
ToString
ÑÑL T
(
ÑÑT U
)
ÑÑU V
&&
ÖÖ 
x
ÖÖ 
.
ÖÖ 
AffiliateId
ÖÖ 
==
ÖÖ  "
userId
ÖÖ# )
&&
ÖÖ* ,
x
ÖÖ- .
.
ÖÖ. /
BrandId
ÖÖ/ 6
==
ÖÖ7 9
brandId
ÖÖ: A
)
ÖÖA B
.
ÖÖB C
ToListAsync
ÖÖC N
(
ÖÖN O
)
ÖÖO P
;
ÖÖP Q
public
áá 

Task
áá 
<
áá 
List
áá 
<
áá 
Wallet
áá 
>
áá 
>
áá 
GetAllWallets
áá +
(
áá+ ,
long
áá, 0
brandId
áá1 8
)
áá8 9
=>
àà 

Context
àà 
.
àà 
Wallets
àà 
.
àà 
Where
àà  
(
àà  !
x
àà! "
=>
àà# %
x
àà& '
.
àà' (
BrandId
àà( /
==
àà0 2
brandId
àà3 :
)
àà: ;
.
ââ 
OrderByDescending
ââ 
(
ââ 
x
ââ  
=>
ââ! #
x
ââ$ %
.
ââ% &
	CreatedAt
ââ& /
)
ââ/ 0
.
ââ0 1
AsNoTracking
ââ1 =
(
ââ= >
)
ââ> ?
.
ââ? @
ToListAsync
ââ@ K
(
ââK L
)
ââL M
;
ââM N
public
ãã 

Task
ãã 
<
ãã 
List
ãã 
<
ãã  
ModelFourStatistic
ãã '
>
ãã' (
>
ãã( )
GetUserModelFour
ãã* :
(
ãã: ;
int
ãã; >
[
ãã> ?
]
ãã? @
affiliateIds
ããA M
)
ããM N
{
åå 
return
çç 
Context
çç 
.
çç !
ModelFourStatistics
çç *
.
çç* +
AsNoTracking
çç+ 7
(
çç7 8
)
çç8 9
.
çç9 :
Where
çç: ?
(
çç? @
x
çç@ A
=>
éé 
affiliateIds
éé 
.
éé 
Contains
éé $
(
éé$ %
x
éé% &
.
éé& '
AffiliateId
éé' 2
)
éé2 3
)
éé3 4
.
éé4 5
ToListAsync
éé5 @
(
éé@ A
)
ééA B
;
ééB C
}
èè 
public
ëë 

Task
ëë 
<
ëë 
Wallet
ëë 
?
ëë 
>
ëë 
GetWalletById
ëë &
(
ëë& '
int
ëë' *
id
ëë+ -
,
ëë- .
long
ëë/ 3
brandId
ëë4 ;
)
ëë; <
=>
íí 

Context
íí 
.
íí 
Wallets
íí 
.
íí !
FirstOrDefaultAsync
íí .
(
íí. /
x
íí/ 0
=>
íí1 3
x
íí4 5
.
íí5 6
Id
íí6 8
==
íí9 ;
id
íí< >
&&
íí? A
x
ííB C
.
ííC D
BrandId
ííD K
==
ííL N
brandId
ííO V
)
ííV W
;
ííW X
public
îî 

async
îî 
Task
îî 
<
îî 
Wallet
îî 
>
îî 
CreateWalletAsync
îî /
(
îî/ 0
Wallet
îî0 6
request
îî7 >
)
îî> ?
{
ïï 
var
ññ 
today
ññ 
=
ññ 
DateTime
ññ 
.
ññ 
Now
ññ  
;
ññ  !
request
óó 
.
óó 
	CreatedAt
óó 
=
óó 
today
óó !
;
óó! "
request
òò 
.
òò 
	UpdatedAt
òò 
=
òò 
today
òò !
;
òò! "
await
öö 
Context
öö 
.
öö 
AddAsync
öö 
(
öö 
request
öö &
)
öö& '
;
öö' (
await
õõ 
Context
õõ 
.
õõ 
SaveChangesAsync
õõ &
(
õõ& '
)
õõ' (
;
õõ( )
return
ùù 
request
ùù 
;
ùù 
}
ûû 
public
†† 

async
†† 
Task
†† 
<
†† 
Wallet
†† 
>
†† 
CreateAsync
†† )
(
††) *
Wallet
††* 0
request
††1 8
)
††8 9
{
°° 
var
¢¢ 
today
¢¢ 
=
¢¢ 
DateTime
¢¢ 
.
¢¢ 
Now
¢¢  
;
¢¢  !
request
££ 
.
££ 
	CreatedAt
££ 
=
££ 
today
££ !
;
££! "
request
§§ 
.
§§ 
	UpdatedAt
§§ 
=
§§ 
today
§§ !
;
§§! "
await
¶¶ 
Context
¶¶ 
.
¶¶ 
AddAsync
¶¶ 
(
¶¶ 
request
¶¶ &
)
¶¶& '
;
¶¶' (
return
®® 
request
®® 
;
®® 
}
©© 
public
´´ 

async
´´ 
Task
´´ 
<
´´ 
Wallet
´´ 
>
´´ 
UpdateWalletAsync
´´ /
(
´´/ 0
Wallet
´´0 6
request
´´7 >
)
´´> ?
{
¨¨ 
var
≠≠ 
today
≠≠ 
=
≠≠ 
DateTime
≠≠ 
.
≠≠ 
Now
≠≠  
;
≠≠  !
request
ÆÆ 
.
ÆÆ 
	UpdatedAt
ÆÆ 
=
ÆÆ 
today
ÆÆ !
;
ÆÆ! "
Context
ØØ 
.
ØØ 
Wallets
ØØ 
.
ØØ 
Update
ØØ 
(
ØØ 
request
ØØ &
)
ØØ& '
;
ØØ' (
await
∞∞ 
Context
∞∞ 
.
∞∞ 
SaveChangesAsync
∞∞ &
(
∞∞& '
)
∞∞' (
;
∞∞( )
return
≤≤ 
request
≤≤ 
;
≤≤ 
}
≥≥ 
public
µµ 

async
µµ 
Task
µµ 
<
µµ 
Wallet
µµ 
>
µµ 
DeleteWalletAsync
µµ /
(
µµ/ 0
Wallet
µµ0 6
request
µµ7 >
)
µµ> ?
{
∂∂ 
request
∑∑ 
.
∑∑ 
	DeletedAt
∑∑ 
=
∑∑ 
DateTime
∑∑ $
.
∑∑$ %
Now
∑∑% (
;
∑∑( )
Context
ππ 
.
ππ 
Wallets
ππ 
.
ππ 
Update
ππ 
(
ππ 
request
ππ &
)
ππ& '
;
ππ' (
await
∫∫ 
Context
∫∫ 
.
∫∫ 
SaveChangesAsync
∫∫ &
(
∫∫& '
)
∫∫' (
;
∫∫( )
return
ºº 
request
ºº 
;
ºº 
}
ΩΩ 
public
øø 

Task
øø 
<
øø 
List
øø 
<
øø 
InvoicesDetail
øø #
>
øø# $
>
øø$ %(
GetDebitsModel2WithinMonth
øø& @
(
øø@ A
DateTime
øøA I
from
øøJ N
,
øøN O
DateTime
øøP X
to
øøY [
)
øø[ \
=>
¿¿ 

Context
¿¿ 
.
¿¿ 
InvoicesDetails
¿¿ "
.
¿¿" #
Include
¿¿# *
(
¿¿* +
i
¿¿+ ,
=>
¿¿- /
i
¿¿0 1
.
¿¿1 2
Invoice
¿¿2 9
)
¿¿9 :
.
¿¿: ;
AsNoTracking
¿¿; G
(
¿¿G H
)
¿¿H I
.
¡¡ 
Where
¡¡ 
(
¡¡ 
x
¡¡ 
=>
¡¡ 
x
¡¡ 
.
¡¡ 
ProductPack
¡¡ %
&&
¡¡& (
x
¡¡) *
.
¡¡* +
PaymentGroupId
¡¡+ 9
==
¡¡: <
$num
¡¡= >
&&
¡¡? A
x
¡¡B C
.
¡¡C D
Invoice
¡¡D K
.
¡¡K L
Status
¡¡L R
==
¡¡S U
true
¡¡V Z
&&
¡¡[ ]
x
¬¬ 
.
¬¬ 
Invoice
¬¬ !
.
¬¬! "
CancellationDate
¬¬" 2
==
¬¬3 5
null
¬¬6 :
&&
¬¬; =
x
√√ 
.
√√ 
Date
√√ 
>=
√√ !
from
√√" &
&&
√√' )
x
√√* +
.
√√+ ,
Date
√√, 0
<=
√√1 3
to
√√4 6
)
√√6 7
.
√√7 8
ToListAsync
√√8 C
(
√√C D
)
√√D E
;
√√E F
public
≈≈ 

Task
≈≈ 
<
≈≈ 
List
≈≈ 
<
≈≈ 
InvoicesDetail
≈≈ #
>
≈≈# $
>
≈≈$ %)
GetDebitsModel1AWithinMonth
≈≈& A
(
≈≈A B
DateTime
≈≈B J
from
≈≈K O
,
≈≈O P
DateTime
≈≈Q Y
to
≈≈Z \
)
≈≈\ ]
=>
∆∆ 

Context
∆∆ 
.
∆∆ 
InvoicesDetails
∆∆ "
.
∆∆" #
Include
∆∆# *
(
∆∆* +
i
∆∆+ ,
=>
∆∆- /
i
∆∆0 1
.
∆∆1 2
Invoice
∆∆2 9
)
∆∆9 :
.
∆∆: ;
AsNoTracking
∆∆; G
(
∆∆G H
)
∆∆H I
.
«« 
Where
«« 
(
«« 
x
«« 
=>
«« 
x
«« 
.
«« 
PaymentGroupId
«« (
==
««) +
$num
««, -
&&
««. 0
x
««1 2
.
««2 3
Invoice
««3 :
.
««: ;
Status
««; A
==
««B D
true
««E I
&&
««J L
x
««M N
.
««N O
Invoice
««O V
.
««V W
CancellationDate
««W g
==
««h j
null
««k o
&&
««p r
x
»» 
.
»» 
Date
»» 
>=
»» !
from
»»" &
&&
»»' )
x
»»* +
.
»»+ ,
Date
»», 0
<=
»»1 3
to
»»4 6
)
»»6 7
.
»»7 8
ToListAsync
»»8 C
(
»»C D
)
»»D E
;
»»E F
public
   

Task
   
<
   
List
   
<
   
InvoicesDetail
   #
>
  # $
>
  $ %)
GetDebitsModel1BWithinMonth
  & A
(
  A B
DateTime
  B J
from
  K O
,
  O P
DateTime
  Q Y
to
  Z \
)
  \ ]
=>
ÀÀ 

Context
ÀÀ 
.
ÀÀ 
InvoicesDetails
ÀÀ "
.
ÀÀ" #
Include
ÀÀ# *
(
ÀÀ* +
i
ÀÀ+ ,
=>
ÀÀ- /
i
ÀÀ0 1
.
ÀÀ1 2
Invoice
ÀÀ2 9
)
ÀÀ9 :
.
ÀÀ: ;
AsNoTracking
ÀÀ; G
(
ÀÀG H
)
ÀÀH I
.
ÃÃ 
Where
ÃÃ 
(
ÃÃ 
x
ÃÃ 
=>
ÃÃ 
x
ÃÃ 
.
ÃÃ 
PaymentGroupId
ÃÃ (
==
ÃÃ) +
$num
ÃÃ, -
&&
ÃÃ. 0
x
ÃÃ1 2
.
ÃÃ2 3
Invoice
ÃÃ3 :
.
ÃÃ: ;
Status
ÃÃ; A
==
ÃÃB D
true
ÃÃE I
&&
ÃÃJ L
x
ÃÃM N
.
ÃÃN O
Invoice
ÃÃO V
.
ÃÃV W
CancellationDate
ÃÃW g
==
ÃÃh j
null
ÃÃk o
&&
ÃÃp r
x
ÕÕ 
.
ÕÕ 
Date
ÕÕ 
>=
ÕÕ !
from
ÕÕ" &
&&
ÕÕ' )
x
ÕÕ* +
.
ÕÕ+ ,
Date
ÕÕ, 0
<=
ÕÕ1 3
to
ÕÕ4 6
)
ÕÕ6 7
.
ÕÕ7 8
ToListAsync
ÕÕ8 C
(
ÕÕC D
)
ÕÕD E
;
ÕÕE F
public
œœ 

Task
œœ 
<
œœ 
List
œœ 
<
œœ 
InvoicesDetail
œœ #
>
œœ# $
>
œœ$ %)
GetDebitsModel2OutsideMonth
œœ& A
(
œœA B
DateTime
œœB J
date
œœK O
)
œœO P
=>
–– 

Context
–– 
.
–– 
InvoicesDetails
–– "
.
––" #
Include
––# *
(
––* +
i
––+ ,
=>
––- /
i
––0 1
.
––1 2
Invoice
––2 9
)
––9 :
.
––: ;
AsNoTracking
––; G
(
––G H
)
––H I
.
—— 
Where
—— 
(
—— 
x
—— 
=>
—— 
x
—— 
.
—— 
Date
—— 
.
—— 
Year
—— #
>=
——$ &
$num
——' +
&&
——, .
x
——/ 0
.
——0 1
ProductPack
——1 <
&&
——= ?
x
——@ A
.
——A B
PaymentGroupId
——B P
==
——Q S
$num
——T U
&&
——V X
x
——Y Z
.
——Z [
Date
——[ _
<
——` a
date
——b f
&&
——g i
x
““ 
.
““ 
Invoice
““ !
.
““! "
Status
““" (
==
““) +
true
““, 0
&&
““1 3
x
”” 
.
”” 
Invoice
”” !
.
””! "
CancellationDate
””" 2
==
””3 5
null
””6 :
)
””: ;
.
””; <
ToListAsync
””< G
(
””G H
)
””H I
;
””I J
public
’’ 

Task
’’ 
<
’’ 
List
’’ 
<
’’ 
InvoicesDetail
’’ #
>
’’# $
>
’’$ %*
GetDebitsModel1AOutsideMonth
’’& B
(
’’B C
DateTime
’’C K
date
’’L P
)
’’P Q
=>
÷÷ 

Context
÷÷ 
.
÷÷ 
InvoicesDetails
÷÷ "
.
÷÷" #
Include
÷÷# *
(
÷÷* +
i
÷÷+ ,
=>
÷÷- /
i
÷÷0 1
.
÷÷1 2
Invoice
÷÷2 9
)
÷÷9 :
.
÷÷: ;
AsNoTracking
÷÷; G
(
÷÷G H
)
÷÷H I
.
◊◊ 
Where
◊◊ 
(
◊◊ 
x
◊◊ 
=>
◊◊ 
x
◊◊ 
.
◊◊ 
PaymentGroupId
◊◊ (
==
◊◊) +
$num
◊◊, -
&&
◊◊. 0
x
◊◊1 2
.
◊◊2 3
Date
◊◊3 7
<
◊◊8 9
date
◊◊: >
&&
◊◊? A
x
◊◊B C
.
◊◊C D
Invoice
◊◊D K
.
◊◊K L
Status
◊◊L R
==
◊◊S U
true
◊◊V Z
&&
◊◊[ ]
x
ÿÿ 
.
ÿÿ 
Invoice
ÿÿ !
.
ÿÿ! "
CancellationDate
ÿÿ" 2
==
ÿÿ3 5
null
ÿÿ6 :
)
ÿÿ: ;
.
ÿÿ; <
ToListAsync
ÿÿ< G
(
ÿÿG H
)
ÿÿH I
;
ÿÿI J
public
⁄⁄ 

Task
⁄⁄ 
<
⁄⁄ 
List
⁄⁄ 
<
⁄⁄ 
InvoicesDetail
⁄⁄ #
>
⁄⁄# $
>
⁄⁄$ %*
GetDebitsModel1BOutsideMonth
⁄⁄& B
(
⁄⁄B C
DateTime
⁄⁄C K
date
⁄⁄L P
)
⁄⁄P Q
=>
€€ 

Context
€€ 
.
€€ 
InvoicesDetails
€€ "
.
€€" #
Include
€€# *
(
€€* +
i
€€+ ,
=>
€€- /
i
€€0 1
.
€€1 2
Invoice
€€2 9
)
€€9 :
.
€€: ;
AsNoTracking
€€; G
(
€€G H
)
€€H I
.
‹‹ 
Where
‹‹ 
(
‹‹ 
x
‹‹ 
=>
‹‹ 
x
‹‹ 
.
‹‹ 
PaymentGroupId
‹‹ (
==
‹‹) +
$num
‹‹, -
&&
‹‹. 0
x
‹‹1 2
.
‹‹2 3
Date
‹‹3 7
<
‹‹8 9
date
‹‹: >
&&
‹‹? A
x
‹‹B C
.
‹‹C D
Invoice
‹‹D K
.
‹‹K L
Status
‹‹L R
==
‹‹S U
true
‹‹V Z
&&
‹‹[ ]
x
›› 
.
›› 
Invoice
›› !
.
››! "
CancellationDate
››" 2
==
››3 5
null
››6 :
)
››: ;
.
››; <
ToListAsync
››< G
(
››G H
)
››H I
;
››I J
public
‡‡ 

Task
‡‡ 
<
‡‡ 
List
‡‡ 
<
‡‡ 
InvoicesDetail
‡‡ #
>
‡‡# $
>
‡‡$ %.
 GetInvoicesDetailsItemsForModel3
‡‡& F
(
‡‡F G
DateTime
‡‡G O
from
‡‡P T
,
‡‡T U
DateTime
‡‡V ^
to
‡‡_ a
)
‡‡a b
{
·· 
return
‚‚ 
Context
‚‚ 
.
‚‚ 
InvoicesDetails
‚‚ &
.
‚‚& '
Include
‚‚' .
(
‚‚. /
i
‚‚/ 0
=>
‚‚1 3
i
‚‚4 5
.
‚‚5 6
Invoice
‚‚6 =
)
‚‚= >
.
‚‚> ?
AsNoTracking
‚‚? K
(
‚‚K L
)
‚‚L M
.
„„ 
Where
„„ 
(
„„ 
x
„„ 
=>
‰‰ 
(
‰‰ 
x
‰‰ 
.
‰‰ 
PaymentGroupId
‰‰ $
==
‰‰% '
$num
‰‰( )
||
‰‰* ,
x
‰‰- .
.
‰‰. /
PaymentGroupId
‰‰/ =
==
‰‰> @
$num
‰‰A B
)
‰‰B C
&&
‰‰D F
x
ÂÂ 
.
ÂÂ 
Date
ÂÂ 
>=
ÂÂ 
from
ÂÂ !
&&
ÂÂ" $
x
ÂÂ% &
.
ÂÂ& '
Date
ÂÂ' +
<=
ÂÂ, .
to
ÂÂ/ 1
&&
ÂÂ2 4
x
ÂÂ5 6
.
ÂÂ6 7
Invoice
ÂÂ7 >
.
ÂÂ> ?
Status
ÂÂ? E
&&
ÂÂF H
x
ÂÂI J
.
ÂÂJ K
Invoice
ÂÂK R
.
ÂÂR S
CancellationDate
ÂÂS c
==
ÂÂd f
null
ÂÂg k
)
ÂÂk l
.
ÊÊ 
ToListAsync
ÊÊ 
(
ÊÊ 
)
ÊÊ 
;
ÊÊ 
}
ÁÁ 
public
ÈÈ 

async
ÈÈ 
Task
ÈÈ 
<
ÈÈ 
bool
ÈÈ 
>
ÈÈ #
CreateTransferBalance
ÈÈ 1
(
ÈÈ1 2
Wallet
ÈÈ2 8
debitTransaction
ÈÈ9 I
,
ÈÈI J
Wallet
ÈÈK Q
creditTransaction
ÈÈR c
)
ÈÈc d
{
ÍÍ 
await
ÎÎ 
using
ÎÎ 
var
ÎÎ 
transaction
ÎÎ #
=
ÎÎ$ %
await
ÎÎ& +
Context
ÎÎ, 3
.
ÎÎ3 4
Database
ÎÎ4 <
.
ÎÎ< =#
BeginTransactionAsync
ÎÎ= R
(
ÎÎR S
)
ÎÎS T
;
ÎÎT U
var
ÏÏ 
today
ÏÏ 
=
ÏÏ 
DateTime
ÏÏ 
.
ÏÏ 
Now
ÏÏ  
;
ÏÏ  !
try
ÌÌ 
{
ÓÓ 	
debitTransaction
ÔÔ 
.
ÔÔ 
	CreatedAt
ÔÔ &
=
ÔÔ' (
today
ÔÔ) .
;
ÔÔ. /
debitTransaction
 
.
 
	UpdatedAt
 &
=
' (
today
) .
;
. /
creditTransaction
ÒÒ 
.
ÒÒ 
	CreatedAt
ÒÒ '
=
ÒÒ( )
today
ÒÒ* /
;
ÒÒ/ 0
creditTransaction
ÚÚ 
.
ÚÚ 
	UpdatedAt
ÚÚ '
=
ÚÚ( )
today
ÚÚ* /
;
ÚÚ/ 0
Context
ÛÛ 
.
ÛÛ 
Wallets
ÛÛ 
.
ÛÛ 
Add
ÛÛ 
(
ÛÛ  
debitTransaction
ÛÛ  0
)
ÛÛ0 1
;
ÛÛ1 2
Context
ÙÙ 
.
ÙÙ 
Wallets
ÙÙ 
.
ÙÙ 
Add
ÙÙ 
(
ÙÙ  
creditTransaction
ÙÙ  1
)
ÙÙ1 2
;
ÙÙ2 3
await
ˆˆ 
Context
ˆˆ 
.
ˆˆ 
SaveChangesAsync
ˆˆ *
(
ˆˆ* +
)
ˆˆ+ ,
;
ˆˆ, -
await
¯¯ 
transaction
¯¯ 
.
¯¯ 
CommitAsync
¯¯ )
(
¯¯) *
)
¯¯* +
;
¯¯+ ,
return
˘˘ 
true
˘˘ 
;
˘˘ 
}
˙˙ 	
catch
˚˚ 
(
˚˚ 
	Exception
˚˚ 
)
˚˚ 
{
¸¸ 	
await
˝˝ 
transaction
˝˝ 
.
˝˝ 
RollbackAsync
˝˝ +
(
˝˝+ ,
)
˝˝, -
;
˝˝- .
return
˛˛ 
false
˛˛ 
;
˛˛ 
}
ˇˇ 	
}
ÄÄ 
public
ÇÇ 

async
ÇÇ 
Task
ÇÇ )
RevertDebitTransactionAsync
ÇÇ 1
(
ÇÇ1 2
int
ÇÇ2 5
id
ÇÇ6 8
)
ÇÇ8 9
{
ÉÉ 
await
ÑÑ 
using
ÑÑ 
var
ÑÑ 
sql
ÑÑ 
=
ÑÑ 
new
ÑÑ !
SqlConnection
ÑÑ" /
(
ÑÑ/ 0
_appSettings
ÑÑ0 <
.
ÑÑ< =
ConnectionStrings
ÑÑ= N
?
ÑÑN O
.
ÑÑO P"
PostgreSqlConnection
ÑÑP d
)
ÑÑd e
;
ÑÑe f
await
ÖÖ 
using
ÖÖ 
var
ÖÖ 
cmd
ÖÖ 
=
ÖÖ 
new
ÖÖ !

SqlCommand
ÖÖ" ,
(
ÖÖ, -
	Constants
ÖÖ- 6
.
ÖÖ6 7$
RevertDebitTransaction
ÖÖ7 M
,
ÖÖM N
sql
ÖÖO R
)
ÖÖR S
;
ÖÖS T
cmd
áá 
.
áá 
CommandType
áá 
=
áá 
CommandType
áá %
.
áá% &
StoredProcedure
áá& 5
;
áá5 6
cmd
àà 
.
àà 

Parameters
àà 
.
àà 
Add
àà 
(
àà 
new
àà 
SqlParameter
àà +
(
àà+ ,
$str
àà, <
,
àà< =
	SqlDbType
àà> G
.
ààG H
Int
ààH K
)
ààK L
{
ââ 	
Value
ää 
=
ää 
id
ää 
}
ãã 	
)
ãã	 

;
ãã
 
await
çç 
sql
çç 
.
çç 
	OpenAsync
çç 
(
çç 
)
çç 
;
çç 
await
éé 
cmd
éé 
.
éé "
ExecuteNonQueryAsync
éé &
(
éé& '
)
éé' (
;
éé( )
await
èè 
sql
èè 
.
èè 

CloseAsync
èè 
(
èè 
)
èè 
;
èè 
}
êê 
public
íí 

async
íí 
Task
íí 
<
íí 
bool
íí 
>
íí 0
"IsActivePoolGreaterThanOrEqualTo25
íí >
(
íí> ?
int
íí? B
affiliateId
ííC N
,
ííN O
long
ííP T
brandId
ííU \
)
íí\ ]
{
ìì 
var
îî 
result
îî 
=
îî 
await
îî 
Context
îî "
.
îî" #
InvoicesDetails
îî# 2
.
îî2 3
Include
îî3 :
(
îî: ;
x
îî; <
=>
îî= ?
x
îî@ A
.
îîA B
Invoice
îîB I
)
îîI J
.
ïï 
Where
ïï 
(
ïï 
x
ïï 
=>
ïï 
x
ïï 
.
ïï 
ProductPack
ïï %
&&
ïï& (
x
ïï) *
.
ïï* +
Invoice
ïï+ 2
.
ïï2 3
AffiliateId
ïï3 >
==
ïï? A
affiliateId
ïïB M
&&
ïïN P
x
ïïQ R
.
ïïR S
Invoice
ïïS Z
.
ïïZ [
Status
ïï[ a
==
ïïb d
true
ïïe i
&&
ïïj l
x
ññ 
.
ññ 
Invoice
ññ !
.
ññ! "
CancellationDate
ññ" 2
==
ññ3 5
null
ññ6 :
&&
ññ; =
x
ññ> ?
.
ññ? @
PaymentGroupId
ññ@ N
==
ññO Q
$num
ññR S
&&
ññT V
x
ññW X
.
ññX Y
BrandId
ññY `
==
ñña c
brandId
ññd k
)
ññk l
.
óó 
ToListAsync
óó 
(
óó 
)
óó 
;
óó 
if
ôô 

(
ôô 
result
ôô 
is
ôô 
{
ôô 
Count
ôô 
:
ôô 
$num
ôô  
}
ôô! "
)
ôô" #
return
öö 
false
öö 
;
öö 
return
úú 
result
úú 
.
úú 
Sum
úú 
(
úú 
x
úú 
=>
úú 
x
úú  
.
úú  !

BaseAmount
úú! +
)
úú+ ,
>=
úú- /
$num
úú0 2
;
úú2 3
}
ùù 
public
üü 

async
üü 
Task
üü 
<
üü  
InvoicesSpResponse
üü (
?
üü( )
>
üü) *)
HandleMembershipTransaction
üü+ F
(
üüF G%
DebitTransactionRequest
üüG ^
request
üü_ f
)
üüf g
{
†† #
ArgumentNullException
°° 
.
°° 
ThrowIfNull
°° )
(
°°) *
request
°°* 1
,
°°1 2
nameof
°°3 9
(
°°9 :
request
°°: A
)
°°A B
)
°°B C
;
°°C D
try
££ 
{
§§ 	
var
•• 

parameters
•• 
=
•• '
CreateDebitListParameters
•• 6
(
••6 7
request
••7 >
)
••> ?
;
••? @
const
¶¶ 
string
¶¶ 
sql
¶¶ 
=
¶¶ 
$str
¶¨ 
;
¨¨ 
return
ÆÆ 
await
ÆÆ 
Context
ÆÆ  
.
ÆÆ  !!
InvoicesSpResponses
ÆÆ! 4
.
ØØ 

FromSqlRaw
ØØ 
(
ØØ 
sql
ØØ 
,
ØØ  

parameters
ØØ! +
.
ØØ+ ,
ToArray
ØØ, 3
(
ØØ3 4
)
ØØ4 5
)
ØØ5 6
.
∞∞ 
AsNoTracking
∞∞ 
(
∞∞ 
)
∞∞ 
.
±± !
FirstOrDefaultAsync
±± $
(
±±$ %
)
±±% &
;
±±& '
}
≤≤ 	
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
ex
≥≥ 
)
≥≥ 
{
¥¥ 	
throw
µµ 
new
µµ 
	Exception
µµ 
(
µµ  
$str
µµ  I
,
µµI J
ex
µµK M
)
µµM N
;
µµN O
}
∂∂ 	
}
∑∑ 
public
ππ 

async
ππ 
Task
ππ 
<
ππ  
InvoicesSpResponse
ππ (
?
ππ( )
>
ππ) *(
MembershipDebitTransaction
ππ+ E
(
ππE F%
DebitTransactionRequest
ππF ]
request
ππ^ e
)
ππe f
{
∫∫ #
ArgumentNullException
ªª 
.
ªª 
ThrowIfNull
ªª )
(
ªª) *
request
ªª* 1
,
ªª1 2
nameof
ªª3 9
(
ªª9 :
request
ªª: A
)
ªªA B
)
ªªB C
;
ªªC D
try
ΩΩ 
{
ææ 	
var
øø 

parameters
øø 
=
øø '
CreateDebitListParameters
øø 6
(
øø6 7
request
øø7 >
)
øø> ?
;
øø? @
const
¿¿ 
string
¿¿ 
sql
¿¿ 
=
¿¿ 
$str
¿∆ 
;
∆∆ 
return
»» 
await
»» 
Context
»»  
.
»»  !!
InvoicesSpResponses
»»! 4
.
…… 

FromSqlRaw
…… 
(
…… 
sql
…… 
,
……  

parameters
……! +
.
……+ ,
ToArray
……, 3
(
……3 4
)
……4 5
)
……5 6
.
   
AsNoTracking
   
(
   
)
   
.
ÀÀ !
FirstOrDefaultAsync
ÀÀ $
(
ÀÀ$ %
)
ÀÀ% &
;
ÀÀ& '
}
ÃÃ 	
catch
ÕÕ 
(
ÕÕ 
	Exception
ÕÕ 
ex
ÕÕ 
)
ÕÕ 
{
ŒŒ 	
throw
œœ 
new
œœ 
	Exception
œœ 
(
œœ  
$str
œœ  W
,
œœW X
ex
œœY [
)
œœ[ \
;
œœ\ ]
}
–– 	
}
—— 
private
”” 
	DataTable
”” '
ConvertToWalletsDataTable
”” /
(
””/ 0
Wallet
””0 6
[
””6 7
]
””7 8
requests
””9 A
)
””A B
{
‘‘ 
var
’’ 
today
’’ 
=
’’ 
DateTime
’’ 
.
’’ 
Now
’’  
;
’’  !
var
÷÷ 
	dataTable
÷÷ 
=
÷÷ 
new
÷÷ 
	DataTable
÷÷ %
(
÷÷% &
)
÷÷& '
;
÷÷' (
	dataTable
◊◊ 
.
◊◊ 
Columns
◊◊ 
.
◊◊ 
Add
◊◊ 
(
◊◊ 
$str
◊◊ +
,
◊◊+ ,
typeof
◊◊- 3
(
◊◊3 4
int
◊◊4 7
)
◊◊7 8
)
◊◊8 9
;
◊◊9 :
	dataTable
ÿÿ 
.
ÿÿ 
Columns
ÿÿ 
.
ÿÿ 
Add
ÿÿ 
(
ÿÿ 
$str
ÿÿ &
,
ÿÿ& '
typeof
ÿÿ( .
(
ÿÿ. /
int
ÿÿ/ 2
)
ÿÿ2 3
)
ÿÿ3 4
;
ÿÿ4 5
	dataTable
ŸŸ 
.
ŸŸ 
Columns
ŸŸ 
.
ŸŸ 
Add
ŸŸ 
(
ŸŸ 
$str
ŸŸ &
,
ŸŸ& '
typeof
ŸŸ( .
(
ŸŸ. /
decimal
ŸŸ/ 6
)
ŸŸ6 7
)
ŸŸ7 8
;
ŸŸ8 9
	dataTable
⁄⁄ 
.
⁄⁄ 
Columns
⁄⁄ 
.
⁄⁄ 
Add
⁄⁄ 
(
⁄⁄ 
$str
⁄⁄ %
,
⁄⁄% &
typeof
⁄⁄' -
(
⁄⁄- .
decimal
⁄⁄. 5
)
⁄⁄5 6
)
⁄⁄6 7
;
⁄⁄7 8
	dataTable
€€ 
.
€€ 
Columns
€€ 
.
€€ 
Add
€€ 
(
€€ 
$str
€€ (
,
€€( )
typeof
€€* 0
(
€€0 1
decimal
€€1 8
)
€€8 9
)
€€9 :
;
€€: ;
	dataTable
‹‹ 
.
‹‹ 
Columns
‹‹ 
.
‹‹ 
Add
‹‹ 
(
‹‹ 
$str
‹‹ &
,
‹‹& '
typeof
‹‹( .
(
‹‹. /
bool
‹‹/ 3
)
‹‹3 4
)
‹‹4 5
;
‹‹5 6
	dataTable
›› 
.
›› 
Columns
›› 
.
›› 
Add
›› 
(
›› 
$str
›› '
,
››' (
typeof
››) /
(
››/ 0
string
››0 6
)
››6 7
)
››7 8
;
››8 9
	dataTable
ﬁﬁ 
.
ﬁﬁ 
Columns
ﬁﬁ 
.
ﬁﬁ 
Add
ﬁﬁ 
(
ﬁﬁ 
$str
ﬁﬁ '
,
ﬁﬁ' (
typeof
ﬁﬁ) /
(
ﬁﬁ/ 0
int
ﬁﬁ0 3
)
ﬁﬁ3 4
)
ﬁﬁ4 5
;
ﬁﬁ5 6
	dataTable
ﬂﬂ 
.
ﬂﬂ 
Columns
ﬂﬂ 
.
ﬂﬂ 
Add
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ $
,
ﬂﬂ$ %
typeof
ﬂﬂ& ,
(
ﬂﬂ, -
DateTime
ﬂﬂ- 5
)
ﬂﬂ5 6
)
ﬂﬂ6 7
;
ﬂﬂ7 8
	dataTable
‡‡ 
.
‡‡ 
Columns
‡‡ 
.
‡‡ 
Add
‡‡ 
(
‡‡ 
$str
‡‡ +
,
‡‡+ ,
typeof
‡‡- 3
(
‡‡3 4
bool
‡‡4 8
)
‡‡8 9
)
‡‡9 :
;
‡‡: ;
	dataTable
·· 
.
·· 
Columns
·· 
.
·· 
Add
·· 
(
·· 
$str
·· &
,
··& '
typeof
··( .
(
··. /
string
··/ 5
)
··5 6
)
··6 7
;
··7 8
	dataTable
‚‚ 
.
‚‚ 
Columns
‚‚ 
.
‚‚ 
Add
‚‚ 
(
‚‚ 
$str
‚‚ )
,
‚‚) *
typeof
‚‚+ 1
(
‚‚1 2
DateTime
‚‚2 :
)
‚‚: ;
)
‚‚; <
;
‚‚< =
	dataTable
„„ 
.
„„ 
Columns
„„ 
.
„„ 
Add
„„ 
(
„„ 
$str
„„ )
,
„„) *
typeof
„„+ 1
(
„„1 2
DateTime
„„2 :
)
„„: ;
)
„„; <
;
„„< =
	dataTable
‰‰ 
.
‰‰ 
Columns
‰‰ 
.
‰‰ 
Add
‰‰ 
(
‰‰ 
$str
‰‰ )
,
‰‰) *
typeof
‰‰+ 1
(
‰‰1 2
DateTime
‰‰2 :
)
‰‰: ;
)
‰‰; <
;
‰‰< =
	dataTable
ÂÂ 
.
ÂÂ 
Columns
ÂÂ 
.
ÂÂ 
Add
ÂÂ 
(
ÂÂ 
$str
ÂÂ 1
,
ÂÂ1 2
typeof
ÂÂ3 9
(
ÂÂ9 :
string
ÂÂ: @
)
ÂÂ@ A
)
ÂÂA B
;
ÂÂB C
	dataTable
ÊÊ 
.
ÊÊ 
Columns
ÊÊ 
.
ÊÊ 
Add
ÊÊ 
(
ÊÊ 
$str
ÊÊ -
,
ÊÊ- .
typeof
ÊÊ/ 5
(
ÊÊ5 6
string
ÊÊ6 <
)
ÊÊ< =
)
ÊÊ= >
;
ÊÊ> ?
	dataTable
ÁÁ 
.
ÁÁ 
Columns
ÁÁ 
.
ÁÁ 
Add
ÁÁ 
(
ÁÁ 
$str
ÁÁ +
,
ÁÁ+ ,
typeof
ÁÁ- 3
(
ÁÁ3 4
string
ÁÁ4 :
)
ÁÁ: ;
)
ÁÁ; <
;
ÁÁ< =
foreach
ÈÈ 
(
ÈÈ 
var
ÈÈ 
request
ÈÈ 
in
ÈÈ 
requests
ÈÈ  (
)
ÈÈ( )
{
ÍÍ 	
	dataTable
ÎÎ 
.
ÎÎ 
Rows
ÎÎ 
.
ÎÎ 
Add
ÎÎ 
(
ÎÎ 
request
ÎÎ &
.
ÎÎ& '
AffiliateId
ÎÎ' 2
,
ÎÎ2 3
request
ÎÎ4 ;
.
ÎÎ; <
UserId
ÎÎ< B
,
ÎÎB C
$num
ÎÎD E
,
ÎÎE F
request
ÎÎG N
.
ÎÎN O
Debit
ÎÎO T
,
ÎÎT U
$num
ÎÎV W
,
ÎÎW X
true
ÎÎY ]
,
ÎÎ] ^
request
ÏÏ 
.
ÏÏ 
Concept
ÏÏ 
,
ÏÏ  
null
ÏÏ! %
,
ÏÏ% &
today
ÏÏ' ,
,
ÏÏ, -
false
ÏÏ. 3
,
ÏÏ3 4
$str
ÏÏ5 7
,
ÏÏ7 8
today
ÏÏ9 >
,
ÏÏ> ?
today
ÌÌ 
,
ÌÌ 
null
ÌÌ 
,
ÌÌ 
request
ÌÌ $
.
ÌÌ$ %
AffiliateUserName
ÌÌ% 6
,
ÌÌ6 7
request
ÌÌ8 ?
.
ÌÌ? @
AdminUserName
ÌÌ@ M
,
ÌÌM N
request
ÓÓ 
.
ÓÓ 
ConceptType
ÓÓ #
)
ÓÓ# $
;
ÓÓ$ %
}
ÔÔ 	
return
ÒÒ 
	dataTable
ÒÒ 
;
ÒÒ 
}
ÚÚ 
public
ÙÙ 

async
ÙÙ 
Task
ÙÙ 
<
ÙÙ 
bool
ÙÙ 
>
ÙÙ 0
"BulkAdministrativeDebitTransaction
ÙÙ >
(
ÙÙ> ?
Wallet
ÙÙ? E
[
ÙÙE F
]
ÙÙF G
requests
ÙÙH P
)
ÙÙP Q
{
ıı 
try
ˆˆ 
{
˜˜ 	
await
¯¯ 
using
¯¯ 
var
¯¯ 
sql
¯¯ 
=
¯¯  !
new
¯¯" %
SqlConnection
¯¯& 3
(
¯¯3 4
_appSettings
¯¯4 @
.
¯¯@ A
ConnectionStrings
¯¯A R
?
¯¯R S
.
¯¯S T"
PostgreSqlConnection
¯¯T h
)
¯¯h i
;
¯¯i j
await
˘˘ 
using
˘˘ 
var
˘˘ 
cmd
˘˘ 
=
˘˘  !
new
˘˘" %

SqlCommand
˘˘& 0
(
˘˘0 1
	Constants
˘˘1 :
.
˘˘: ;'
BulkAdministrativeDebitSp
˘˘; T
,
˘˘T U
sql
˘˘V Y
)
˘˘Y Z
;
˘˘Z [
var
˚˚ 
walletsDataTable
˚˚  
=
˚˚! "'
ConvertToWalletsDataTable
˚˚# <
(
˚˚< =
requests
˚˚= E
)
˚˚E F
;
˚˚F G
cmd
˝˝ 
.
˝˝ 
CommandType
˝˝ 
=
˝˝ 
CommandType
˝˝ )
.
˝˝) *
StoredProcedure
˝˝* 9
;
˝˝9 :
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ 
.
˛˛ 
Add
˛˛ 
(
˛˛ 
new
˛˛ "
SqlParameter
˛˛# /
(
˛˛/ 0
$str
˛˛0 >
,
˛˛> ?
	SqlDbType
˛˛@ I
.
˛˛I J

Structured
˛˛J T
)
˛˛T U
{
ˇˇ 
Value
ÄÄ 
=
ÄÄ 
walletsDataTable
ÄÄ (
,
ÄÄ( )
TypeName
ÅÅ 
=
ÅÅ 
$str
ÅÅ +
}
ÇÇ 
)
ÇÇ 
;
ÇÇ 
SqlParameter
ÑÑ 
successParameter
ÑÑ )
=
ÑÑ* +
new
ÑÑ, /
SqlParameter
ÑÑ0 <
(
ÑÑ< =
$str
ÑÑ= G
,
ÑÑG H
	SqlDbType
ÑÑI R
.
ÑÑR S
Bit
ÑÑS V
)
ÑÑV W
{
ÖÖ 
	Direction
ÜÜ 
=
ÜÜ  
ParameterDirection
ÜÜ .
.
ÜÜ. /
Output
ÜÜ/ 5
}
áá 
;
áá 
cmd
àà 
.
àà 

Parameters
àà 
.
àà 
Add
àà 
(
àà 
successParameter
àà /
)
àà/ 0
;
àà0 1
await
ää 
sql
ää 
.
ää 
	OpenAsync
ää 
(
ää  
)
ää  !
;
ää! "
await
ãã 
cmd
ãã 
.
ãã "
ExecuteNonQueryAsync
ãã *
(
ãã* +
)
ãã+ ,
;
ãã, -
var
çç 
	isSuccess
çç 
=
çç 
(
çç 
bool
çç !
)
çç! "
successParameter
çç" 2
.
çç2 3
Value
çç3 8
;
çç8 9
await
èè 
sql
èè 
.
èè 

CloseAsync
èè  
(
èè  !
)
èè! "
;
èè" #
return
ëë 
	isSuccess
ëë 
;
ëë 
}
íí 	
catch
ìì 
(
ìì 
	Exception
ìì 
e
ìì 
)
ìì 
{
îî 	
Console
ïï 
.
ïï 
	WriteLine
ïï 
(
ïï 
e
ïï 
)
ïï  
;
ïï  !
throw
ññ 
;
ññ 
}
óó 	
}
òò 
public
öö 

Task
öö 
TransactionPoints
öö !
(
öö! "
int
öö" %
affiliateId
öö& 1
,
öö1 2
decimal
öö3 :
	debitLeft
öö; D
,
ööD E
decimal
ööF M

debitRight
ööN X
,
ööX Y
decimal
ööZ a

creditLeft
ööb l
,
ööl m
decimal
õõ 
creditRight
õõ 
)
õõ 
{
úú 
var
ûû 
debit
ûû 
=
ûû 
new
ûû  
ModelFourStatistic
ûû *
(
ûû* +
)
ûû+ ,
{
üü 	
AffiliateId
†† 
=
†† 
affiliateId
†† %
,
††% &
Concept
°° 
=
°° 
string
°° 
.
°° 
Empty
°° "
,
°°" # 
AffiliateNetworkId
¢¢ 
=
¢¢  
affiliateId
¢¢! ,
,
¢¢, -
	DebitLeft
££ 
=
££ 
	debitLeft
££ !
,
££! "

DebitRight
§§ 
=
§§ 

debitRight
§§ #
,
§§# $

CreditLeft
•• 
=
•• 

creditLeft
•• #
,
••# $
CreditRight
¶¶ 
=
¶¶ 
creditRight
¶¶ %
,
¶¶% &
Compression
ßß 
=
ßß 
false
ßß 
,
ßß  
Date
®® 
=
®® 
DateTime
®® 
.
®® 
Now
®® 
,
®®  
	InvoiceId
©© 
=
©© 
$num
©© 
}
™™ 	
;
™™	 

Context
´´ 
.
´´ !
ModelFourStatistics
´´ #
.
´´# $
Add
´´$ '
(
´´' (
debit
´´( -
)
´´- .
;
´´. /
return
¨¨ 
Context
¨¨ 
.
¨¨ 
SaveChangesAsync
¨¨ '
(
¨¨' (
)
¨¨( )
;
¨¨) *
}
≠≠ 
public
ØØ 

Task
ØØ 
<
ØØ 
decimal
ØØ 
?
ØØ 
>
ØØ $
GetTotalServiceBalance
ØØ 0
(
ØØ0 1
int
ØØ1 4
affiliateId
ØØ5 @
,
ØØ@ A
long
ØØB F
brandId
ØØG N
)
ØØN O
{
∞∞ 
return
±± 
Context
±± 
.
±± "
WalletsServiceModel2
±± +
.
≤≤ 
Where
≤≤ 
(
≤≤ 
x
≤≤ 
=>
≤≤ 
x
≤≤ 
.
≤≤ 
AffiliateId
≤≤ %
==
≤≤& (
affiliateId
≤≤) 4
&&
≤≤5 7
x
≤≤8 9
.
≤≤9 :
BrandId
≤≤: A
==
≤≤B D
brandId
≤≤E L
)
≤≤L M
.
≥≥ 
Select
≥≥ 
(
≥≥ 
s
≥≥ 
=>
≥≥ 
s
≥≥ 
.
≥≥ 
Credit
≥≥ !
-
≥≥" #
s
≥≥$ %
.
≥≥% &
Debit
≥≥& +
)
≥≥+ ,
.
¥¥ 
SumAsync
¥¥ 
(
¥¥ 
)
¥¥ 
;
¥¥ 
}
µµ 
public
∑∑ 

async
∑∑ 
Task
∑∑ 
<
∑∑  
InvoicesSpResponse
∑∑ (
?
∑∑( )
>
∑∑) *,
DebitServiceBalanceTransaction
∑∑+ I
(
∑∑I J%
DebitTransactionRequest
∑∑J a
request
∑∑b i
)
∑∑i j
{
∏∏ 
try
ππ 
{
∫∫ 	
await
ªª 
using
ªª 
var
ªª 
sql
ªª 
=
ªª  !
new
ªª" %
SqlConnection
ªª& 3
(
ªª3 4
_appSettings
ªª4 @
.
ªª@ A
ConnectionStrings
ªªA R
?
ªªR S
.
ªªS T"
PostgreSqlConnection
ªªT h
)
ªªh i
;
ªªi j
await
ºº 
using
ºº 
var
ºº 
cmd
ºº 
=
ºº  !
new
ºº" %

SqlCommand
ºº& 0
(
ºº0 1
	Constants
ºº1 :
.
ºº: ;5
'DebitEcoPoolTransactionServiceSpModel1B
ºº; b
,
ººb c
sql
ººd g
)
ººg h
;
ººh i
var
ææ 
invoicesDetails
ææ 
=
ææ  !
CommonExtensions
ææ" 2
.
ææ2 3 
ConvertToDataTable
ææ3 E
(
ææE F
request
ææF M
.
ææM N
invoices
ææN V
)
ææV W
;
ææW X5
'CreateDebitServiceBalanceListParameters
¿¿ 3
(
¿¿3 4
request
¿¿4 ;
,
¿¿; <
invoicesDetails
¿¿= L
,
¿¿L M
cmd
¿¿N Q
)
¿¿Q R
;
¿¿R S
await
¬¬ 
sql
¬¬ 
.
¬¬ 
	OpenAsync
¬¬ 
(
¬¬  
)
¬¬  !
;
¬¬! "
await
√√ 
using
√√ 
var
√√ 
oReader
√√ #
=
√√$ %
await
√√& +
cmd
√√, /
.
√√/ 0 
ExecuteReaderAsync
√√0 B
(
√√B C
)
√√C D
;
√√D E
var
ƒƒ 
dd
ƒƒ 
=
ƒƒ 
oReader
ƒƒ 
.
ƒƒ 
ToDynamicList
ƒƒ *
(
ƒƒ* +
)
ƒƒ+ ,
;
ƒƒ, -
var
≈≈ 

jsonString
≈≈ 
=
≈≈ 
dd
≈≈ 
.
≈≈  
FirstOrDefault
≈≈  .
(
≈≈. /
)
≈≈/ 0
!
≈≈0 1
.
≈≈1 2
ToJsonString
≈≈2 >
(
≈≈> ?
)
≈≈? @
;
≈≈@ A
var
∆∆ 
response
∆∆ 
=
∆∆ 

jsonString
∆∆ %
.
∆∆% &
ToJsonObject
∆∆& 2
<
∆∆2 3 
InvoicesSpResponse
∆∆3 E
>
∆∆E F
(
∆∆F G
)
∆∆G H
;
∆∆H I
await
…… 
sql
…… 
.
…… 

CloseAsync
……  
(
……  !
)
……! "
;
……" #
return
ÀÀ 
response
ÀÀ 
;
ÀÀ 
}
ÃÃ 	
catch
ÕÕ 
(
ÕÕ 
	Exception
ÕÕ 
e
ÕÕ 
)
ÕÕ 
{
ŒŒ 	
Console
œœ 
.
œœ 
	WriteLine
œœ 
(
œœ 
e
œœ 
)
œœ  
;
œœ  !
throw
–– 
;
–– 
}
—— 	
}
““ 
public
‘‘ 

Task
‘‘ 
<
‘‘  
InvoicesSpResponse
‘‘ "
?
‘‘" #
>
‘‘# $5
'DebitServiceBalanceEcoPoolTransactionSp
‘‘% L
(
‘‘L M%
DebitTransactionRequest
‘‘M d
request
‘‘e l
)
‘‘l m
{
’’ 
throw
÷÷ 
new
÷÷ %
NotImplementedException
÷÷ )
(
÷÷) *
)
÷÷* +
;
÷÷+ ,
}
◊◊ 
public
ŸŸ 

Task
ŸŸ 
<
ŸŸ 
bool
ŸŸ 
>
ŸŸ -
CreditServiceBalanceTransaction
ŸŸ 5
(
ŸŸ5 6&
CreditTransactionRequest
ŸŸ6 N
request
ŸŸO V
)
ŸŸV W
{
⁄⁄ 
throw
€€ 
new
€€ %
NotImplementedException
€€ )
(
€€) *
)
€€* +
;
€€+ ,
}
‹‹ 
private
ﬂﬂ 
void
ﬂﬂ 5
'CreateDebitServiceBalanceListParameters
ﬂﬂ 8
(
ﬂﬂ8 9%
DebitTransactionRequest
ﬂﬂ9 P
request
ﬂﬂQ X
,
ﬂﬂX Y
	DataTable
ﬂﬂZ c
dataTableDetails
ﬂﬂd t
,
ﬂﬂt u

SqlCommand
‡‡ 
cmd
‡‡ 
)
‡‡ 
{
·· 
cmd
‚‚ 
.
‚‚ 
CommandType
‚‚ 
=
‚‚ 
CommandType
‚‚ %
.
‚‚% &
StoredProcedure
‚‚& 5
;
‚‚5 6
cmd
„„ 
.
„„ 

Parameters
„„ 
.
„„ 
Add
„„ 
(
„„ 
new
„„ 
SqlParameter
„„ +
(
„„+ ,
$str
„„, :
,
„„: ;
	SqlDbType
„„< E
.
„„E F
Int
„„F I
)
„„I J
{
‰‰ 	
Value
ÂÂ 
=
ÂÂ 
request
ÂÂ 
.
ÂÂ 
AffiliateId
ÂÂ '
}
ÊÊ 	
)
ÊÊ	 

;
ÊÊ
 
cmd
ËË 
.
ËË 

Parameters
ËË 
.
ËË 
Add
ËË 
(
ËË 
new
ËË 
SqlParameter
ËË +
(
ËË+ ,
$str
ËË, 5
,
ËË5 6
	SqlDbType
ËË7 @
.
ËË@ A
Int
ËËA D
)
ËËD E
{
ÈÈ 	
Value
ÍÍ 
=
ÍÍ 
request
ÍÍ 
.
ÍÍ 
UserId
ÍÍ "
}
ÎÎ 	
)
ÎÎ	 

;
ÎÎ
 
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ 
.
ÌÌ 
Add
ÌÌ 
(
ÌÌ 
new
ÌÌ 
SqlParameter
ÌÌ +
(
ÌÌ+ ,
$str
ÌÌ, 6
,
ÌÌ6 7
	SqlDbType
ÌÌ8 A
.
ÌÌA B
VarChar
ÌÌB I
)
ÌÌI J
{
ÓÓ 	
Value
ÔÔ 
=
ÔÔ 
request
ÔÔ 
.
ÔÔ 
Concept
ÔÔ #
,
ÔÔ# $
Size
 
=
 
$num
 
}
ÒÒ 	
)
ÒÒ	 

;
ÒÒ
 
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ 
.
ÛÛ 
Add
ÛÛ 
(
ÛÛ 
new
ÛÛ 
SqlParameter
ÛÛ +
(
ÛÛ+ ,
$str
ÛÛ, =
,
ÛÛ= >
	SqlDbType
ÛÛ? H
.
ÛÛH I
Decimal
ÛÛI P
)
ÛÛP Q
{
ÙÙ 	
Value
ıı 
=
ıı 
request
ıı 
.
ıı 
Commissionable
ıı *
}
ˆˆ 	
)
ˆˆ	 

;
ˆˆ
 
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ 
.
¯¯ 
Add
¯¯ 
(
¯¯ 
new
¯¯ 
SqlParameter
¯¯ +
(
¯¯+ ,
$str
¯¯, 3
,
¯¯3 4
	SqlDbType
¯¯5 >
.
¯¯> ?
VarChar
¯¯? F
)
¯¯F G
{
˘˘ 	
Value
˙˙ 
=
˙˙ 
string
˙˙ 
.
˙˙ 
IsNullOrEmpty
˙˙ (
(
˙˙( )
request
˙˙) 0
.
˙˙0 1
Bank
˙˙1 5
)
˙˙5 6
?
˙˙7 8
null
˙˙9 =
:
˙˙> ?
request
˙˙@ G
.
˙˙G H
Bank
˙˙H L
,
˙˙L M

IsNullable
˚˚ 
=
˚˚ 
true
˚˚ 
,
˚˚ 
Size
¸¸ 
=
¸¸ 
$num
¸¸ 
}
˝˝ 	
)
˝˝	 

;
˝˝
 
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ 
.
ˇˇ 
Add
ˇˇ 
(
ˇˇ 
new
ˇˇ 
SqlParameter
ˇˇ +
(
ˇˇ+ ,
$str
ˇˇ, <
,
ˇˇ< =
	SqlDbType
ˇˇ> G
.
ˇˇG H
VarChar
ˇˇH O
)
ˇˇO P
{
Ä	Ä	 	
Value
Å	Å	 
=
Å	Å	 
request
Å	Å	 
.
Å	Å	 
PaymentMethod
Å	Å	 )
,
Å	Å	) *
Size
Ç	Ç	 
=
Ç	Ç	 
$num
Ç	Ç	 
}
É	É	 	
)
É	É		 

;
É	É	
 
cmd
Ö	Ö	 
.
Ö	Ö	 

Parameters
Ö	Ö	 
.
Ö	Ö	 
Add
Ö	Ö	 
(
Ö	Ö	 
new
Ö	Ö	 
SqlParameter
Ö	Ö	 +
(
Ö	Ö	+ ,
$str
Ö	Ö	, 4
,
Ö	Ö	4 5
	SqlDbType
Ö	Ö	6 ?
.
Ö	Ö	? @
Decimal
Ö	Ö	@ G
)
Ö	Ö	G H
{
Ü	Ü	 	
Value
á	á	 
=
á	á	 
request
á	á	 
.
á	á	 
Debit
á	á	 !
}
à	à	 	
)
à	à		 

;
à	à	
 
cmd
ä	ä	 
.
ä	ä	 

Parameters
ä	ä	 
.
ä	ä	 
Add
ä	ä	 
(
ä	ä	 
new
ä	ä	 
SqlParameter
ä	ä	 +
(
ä	ä	+ ,
$str
ä	ä	, @
,
ä	ä	@ A
	SqlDbType
ä	ä	B K
.
ä	ä	K L
VarChar
ä	ä	L S
)
ä	ä	S T
{
ã	ã	 	
Value
å	å	 
=
å	å	 
request
å	å	 
.
å	å	 
AffiliateUserName
å	å	 -
,
å	å	- .
Size
ç	ç	 
=
ç	ç	 
$num
ç	ç	 
}
é	é	 	
)
é	é		 

;
é	é	
 
cmd
ë	ë	 
.
ë	ë	 

Parameters
ë	ë	 
.
ë	ë	 
Add
ë	ë	 
(
ë	ë	 
new
ë	ë	 
SqlParameter
ë	ë	 +
(
ë	ë	+ ,
$str
ë	ë	, <
,
ë	ë	< =
	SqlDbType
ë	ë	> G
.
ë	ë	G H
VarChar
ë	ë	H O
)
ë	ë	O P
{
í	í	 	
Value
ì	ì	 
=
ì	ì	 
string
ì	ì	 
.
ì	ì	 
IsNullOrEmpty
ì	ì	 (
(
ì	ì	( )
request
ì	ì	) 0
.
ì	ì	0 1
ReceiptNumber
ì	ì	1 >
)
ì	ì	> ?
?
ì	ì	@ A
null
ì	ì	B F
:
ì	ì	G H
request
ì	ì	I P
.
ì	ì	P Q
ReceiptNumber
ì	ì	Q ^
,
ì	ì	^ _

IsNullable
î	î	 
=
î	î	 
true
î	î	 
,
î	î	 
Size
ï	ï	 
=
ï	ï	 
$num
ï	ï	 
}
ñ	ñ	 	
)
ñ	ñ		 

;
ñ	ñ	
 
cmd
ò	ò	 
.
ò	ò	 

Parameters
ò	ò	 
.
ò	ò	 
Add
ò	ò	 
(
ò	ò	 
new
ò	ò	 
SqlParameter
ò	ò	 +
(
ò	ò	+ ,
$str
ò	ò	, 3
,
ò	ò	3 4
	SqlDbType
ò	ò	5 >
.
ò	ò	> ?
Bit
ò	ò	? B
)
ò	ò	B C
{
ô	ô	 	
Value
ö	ö	 
=
ö	ö	 
request
ö	ö	 
.
ö	ö	 
Type
ö	ö	  
}
õ	õ	 	
)
õ	õ		 

;
õ	õ	
 
cmd
ù	ù	 
.
ù	ù	 

Parameters
ù	ù	 
.
ù	ù	 
Add
ù	ù	 
(
ù	ù	 
new
ù	ù	 
SqlParameter
ù	ù	 +
(
ù	ù	+ ,
$str
ù	ù	, 8
,
ù	ù	8 9
	SqlDbType
ù	ù	: C
.
ù	ù	C D
VarChar
ù	ù	D K
)
ù	ù	K L
{
û	û	 	
Value
ü	ü	 
=
ü	ü	 
string
ü	ü	 
.
ü	ü	 
IsNullOrEmpty
ü	ü	 (
(
ü	ü	( )
request
ü	ü	) 0
.
ü	ü	0 1
	SecretKey
ü	ü	1 :
)
ü	ü	: ;
?
ü	ü	< =
null
ü	ü	> B
:
ü	ü	C D
request
ü	ü	E L
.
ü	ü	L M
	SecretKey
ü	ü	M V
,
ü	ü	V W

IsNullable
†	†	 
=
†	†	 
true
†	†	 
,
†	†	 
Size
°	°	 
=
°	°	 
$num
°	°	 
}
¢	¢	 	
)
¢	¢		 

;
¢	¢	
 
cmd
§	§	 
.
§	§	 

Parameters
§	§	 
.
§	§	 
Add
§	§	 
(
§	§	 
new
§	§	 
SqlParameter
§	§	 +
(
§	§	+ ,
$str
§	§	, >
,
§	§	> ?
	SqlDbType
§	§	@ I
.
§	§	I J

Structured
§	§	J T
)
§	§	T U
{
•	•	 	
Value
¶	¶	 
=
¶	¶	 
dataTableDetails
¶	¶	 $
,
¶	¶	$ %
TypeName
ß	ß	 
=
ß	ß	 
$str
ß	ß	 0
}
®	®	 	
)
®	®		 

;
®	®	
 
}
©	©	 
public
´	´	 

async
´	´	 
Task
´	´	 
<
´	´	 
bool
´	´	 
>
´	´	 3
%DistributeCommissionsPerPurchaseAsync
´	´	 A
(
´	´	A B*
DistributeCommissionsRequest
´	´	B ^
request
´	´	_ f
)
´	´	f g
{
¨	¨	 
try
≠	≠	 
{
Æ	Æ	 	
await
Ø	Ø	 
using
Ø	Ø	 
var
Ø	Ø	 
sqlConnection
Ø	Ø	 )
=
Ø	Ø	* +
new
Ø	Ø	, /
NpgsqlConnection
Ø	Ø	0 @
(
Ø	Ø	@ A
_appSettings
Ø	Ø	A M
.
Ø	Ø	M N
ConnectionStrings
Ø	Ø	N _
?
Ø	Ø	_ `
.
Ø	Ø	` a"
PostgreSqlConnection
Ø	Ø	a u
)
Ø	Ø	u v
;
Ø	Ø	v w
await
±	±	 
using
±	±	 
var
±	±	 
cmd
±	±	 
=
±	±	  !
new
≤	≤	 
NpgsqlCommand
≤	≤	 !
(
≤	≤	! "
$str≥	≥	 ö
,≥	≥	ö õ
sqlConnection
¥	¥	 !
)
¥	¥	! "
;
¥	¥	" #
cmd
∂	∂	 
.
∂	∂	 

Parameters
∂	∂	 
.
∂	∂	 
Add
∂	∂	 
(
∂	∂	 
new
∂	∂	 "
NpgsqlParameter
∂	∂	# 2
(
∂	∂	2 3
$str
∂	∂	3 A
,
∂	∂	A B
NpgsqlDbType
∂	∂	C O
.
∂	∂	O P
Integer
∂	∂	P W
)
∂	∂	W X
{
∑	∑	 
Value
∏	∏	 
=
∏	∏	 
request
∏	∏	 
.
∏	∏	  
AffiliateId
∏	∏	  +
}
π	π	 
)
π	π	 
;
π	π	 
cmd
ª	ª	 
.
ª	ª	 

Parameters
ª	ª	 
.
ª	ª	 
Add
ª	ª	 
(
ª	ª	 
new
ª	ª	 "
NpgsqlParameter
ª	ª	# 2
(
ª	ª	2 3
$str
ª	ª	3 C
,
ª	ª	C D
NpgsqlDbType
ª	ª	E Q
.
ª	ª	Q R
Numeric
ª	ª	R Y
)
ª	ª	Y Z
{
º	º	 
Value
Ω	Ω	 
=
Ω	Ω	 
request
Ω	Ω	 
.
Ω	Ω	  
InvoiceAmount
Ω	Ω	  -
}
æ	æ	 
)
æ	æ	 
;
æ	æ	 
cmd
¿	¿	 
.
¿	¿	 

Parameters
¿	¿	 
.
¿	¿	 
Add
¿	¿	 
(
¿	¿	 
new
¿	¿	 "
NpgsqlParameter
¿	¿	# 2
(
¿	¿	2 3
$str
¿	¿	3 =
,
¿	¿	= >
NpgsqlDbType
¿	¿	? K
.
¿	¿	K L
Integer
¿	¿	L S
)
¿	¿	S T
{
¡	¡	 
Value
¬	¬	 
=
¬	¬	 
request
¬	¬	 
.
¬	¬	  
BrandId
¬	¬	  '
}
√	√	 
)
√	√	 
;
√	√	 
cmd
≈	≈	 
.
≈	≈	 

Parameters
≈	≈	 
.
≈	≈	 
Add
≈	≈	 
(
≈	≈	 
new
≈	≈	 "
NpgsqlParameter
≈	≈	# 2
(
≈	≈	2 3
$str
≈	≈	3 C
,
≈	≈	C D
NpgsqlDbType
≈	≈	E Q
.
≈	≈	Q R
Varchar
≈	≈	R Y
)
≈	≈	Y Z
{
∆	∆	 
Value
«	«	 
=
«	«	 
request
«	«	 
.
«	«	  
AdminUserName
«	«	  -
}
»	»	 
)
»	»	 
;
»	»	 
var
 	 	 #
levelPercentagesParam
 	 	 %
=
 	 	& '
new
À	À	 
NpgsqlParameter
À	À	 #
(
À	À	# $
$str
À	À	$ 7
,
À	À	7 8
NpgsqlDbType
À	À	9 E
.
À	À	E F
Array
À	À	F K
|
À	À	L M
NpgsqlDbType
À	À	N Z
.
À	À	Z [
Numeric
À	À	[ b
)
À	À	b c
{
Ã	Ã	 
Value
Õ	Õ	 
=
Õ	Õ	 
request
Õ	Õ	 "
.
Õ	Õ	" #
LevelPercentages
Õ	Õ	# 3
}
Œ	Œ	 
;
Œ	Œ	 
cmd
œ	œ	 
.
œ	œ	 

Parameters
œ	œ	 
.
œ	œ	 
Add
œ	œ	 
(
œ	œ	 #
levelPercentagesParam
œ	œ	 4
)
œ	œ	4 5
;
œ	œ	5 6
await
—	—	 
sqlConnection
—	—	 
.
—	—	  
	OpenAsync
—	—	  )
(
—	—	) *
)
—	—	* +
;
—	—	+ ,
await
“	“	 
cmd
“	“	 
.
“	“	 "
ExecuteNonQueryAsync
“	“	 *
(
“	“	* +
)
“	“	+ ,
;
“	“	, -
await
”	”	 
sqlConnection
”	”	 
.
”	”	  

CloseAsync
”	”	  *
(
”	”	* +
)
”	”	+ ,
;
”	”	, -
return
’	’	 
true
’	’	 
;
’	’	 
}
÷	÷	 	
catch
◊	◊	 
(
◊	◊	 
	Exception
◊	◊	 
e
◊	◊	 
)
◊	◊	 
{
ÿ	ÿ	 	
Console
Ÿ	Ÿ	 
.
Ÿ	Ÿ	 
	WriteLine
Ÿ	Ÿ	 
(
Ÿ	Ÿ	 
e
Ÿ	Ÿ	 
)
Ÿ	Ÿ	  
;
Ÿ	Ÿ	  !
return
⁄	⁄	 
false
⁄	⁄	 
;
⁄	⁄	 
}
€	€	 	
}
‹	‹	 
public
ﬁ	ﬁ	 

async
ﬁ	ﬁ	 
Task
ﬁ	ﬁ	 
<
ﬁ	ﬁ	 
decimal
ﬁ	ﬁ	 
>
ﬁ	ﬁ	 %
GetTotalCommissionsPaid
ﬁ	ﬁ	 6
(
ﬁ	ﬁ	6 7
long
ﬁ	ﬁ	7 ;
brandId
ﬁ	ﬁ	< C
)
ﬁ	ﬁ	C D
=>
ﬂ	ﬂ	 

await
ﬂ	ﬂ	 
Context
ﬂ	ﬂ	 
.
ﬂ	ﬂ	 
Wallets
ﬂ	ﬂ	  
.
‡	‡	 
Where
‡	‡	 
(
‡	‡	 
x
‡	‡	 
=>
‡	‡	 
x
‡	‡	 
.
‡	‡	 
BrandId
‡	‡	 !
==
‡	‡	" $
brandId
‡	‡	% ,
&&
‡	‡	- /
x
·	·	 
.
·	·	 
ConceptType
·	·	 %
==
·	·	& (
WalletConceptType
·	·	) :
.
·	·	: ;&
commission_passed_wallet
·	·	; S
.
·	·	S T
ToString
·	·	T \
(
·	·	\ ]
)
·	·	] ^
&&
·	·	_ a
x
·	·	b c
.
·	·	c d
Status
·	·	d j
==
·	·	k m
true
·	·	n r
)
·	·	r s
.
‚	‚	 
SumAsync
‚	‚	 
(
‚	‚	 
x
‚	‚	 
=>
‚	‚	 
(
‚	‚	 
decimal
‚	‚	 #
)
‚	‚	# $
x
‚	‚	$ %
.
‚	‚	% &
Credit
‚	‚	& ,
!
‚	‚	, -
)
‚	‚	- .
;
‚	‚	. /
}„	„	 √W
VC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletRequestRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public		 
class		 #
WalletRequestRepository		 $
:		% &
BaseRepository		' 5
,		5 6$
IWalletRequestRepository		7 O
{

 
public 
#
WalletRequestRepository "
(" #"
WalletServiceDbContext# 9
context: A
)A B
:C D
baseE I
(I J
contextJ Q
)Q R
{S T
}U V
public 

Task 
< 
List 
< 
WalletsRequest #
># $
>$ %!
GetAllWalletsRequests& ;
(; <
long< @
brandIdA H
)H I
=> 

Context 
. 
WalletsRequests "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
Type0 4
==5 7
WalletRequestType8 I
.I J
withdrawal_requestJ \
.\ ]
ToString] e
(e f
)f g
&&h j
xk l
.l m
Statusm s
==t v
$numw x
&&y {
x| }
.} ~
BrandId	~ Ö
==
Ü à
brandId
â ê
)
ê ë
. 
AsNoTracking 
( 
) 
. 
ToListAsync '
(' (
)( )
;) *
public 

Task 
< 
List 
< 
WalletsRequest #
># $
>$ %0
$GetAllWalletRequestRevertTransaction& J
(J K
longK O
brandIdP W
)W X
=> 

Context 
. 
WalletsRequests "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
Type0 4
==5 7
WalletRequestType8 I
.I J"
revert_invoice_requestJ `
.` a
ToStringa i
(i j
)j k
&&l n
xo p
.p q
BrandIdq x
==y {
brandId	| É
)
É Ñ
. 
AsNoTracking 
( 
) 
. 
ToListAsync '
(' (
)( )
;) *
public 

Task 
< 
List 
< 
WalletsRequest #
># $
>$ %,
 GetAllWalletRequestByAffiliateId& F
(F G
intG J
idK M
)M N
=> 

Context 
. 
WalletsRequests "
." #
Where# (
(( )
x) *
=>+ -
x. /
./ 0
AffiliateId0 ;
==< >
id? A
)A B
.B C
AsNoTrackingC O
(O P
)P Q
.Q R
ToListAsyncR ]
(] ^
)^ _
;_ `
public 

async 
Task 
< 
decimal 
> 4
(GetTotalWalletRequestAmountByAffiliateId G
(G H
intH K
idL N
,N O
longO S
brandIdT [
)[ \
{ 
var 
walletRequests 
= 
await "
Context# *
.* +
WalletsRequests+ :
. 
Where 
( 
x 
=> 
x 
. 
AffiliateId %
==& (
id) +
&&, .
x/ 0
.0 1
Status1 7
==8 :
$num; <
&&= ?
x@ A
.A B
TypeB F
==G I
WalletRequestTypeJ [
.[ \
withdrawal_request\ n
.n o
ToStringo w
(w x
)x y
&&z |
x} ~
.~ 
BrandId	 Ü
==
á â
brandId
ä ë
)
ë í
. 
ToListAsync 
( 
) 
; 
decimal 
totalAmount 
= 
walletRequests ,
., -
Sum- 0
(0 1
x1 2
=>3 5
x6 7
.7 8
Amount8 >
)> ?
;? @
return 
totalAmount 
; 
} 
public!! 
async!! 
Task!! 
<!! 
decimal!! 
>!! '
GetTotalWalletRequestAmount!! 7
(!!7 8
long!!8 <
brandId!!= D
)!!D E
{"" 
var## 
walletRequests## 
=## 
await## 
Context## $
.##$ %
WalletsRequests##% 4
.$$ 
Where$$ 	
($$	 

x$$
 
=>$$ 
x$$ 
.$$ 
Status$$ 
==$$ 
$num$$ 
&&$$ 
x$$  !
.$$! "
Type$$" &
==$$' )
WalletRequestType$$* ;
.$$; <
withdrawal_request$$< N
.$$N O
ToString$$O W
($$W X
)$$X Y
&&$$Z \
x$$] ^
.$$^ _
BrandId$$_ f
==$$g i
brandId$$j q
)$$q r
.%% 
ToListAsync%% 
(%% 
)%% 
;%% 
decimal'' 	
totalAmount''
 
='' 
walletRequests'' &
.''& '
Sum''' *
(''* +
x''+ ,
=>''- /
x''0 1
.''1 2
Amount''2 8
)''8 9
;''9 :
return(( 
totalAmount((	 
;(( 
})) 
public++ 
Task++ 
<++ 
List++ 
<++ 
WalletsRequest++  
>++  !
>++! ""
GetWalletRequestsByIds++# 9
(++9 :
List++: >
<++> ?
long++? C
>++C D
ids++E H
)++H I
=>,, 

Context,, 
.,, 
WalletsRequests,, "
.,," #
Where,,# (
(,,( )
x,,) *
=>,,+ -
ids,,. 1
.,,1 2
Contains,,2 :
(,,: ;
x,,; <
.,,< =
Id,,= ?
),,? @
),,@ A
.,,A B
ToListAsync,,B M
(,,M N
),,N O
;,,O P
public.. 

Task.. 
<.. 
WalletsRequest.. 
?.. 
>..  ,
 GetWalletRequestsByInvoiceNumber..! A
(..A B
int..B E
id..F H
)..H I
=>// 

Context// 
.// 
WalletsRequests// "
.//" #
FirstOrDefaultAsync//# 6
(//6 7
x//7 8
=>//9 ;
x//< =
.//= >
InvoiceNumber//> K
==//L N
id//O Q
)//Q R
;//R S
public11 

async11 
Task11 
<11 
WalletsRequest11 $
?11$ %
>11% &$
CreateWalletRequestAsync11' ?
(11? @
WalletsRequest11@ N
request11O V
)11V W
{22 
var33 
today33 
=33 
DateTime33 
.33 
Now33  
;33  !
request44 
.44 
	CreatedAt44 
=44 
today44 !
;44! "
request55 
.55 
	UpdatedAt55 
=55 
today55 !
;55! "
await77 
Context77 
.77 
AddAsync77 
(77 
request77 &
)77& '
;77' (
await88 
Context88 
.88 
SaveChangesAsync88 &
(88& '
)88' (
;88( )
return:: 
request:: 
;:: 
};; 
public== 

async== 
Task== )
UpdateBulkWalletRequestsAsync== 3
(==3 4
List==4 8
<==8 9
WalletsRequest==9 G
>==G H
requests==I Q
)==Q R
{>> 
const?? 
int?? 
take?? 
=??  
$num??! %
;??% &
var@@ 
packageCount@@ 
=@@  
requests@@! )
.@@) *
Count@@* /
/@@0 1
take@@2 6
;@@6 7
forBB 
(BB 
varBB 
iBB 
=BB 
$numBB 
;BB 
iBB 
<=BB 
packageCountBB )
;BB) *
iBB+ ,
++BB, .
)BB. /
{CC 	
varDD 
packageListDD 
=DD 
requestsDD &
.DD& '
SkipDD' +
(DD+ ,
iDD, -
*DD. /
takeDD0 4
)DD4 5
.DD5 6
TakeDD6 :
(DD: ;
takeDD; ?
)DD? @
.DD@ A
ToListDDA G
(DDG H
)DDH I
;DDI J
ContextEE 
.EE 
WalletsRequestsEE #
.EE# $
UpdateRangeEE$ /
(EE/ 0
packageListEE0 ;
)EE; <
;EE< =
}FF 	
awaitHH 
ContextHH 
.HH 
SaveChangesAsyncHH &
(HH& '
)HH' (
;HH( )
}II 
publicKK 

asyncKK 
TaskKK 
<KK 
WalletsRequestKK $
>KK$ %%
UpdateWalletRequestsAsyncKK& ?
(KK? @
WalletsRequestKK@ N
requestsKKO W
)KKW X
{LL 
varMM 
todayMM 
=MM 
DateTimeMM 
.MM 
NowMM  
;MM  !
requestsNN 
.NN 
	UpdatedAtNN 
=NN 
todayNN "
;NN" #
ContextOO 
.OO 
WalletsRequestsOO 
.OO  
UpdateOO  &
(OO& '
requestsOO' /
)OO/ 0
;OO0 1
awaitPP 
ContextPP 
.PP 
SaveChangesAsyncPP &
(PP& '
)PP' (
;PP( )
returnRR 
requestsRR 
;RR 
}SS 
publicVV 

asyncVV 
TaskVV 
<VV 
WalletsRequestVV $
>VV$ %$
DeleteWalletRequestAsyncVV& >
(VV> ?
WalletsRequestVV? M
requestVVN U
)VVU V
{WW 
requestXX 
.XX 
	DeletedAtXX 
=XX 
DateTimeXX $
.XX$ %
NowXX% (
;XX( )
ContextZZ 
.ZZ 
WalletsRequestsZZ 
.ZZ  
UpdateZZ  &
(ZZ& '
requestZZ' .
)ZZ. /
;ZZ/ 0
await[[ 
Context[[ 
.[[ 
SaveChangesAsync[[ &
([[& '
)[[' (
;[[( )
return]] 
request]] 
;]] 
}^^ 
}__ ö-
^C:\HeroSystem\walletService\WalletService.Data\Repositories\WalletRetentionConfigRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class +
WalletRetentionConfigRepository ,
:- .
BaseRepository/ =
,= >,
 IWalletRetentionConfigRepository? _
{		 
public

 
+
WalletRetentionConfigRepository

 *
(

* +"
WalletServiceDbContext

+ A
context

B I
)

I J
:

K L
base

M Q
(

Q R
context

R Y
)

Y Z
{

[ \
}

] ^
public 

Task 
< 
List 
< #
WalletsRetentionsConfig ,
>, -
>- .(
GetAllWalletsRetentionConfig/ K
(K L
)L M
=> 

Context 
. $
WalletsRetentionsConfigs +
.+ ,
AsNoTracking, 8
(8 9
)9 :
.: ;
ToListAsync; F
(F G
)G H
;H I
public 

Task 
< #
WalletsRetentionsConfig '
?' (
>( )(
GetWalletRetentionConfigById* F
(F G
intG J
idK M
)M N
=> 

Context 
. $
WalletsRetentionsConfigs +
.+ ,
FirstOrDefaultAsync, ?
(? @
x@ A
=>B D
xE F
.F G
IdG I
==J L
idM O
)O P
;P Q
public 

async 
Task 
< 
IEnumerable !
<! "#
WalletsRetentionsConfig" 9
>9 :
>: ;,
 CreateWalletRetentionConfigAsync< \
(\ ]
IEnumerable] h
<h i$
WalletsRetentionsConfig	i Ä
>
Ä Å
request
Ç â
)
â ä
{ 
var 
today 
=# $
DateTime% -
.- .
Now. 1
;1 2
var "
createRetentionConfigs "
=# $
new% (
List) -
<- .#
WalletsRetentionsConfig. E
>E F
(F G
)G H
;H I
foreach 
( 
var 
periodRetention $
in% '
request( /
)/ 0
{ 	
periodRetention 
. 
	CreatedAt %
=& '
today( -
;- .
periodRetention 
. 
	UpdatedAt %
=& '
today( -
;- .
await 
Context 
. 
AddAsync "
(" #
periodRetention# 2
)2 3
;3 4"
createRetentionConfigs "
." #
Add# &
(& '
periodRetention' 6
)6 7
;7 8
} 	
await   
Context   
.   
SaveChangesAsync   &
(  & '
)  ' (
;  ( )
return"" "
createRetentionConfigs"" %
;""% &
}## 
public%% 

async%% 
Task%% 
<%% 
IEnumerable%% !
<%%! "#
WalletsRetentionsConfig%%" 9
>%%9 :
>%%: ;,
 UpdateWalletRetentionConfigAsync%%< \
(%%\ ]
IEnumerable%%] h
<%%h i$
WalletsRetentionsConfig	%%i Ä
>
%%Ä Å
request
%%Ç â
)
%%â ä
{&& 
var'' 
today'' 
=''$ %
DateTime''& .
.''. /
Now''/ 2
;''2 3
var(( #
updatedRetentionConfigs(( #
=(($ %
new((& )
List((* .
<((. /#
WalletsRetentionsConfig((/ F
>((F G
(((G H
)((H I
;((I J
foreach** 
(** 
var** 
periodRetention** $
in**% '
request**( /
)**/ 0
{++ 	
periodRetention,, 
.,, 
	CreatedAt,, %
=,,& '
today,,( -
;,,- .
periodRetention-- 
.-- 
	UpdatedAt-- %
=--& '
today--( -
;--- .
Context// 
.// $
WalletsRetentionsConfigs// ,
.//, -
Update//- 3
(//3 4
periodRetention//4 C
)//C D
;//D E#
updatedRetentionConfigs00 #
.00# $
Add00$ '
(00' (
periodRetention00( 7
)007 8
;008 9
}11 	
await33 
Context33 
.33 
SaveChangesAsync33 &
(33& '
)33' (
;33( )
return55 #
updatedRetentionConfigs55 &
;55& '
}66 
public99 

async99 
Task99 
<99 #
WalletsRetentionsConfig99 -
>99- .,
 DeleteWalletRetentionConfigAsync99/ O
(99O P#
WalletsRetentionsConfig99P g
request99h o
)99o p
{:: 
request;; 
.;; 
	DeletedAt;; 
=;; 
DateTime;; $
.;;$ %
Now;;% (
;;;( )
Context== 
.== $
WalletsRetentionsConfigs== (
.==( )
Update==) /
(==/ 0
request==0 7
)==7 8
;==8 9
await>> 
Context>> 
.>> 
SaveChangesAsync>> &
(>>& '
)>>' (
;>>( )
return@@ 
request@@ 
;@@ 
}AA 
}BB Ô
SC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletWaitRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class  
WalletWaitRepository !
:! "
BaseRepository" 0
,0 1!
IWalletWaitRepository1 F
{		 
public

 
 
WalletWaitRepository

 
(

  "
WalletServiceDbContext

  6
context

7 >
)

> ?
:

@ A
base

B F
(

F G
context

G N
)

N O
{ 
} 
public 

Task 
< 
List 
< 
WalletsWait !
>! "
>" #
GetAllWalletsWaits$ 6
(6 7
)7 8
=> 

Context 
. 
WalletsWaits  
.  !
AsNoTracking! -
(- .
). /
./ 0
ToListAsync0 ;
(; <
)< =
;= >
public 

Task 
< 
WalletsWait 
? 
> 
GetWalletWaitById 0
(0 1
int1 4
id5 7
)7 8
=> 

Context 
. 
WalletsWaits  
.  !
FirstOrDefaultAsync! 4
(4 5
x5 6
=>7 9
x: ;
.; <
Id< >
==? A
idB D
)D E
;E F
public 

async 
Task 
< 
WalletsWait !
>! "!
CreateWalletWaitAsync# 8
(8 9
WalletsWait9 D
requestE L
)L M
{ 
var 
today 
= 
DateTime 
. 
Now  
;  !
request 
. 
	CreatedAt 
= 
today !
;! "
request 
. 
	UpdatedAt 
= 
today !
;! "
await 
Context 
. 
AddAsync 
( 
request &
)& '
;' (
await 
Context 
. 
SaveChangesAsync &
(& '
)' (
;( )
return 
request 
; 
} 
public 

async 
Task 
< 
WalletsWait !
>! "!
UpdateWalletWaitAsync# 8
(8 9
WalletsWait9 D
requestE L
)L M
{   
var!! 
today!! 
=!! 
DateTime!! 
.!! 
Now!!  
;!!  !
request"" 
."" 
	UpdatedAt"" 
="" 
today"" !
;""! "
Context## 
.## 
WalletsWaits## 
.## 
Update## #
(### $
request##$ +
)##+ ,
;##, -
await$$ 
Context$$ 
.$$ 
SaveChangesAsync$$ &
($$& '
)$$' (
;$$( )
return&& 
request&& 
;&& 
}'' 
public)) 

async)) 
Task)) 
<)) 
WalletsWait)) !
>))! "!
DeleteWalletWaitAsync))# 8
())8 9
WalletsWait))9 D
request))E L
)))L M
{** 
request++ 
.++ 
	DeletedAt++ 
=++ 
DateTime++ $
.++$ %
Now++% (
;++( )
Context-- 
.-- 
WalletsWaits-- 
.-- 
Update-- #
(--# $
request--$ +
)--+ ,
;--, -
await.. 
Context.. 
... 
SaveChangesAsync.. &
(..& '
)..' (
;..( )
return00 
request00 
;00 
}11 
}22 Ì 
YC:\HeroSystem\walletService\WalletService.Data\Repositories\WalletWithDrawalRepository.cs
	namespace 	
WalletService
 
. 
Data 
. 
Repositories )
;) *
public 
class &
WalletWithDrawalRepository '
:' (
BaseRepository( 6
,6 7'
IWalletWithDrawalRepository7 R
{		 
public

 
&
WalletWithDrawalRepository

 %
(

% &"
WalletServiceDbContext

& <
context

= D
)

D E
:

F G
base

H L
(

L M
context

M T
)

T U
{ 
} 
public 

Task 
< 
List 
< 
WalletsWithdrawal &
>& '
>' ($
GetAllWalletsWithdrawals) A
(A B
)B C
=> 

Context 
. 
WalletsWithdrawals &
.& '
AsNoTracking' 3
(3 4
)4 5
.5 6
ToListAsync6 A
(A B
)B C
;C D
public 

Task 
< 
WalletsWithdrawal "
?" #
># $#
GetWalletWithdrawalById% <
(< =
int= @
idA C
)C D
=> 

Context 
. 
WalletsWithdrawals &
.& '
FirstOrDefaultAsync' :
(: ;
x; <
=>= ?
x@ A
.A B
IdB D
==E G
idH J
)J K
;K L
public 

async 
Task 
< 
WalletsWithdrawal '
>' ('
CreateWalletWithdrawalAsync) D
(D E
WalletsWithdrawalE V
requestW ^
)^ _
{ 
var 
today 
= 
DateTime 
. 
Now  
;  !
request 
. 
	CreatedAt 
= 
today !
;! "
request 
. 
	UpdatedAt 
= 
today !
;! "
await 
Context 
. 
AddAsync 
( 
request &
)& '
;' (
await 
Context 
. 
SaveChangesAsync &
(& '
)' (
;( )
return 
request 
; 
} 
public 

async 
Task 
< 
WalletsWithdrawal '
>' ('
UpdateWalletWithdrawalAsync) D
(D E
WalletsWithdrawalE V
requestW ^
)^ _
{ 
var   
today   
=   
DateTime   
.   
Now    
;    !
request!! 
.!! 
	UpdatedAt!! 
=!! 
today!! !
;!!! "
Context"" 
."" 
WalletsWithdrawals"" "
.""" #
Update""# )
("") *
request""* 1
)""1 2
;""2 3
await## 
Context## 
.## 
SaveChangesAsync## &
(##& '
)##' (
;##( )
return%% 
request%% 
;%% 
}&& 
public'' 

async'' 
Task'' 
<'' 
WalletsWithdrawal'' '
>''' ('
DeleteWalletWithdrawalAsync'') D
(''D E
WalletsWithdrawal''E V
request''W ^
)''^ _
{(( 
request)) 
.)) 
	DeletedAt)) 
=)) 
DateTime)) $
.))$ %
Now))% (
;))( )
Context++ 
.++ 
WalletsWithdrawals++ "
.++" #
Update++# )
(++) *
request++* 1
)++1 2
;++2 3
await,, 
Context,, 
.,, 
SaveChangesAsync,, &
(,,& '
),,' (
;,,( )
return.. 
request.. 
;.. 
}// 
}00 “
TC:\HeroSystem\walletService\WalletService.Data\UnitOfWork\IUnitOfWork\IUnitOfWork.cs
	namespace 	
WalletService
 
. 
Data 
. 

UnitOfWork '
.' (
IUnitOfWork( 3
;3 4
public 
	interface 
IUnitOfWork 
{ 
Task 
SaveChangesAsync	 
( 
) 
; 
Task !
BeginTransactionAsync	 
( 
)  
;  !
Task 
CommitAsync	 
( 
) 
; 
Task 
RollbackAsync	 
( 
) 
; 
}		 ¿
GC:\HeroSystem\walletService\WalletService.Data\UnitOfWork\UnitOfWork.cs
	namespace 	
WalletService
 
. 
Data 
. 

UnitOfWork '
;' (
public 
class 

UnitOfWork 
( 
	DbContext !
context" )
)) *
:+ ,
IUnitOfWork- 8
.8 9
IUnitOfWork9 D
{ 
private 
readonly 
	DbContext 
_context '
=( )
context* 1
;1 2
private		 !
IDbContextTransaction		 !
_transaction		" .
;		. /
public 

async 
Task 
SaveChangesAsync &
(& '
)' (
{ 
await 
_context 
. 
SaveChangesAsync '
(' (
)( )
;) *
} 
public 

async 
Task !
BeginTransactionAsync +
(+ ,
), -
{ 
_transaction 
= 
await 
_context %
.% &
Database& .
.. /!
BeginTransactionAsync/ D
(D E
)E F
;F G
} 
public 

async 
Task 
CommitAsync !
(! "
)" #
{ 
try 
{ 	
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
await 
_transaction 
. 
CommitAsync *
(* +
)+ ,
;, -
} 	
finally 
{ 	
await 
_transaction 
. 
DisposeAsync +
(+ ,
), -
;- .
} 	
}   
public"" 

async"" 
Task"" 
RollbackAsync"" #
(""# $
)""$ %
{## 
await$$ 
_transaction$$ 
.$$ 
RollbackAsync$$ (
($$( )
)$$) *
;$$* +
await%% 
_transaction%% 
.%% 
DisposeAsync%% '
(%%' (
)%%( )
;%%) *
}&& 
}'' 